<HTML>
<BODY BGCOLOR="white">
<PRE>
<FONT color="green">001</FONT>    package com.skype.api;<a name="line.1"></a>
<FONT color="green">002</FONT>    <a name="line.2"></a>
<FONT color="green">003</FONT>    import java.io.IOException;<a name="line.3"></a>
<FONT color="green">004</FONT>    import java.util.*;<a name="line.4"></a>
<FONT color="green">005</FONT>    import com.skype.ipc.*;<a name="line.5"></a>
<FONT color="green">006</FONT>    /**<a name="line.6"></a>
<FONT color="green">007</FONT>     * The Conversation class encapsulates all types of communication possible with Skype client. Instant messaging, calls, video calls, file transfers, SMS, screen sharing - all take place within the context of a Conversation. Contacts are represented in Conversation as Participant objects. This also applies to contacts of PSTN type. All events in a conversation are represented as Message objects.  &lt;br&gt;<a name="line.7"></a>
<FONT color="green">008</FONT>     */<a name="line.8"></a>
<FONT color="green">009</FONT>    <a name="line.9"></a>
<FONT color="green">010</FONT>    <a name="line.10"></a>
<FONT color="green">011</FONT>    public class Conversation extends SkypeObject {<a name="line.11"></a>
<FONT color="green">012</FONT>    <a name="line.12"></a>
<FONT color="green">013</FONT>    <a name="line.13"></a>
<FONT color="green">014</FONT>            public interface ConversationListener {<a name="line.14"></a>
<FONT color="green">015</FONT>                    /** This event gets called when there are changes to Conversation properties defined in Conversation.PROPERTY  */<a name="line.15"></a>
<FONT color="green">016</FONT>                    public void OnPropertyChange(SkypeObject obj, PROPERTY prop, Object value);<a name="line.16"></a>
<FONT color="green">017</FONT>                    <a name="line.17"></a>
<FONT color="green">018</FONT>                    /**This callback gets fired when participants join or leave the conversation. &lt;br&gt;*/<a name="line.18"></a>
<FONT color="green">019</FONT>                    public void OnParticipantListChange(SkypeObject obj);<a name="line.19"></a>
<FONT color="green">020</FONT>                    <a name="line.20"></a>
<FONT color="green">021</FONT>                    /**Called for each message in currently loaded conversations*/<a name="line.21"></a>
<FONT color="green">022</FONT>                    public void OnMessage(SkypeObject obj, Message message);<a name="line.22"></a>
<FONT color="green">023</FONT>                    <a name="line.23"></a>
<FONT color="green">024</FONT>                    /**This callback gets fired when a new Conversation is created using SpawnConference. &lt;br&gt;*/<a name="line.24"></a>
<FONT color="green">025</FONT>                    public void OnSpawnConference(SkypeObject obj, Conversation spawned);<a name="line.25"></a>
<FONT color="green">026</FONT>                    <a name="line.26"></a>
<FONT color="green">027</FONT>            }<a name="line.27"></a>
<FONT color="green">028</FONT>            <a name="line.28"></a>
<FONT color="green">029</FONT>            public Conversation(int oid, Skype skype) {<a name="line.29"></a>
<FONT color="green">030</FONT>                    super(oid,skype);<a name="line.30"></a>
<FONT color="green">031</FONT>                    /**get default properties for this module **/<a name="line.31"></a>
<FONT color="green">032</FONT>                    GetDefaultProps();<a name="line.32"></a>
<FONT color="green">033</FONT>            }<a name="line.33"></a>
<FONT color="green">034</FONT>            <a name="line.34"></a>
<FONT color="green">035</FONT>            private static final int MODULE_ID = 18;<a name="line.35"></a>
<FONT color="green">036</FONT>            <a name="line.36"></a>
<FONT color="green">037</FONT>            public static final int moduleID() {<a name="line.37"></a>
<FONT color="green">038</FONT>                    return MODULE_ID;<a name="line.38"></a>
<FONT color="green">039</FONT>            }<a name="line.39"></a>
<FONT color="green">040</FONT>            <a name="line.40"></a>
<FONT color="green">041</FONT>            /** Properties of the Conversation class */<a name="line.41"></a>
<FONT color="green">042</FONT>            public enum PROPERTY {<a name="line.42"></a>
<FONT color="green">043</FONT>            <a name="line.43"></a>
<FONT color="green">044</FONT>                    /** contact identity in case of dialogs, chat name in case of conferences, type: String */<a name="line.44"></a>
<FONT color="green">045</FONT>                    identity(972),<a name="line.45"></a>
<FONT color="green">046</FONT>                    <a name="line.46"></a>
<FONT color="green">047</FONT>                    /** type of the conversation, type: Conversation.TYPE */<a name="line.47"></a>
<FONT color="green">048</FONT>                    type(902),<a name="line.48"></a>
<FONT color="green">049</FONT>                    <a name="line.49"></a>
<FONT color="green">050</FONT>                    /** host of current live session. none =&gt; no session. myself in case of 1:1 calls, type: String */<a name="line.50"></a>
<FONT color="green">051</FONT>                    live_host(918),<a name="line.51"></a>
<FONT color="green">052</FONT>                    <a name="line.52"></a>
<FONT color="green">053</FONT>                    /** moment when first participant other than host joined the current or last live session, type: int */<a name="line.53"></a>
<FONT color="green">054</FONT>                    live_start_timestamp(974),<a name="line.54"></a>
<FONT color="green">055</FONT>                    <a name="line.55"></a>
<FONT color="green">056</FONT>                    /** if live session is muted, type: boolean */<a name="line.56"></a>
<FONT color="green">057</FONT>                    live_is_muted(996),<a name="line.57"></a>
<FONT color="green">058</FONT>                    <a name="line.58"></a>
<FONT color="green">059</FONT>                    /** '' everything matches, '=' nothing matches, '=string' string matches, type: String */<a name="line.59"></a>
<FONT color="green">060</FONT>                    alert_string(920),<a name="line.60"></a>
<FONT color="green">061</FONT>                    <a name="line.61"></a>
<FONT color="green">062</FONT>                    /** if conversation is bookmarked/flagged, type: boolean */<a name="line.62"></a>
<FONT color="green">063</FONT>                    is_bookmarked(921),<a name="line.63"></a>
<FONT color="green">064</FONT>                    <a name="line.64"></a>
<FONT color="green">065</FONT>                    /** name assigned via GiveDisplayname, type: String */<a name="line.65"></a>
<FONT color="green">066</FONT>                    given_displayname(925),<a name="line.66"></a>
<FONT color="green">067</FONT>                    <a name="line.67"></a>
<FONT color="green">068</FONT>                    /** resulting display name of the conversation (based on given name, topic, participant list, etc), type: String */<a name="line.68"></a>
<FONT color="green">069</FONT>                    displayname(924),<a name="line.69"></a>
<FONT color="green">070</FONT>                    <a name="line.70"></a>
<FONT color="green">071</FONT>                    /** if the conversation is live and in which status it is then, type: LOCAL_LIVESTATUS */<a name="line.71"></a>
<FONT color="green">072</FONT>                    local_livestatus(927),<a name="line.72"></a>
<FONT color="green">073</FONT>                    <a name="line.73"></a>
<FONT color="green">074</FONT>                    /** timestamp to sort the conversations in inbox by. 0 means not in inbox, type: int */<a name="line.74"></a>
<FONT color="green">075</FONT>                    inbox_timestamp(928),<a name="line.75"></a>
<FONT color="green">076</FONT>                    <a name="line.76"></a>
<FONT color="green">077</FONT>                    /** ID of the message that caused INBOX_TIMESTAMP to be set, type: Message */<a name="line.77"></a>
<FONT color="green">078</FONT>                    inbox_message_id(973),<a name="line.78"></a>
<FONT color="green">079</FONT>                    <a name="line.79"></a>
<FONT color="green">080</FONT>                    /** number of messages in UNCONSUMED_SUPPRESSED consumption status, type: int */<a name="line.80"></a>
<FONT color="green">081</FONT>                    unconsumed_suppressed_messages(975),<a name="line.81"></a>
<FONT color="green">082</FONT>                    <a name="line.82"></a>
<FONT color="green">083</FONT>                    /** number of messages in UNCONSUMED_NORMAL consumption status, type: int */<a name="line.83"></a>
<FONT color="green">084</FONT>                    unconsumed_normal_messages(976),<a name="line.84"></a>
<FONT color="green">085</FONT>                    <a name="line.85"></a>
<FONT color="green">086</FONT>                    /** DEPRECATED, not set anymore, type: int */<a name="line.86"></a>
<FONT color="green">087</FONT>                    unconsumed_elevated_messages(977),<a name="line.87"></a>
<FONT color="green">088</FONT>                    <a name="line.88"></a>
<FONT color="green">089</FONT>                    /** if there are unconsumed voice or call messages in the conversation, type: boolean */<a name="line.89"></a>
<FONT color="green">090</FONT>                    unconsumed_messages_voice(970),<a name="line.90"></a>
<FONT color="green">091</FONT>                    <a name="line.91"></a>
<FONT color="green">092</FONT>                    /** ID of voice message that is being played or recorded in this conversation, type: Voicemail */<a name="line.92"></a>
<FONT color="green">093</FONT>                    active_vm_id(971),<a name="line.93"></a>
<FONT color="green">094</FONT>                    <a name="line.94"></a>
<FONT color="green">095</FONT>                    /** consumption cutoff timestamp: messages after (but not including) this are considered unconsumed, type: int */<a name="line.95"></a>
<FONT color="green">096</FONT>                    consumption_horizon(979),<a name="line.96"></a>
<FONT color="green">097</FONT>                    <a name="line.97"></a>
<FONT color="green">098</FONT>                    /** timestamp of last activity in conversation, type: int */<a name="line.98"></a>
<FONT color="green">099</FONT>                    last_activity_timestamp(981),<a name="line.99"></a>
<FONT color="green">100</FONT>                    <a name="line.100"></a>
<FONT color="green">101</FONT>                    /** dialog this conference was spawned from, type: Conversation */<a name="line.101"></a>
<FONT color="green">102</FONT>                    spawned_from_convo_id(915),<a name="line.102"></a>
<FONT color="green">103</FONT>                    <a name="line.103"></a>
<FONT color="green">104</FONT>                    /** identity of conversation creator (doesn't apply to dialogs), type: String */<a name="line.104"></a>
<FONT color="green">105</FONT>                    creator(903),<a name="line.105"></a>
<FONT color="green">106</FONT>                    <a name="line.106"></a>
<FONT color="green">107</FONT>                    /** timestamp of creation, tells you how far you can retrieve messages, type: int */<a name="line.107"></a>
<FONT color="green">108</FONT>                    creation_timestamp(904),<a name="line.108"></a>
<FONT color="green">109</FONT>                    <a name="line.109"></a>
<FONT color="green">110</FONT>                    /** my status in this conversation (connecting, participating, retired, etc) (doesn't apply to dialogs), type: MY_STATUS */<a name="line.110"></a>
<FONT color="green">111</FONT>                    my_status(919),<a name="line.111"></a>
<FONT color="green">112</FONT>                    <a name="line.112"></a>
<FONT color="green">113</FONT>                    /** if it's a public conversation (doesn't apply to dialogs), type: boolean */<a name="line.113"></a>
<FONT color="green">114</FONT>                    opt_joining_enabled(922),<a name="line.114"></a>
<FONT color="green">115</FONT>                    <a name="line.115"></a>
<FONT color="green">116</FONT>                    /** rank that is auto-assigned at join (doesn't apply to dialogs), type: Participant.RANK */<a name="line.116"></a>
<FONT color="green">117</FONT>                    opt_entry_level_rank(906),<a name="line.117"></a>
<FONT color="green">118</FONT>                    <a name="line.118"></a>
<FONT color="green">119</FONT>                    /** if history visible to new consumers (doesn't apply to dialogs), type: boolean */<a name="line.119"></a>
<FONT color="green">120</FONT>                    opt_disclose_history(907),<a name="line.120"></a>
<FONT color="green">121</FONT>                    <a name="line.121"></a>
<FONT color="green">122</FONT>                    /** activities that only ADMIN can do. Bitmap of ALLOWED_ACTIVITY values (doesn't apply to dialogs), type: ALLOWED_ACTIVITY */<a name="line.122"></a>
<FONT color="green">123</FONT>                    opt_admin_only_activities(909),<a name="line.123"></a>
<FONT color="green">124</FONT>                    <a name="line.124"></a>
<FONT color="green">125</FONT>                    /** public conversation password hint, use SetPassword to set (doesn't apply to dialogs), type: String */<a name="line.125"></a>
<FONT color="green">126</FONT>                    passwordhint(980),<a name="line.126"></a>
<FONT color="green">127</FONT>                    <a name="line.127"></a>
<FONT color="green">128</FONT>                    /** user-set name, separate from topic (doesn't apply to dialogs), type: String */<a name="line.128"></a>
<FONT color="green">129</FONT>                    meta_name(910),<a name="line.129"></a>
<FONT color="green">130</FONT>                    <a name="line.130"></a>
<FONT color="green">131</FONT>                    /** conversation topic (doesn't apply to dialogs), type: String */<a name="line.131"></a>
<FONT color="green">132</FONT>                    meta_topic(911),<a name="line.132"></a>
<FONT color="green">133</FONT>                    <a name="line.133"></a>
<FONT color="green">134</FONT>                    /** guidelines (doesn't apply to dialogs), type: String */<a name="line.134"></a>
<FONT color="green">135</FONT>                    meta_guidelines(913),<a name="line.135"></a>
<FONT color="green">136</FONT>                    <a name="line.136"></a>
<FONT color="green">137</FONT>                    /** conversation picture, in jpeg format (doesn't apply to dialogs), type: byte[] */<a name="line.137"></a>
<FONT color="green">138</FONT>                    meta_picture(914);<a name="line.138"></a>
<FONT color="green">139</FONT>                    <a name="line.139"></a>
<FONT color="green">140</FONT>                    private static final Map&lt;Integer,PROPERTY&gt; lookup = new HashMap&lt;Integer,PROPERTY&gt;();<a name="line.140"></a>
<FONT color="green">141</FONT>                    <a name="line.141"></a>
<FONT color="green">142</FONT>                    static {<a name="line.142"></a>
<FONT color="green">143</FONT>                            for(PROPERTY s : EnumSet.allOf(PROPERTY.class))<a name="line.143"></a>
<FONT color="green">144</FONT>                                    lookup.put(s.getId(), s);<a name="line.144"></a>
<FONT color="green">145</FONT>                    }<a name="line.145"></a>
<FONT color="green">146</FONT>                    <a name="line.146"></a>
<FONT color="green">147</FONT>                    private final int id;<a name="line.147"></a>
<FONT color="green">148</FONT>                    <a name="line.148"></a>
<FONT color="green">149</FONT>                    private PROPERTY(int value) {<a name="line.149"></a>
<FONT color="green">150</FONT>                            this.id = value;<a name="line.150"></a>
<FONT color="green">151</FONT>                    }<a name="line.151"></a>
<FONT color="green">152</FONT>                    <a name="line.152"></a>
<FONT color="green">153</FONT>                    public int getId() { return id; }<a name="line.153"></a>
<FONT color="green">154</FONT>                    <a name="line.154"></a>
<FONT color="green">155</FONT>                    public static PROPERTY get(int code) {<a name="line.155"></a>
<FONT color="green">156</FONT>                            return lookup.get(code);<a name="line.156"></a>
<FONT color="green">157</FONT>                    }<a name="line.157"></a>
<FONT color="green">158</FONT>                    <a name="line.158"></a>
<FONT color="green">159</FONT>                    public static PROPERTY fromString(String s) {<a name="line.159"></a>
<FONT color="green">160</FONT>                            for (PROPERTY p : lookup.values()) {<a name="line.160"></a>
<FONT color="green">161</FONT>                                    if (p.toString() == s) {<a name="line.161"></a>
<FONT color="green">162</FONT>                                            return p;<a name="line.162"></a>
<FONT color="green">163</FONT>                                    }<a name="line.163"></a>
<FONT color="green">164</FONT>                            }<a name="line.164"></a>
<FONT color="green">165</FONT>                            return null;<a name="line.165"></a>
<FONT color="green">166</FONT>                    }<a name="line.166"></a>
<FONT color="green">167</FONT>            }<a name="line.167"></a>
<FONT color="green">168</FONT>            <a name="line.168"></a>
<FONT color="green">169</FONT>            public Object GetPropertyAsEnum(int propid) {<a name="line.169"></a>
<FONT color="green">170</FONT>                    return PROPERTY.get(propid);<a name="line.170"></a>
<FONT color="green">171</FONT>            }<a name="line.171"></a>
<FONT color="green">172</FONT>            <a name="line.172"></a>
<FONT color="green">173</FONT>            public String GetStrProperty(PROPERTY prop) {<a name="line.173"></a>
<FONT color="green">174</FONT>                    //check in propcache if so then return<a name="line.174"></a>
<FONT color="green">175</FONT>                    if (mPropCache.containsKey(new Integer(prop.id))){<a name="line.175"></a>
<FONT color="green">176</FONT>                            String value =  (String)mPropCache.get(prop.id);<a name="line.176"></a>
<FONT color="green">177</FONT>                            if (value != null &amp;&amp; !(value.length() == 0) ){<a name="line.177"></a>
<FONT color="green">178</FONT>                                    return value;<a name="line.178"></a>
<FONT color="green">179</FONT>                            }<a name="line.179"></a>
<FONT color="green">180</FONT>                    }<a name="line.180"></a>
<FONT color="green">181</FONT>                    //else get from skypekit...<a name="line.181"></a>
<FONT color="green">182</FONT>                    GetPropertyRequest request = new GetPropertyRequest(18, mObjectId, prop.id);<a name="line.182"></a>
<FONT color="green">183</FONT>                    <a name="line.183"></a>
<FONT color="green">184</FONT>                    String string = null;<a name="line.184"></a>
<FONT color="green">185</FONT>                    GetPropertyResponse r = skype.GetProperty(request);<a name="line.185"></a>
<FONT color="green">186</FONT>                    if (r != null){<a name="line.186"></a>
<FONT color="green">187</FONT>                            string = r.GetAsString();<a name="line.187"></a>
<FONT color="green">188</FONT>                    }<a name="line.188"></a>
<FONT color="green">189</FONT>                    <a name="line.189"></a>
<FONT color="green">190</FONT>                    if (string != null)<a name="line.190"></a>
<FONT color="green">191</FONT>                    {<a name="line.191"></a>
<FONT color="green">192</FONT>                            mPropCache.put(new Integer(prop.id), string);<a name="line.192"></a>
<FONT color="green">193</FONT>                    }<a name="line.193"></a>
<FONT color="green">194</FONT>                    return string;<a name="line.194"></a>
<FONT color="green">195</FONT>            }<a name="line.195"></a>
<FONT color="green">196</FONT>            <a name="line.196"></a>
<FONT color="green">197</FONT>            public int GetIntProperty(PROPERTY prop) {<a name="line.197"></a>
<FONT color="green">198</FONT>                    //check in propcache if so then return<a name="line.198"></a>
<FONT color="green">199</FONT>                    if (mPropCache.containsKey(new Integer(prop.id))){<a name="line.199"></a>
<FONT color="green">200</FONT>                            int value = ((Integer)mPropCache.get(prop.id)).intValue();<a name="line.200"></a>
<FONT color="green">201</FONT>                            if (value != 0){<a name="line.201"></a>
<FONT color="green">202</FONT>                                    return value;<a name="line.202"></a>
<FONT color="green">203</FONT>                            }<a name="line.203"></a>
<FONT color="green">204</FONT>                    }<a name="line.204"></a>
<FONT color="green">205</FONT>                    //else get from skypekit...<a name="line.205"></a>
<FONT color="green">206</FONT>                    GetPropertyRequest request = new GetPropertyRequest(moduleID(), mObjectId, prop.id);<a name="line.206"></a>
<FONT color="green">207</FONT>                    <a name="line.207"></a>
<FONT color="green">208</FONT>                    Integer integer = null;<a name="line.208"></a>
<FONT color="green">209</FONT>                    GetPropertyResponse r = skype.GetProperty(request);<a name="line.209"></a>
<FONT color="green">210</FONT>                    if (r != null){<a name="line.210"></a>
<FONT color="green">211</FONT>                            integer  = r.GetAsInt();<a name="line.211"></a>
<FONT color="green">212</FONT>                    }<a name="line.212"></a>
<FONT color="green">213</FONT>                    <a name="line.213"></a>
<FONT color="green">214</FONT>                    if (integer != null)<a name="line.214"></a>
<FONT color="green">215</FONT>                    {<a name="line.215"></a>
<FONT color="green">216</FONT>                            mPropCache.put(new Integer(prop.id), integer);<a name="line.216"></a>
<FONT color="green">217</FONT>                            return integer.intValue();<a name="line.217"></a>
<FONT color="green">218</FONT>                    }<a name="line.218"></a>
<FONT color="green">219</FONT>                    else<a name="line.219"></a>
<FONT color="green">220</FONT>                    {<a name="line.220"></a>
<FONT color="green">221</FONT>                            return 0;<a name="line.221"></a>
<FONT color="green">222</FONT>                    }<a name="line.222"></a>
<FONT color="green">223</FONT>            }<a name="line.223"></a>
<FONT color="green">224</FONT>            <a name="line.224"></a>
<FONT color="green">225</FONT>            public boolean GetBooleanProperty(PROPERTY prop) {<a name="line.225"></a>
<FONT color="green">226</FONT>                    //check in propcache if so then return<a name="line.226"></a>
<FONT color="green">227</FONT>                    if (mPropCache.containsKey(new Integer(prop.id))){<a name="line.227"></a>
<FONT color="green">228</FONT>                            return ((Boolean)mPropCache.get(prop.id)).booleanValue();<a name="line.228"></a>
<FONT color="green">229</FONT>                    }<a name="line.229"></a>
<FONT color="green">230</FONT>                    //else get from skypekit...<a name="line.230"></a>
<FONT color="green">231</FONT>                    GetPropertyRequest request = new GetPropertyRequest(moduleID(), mObjectId, prop.id);<a name="line.231"></a>
<FONT color="green">232</FONT>                    <a name="line.232"></a>
<FONT color="green">233</FONT>                    Boolean boolResp = null;<a name="line.233"></a>
<FONT color="green">234</FONT>                    GetPropertyResponse r = skype.GetProperty(request);<a name="line.234"></a>
<FONT color="green">235</FONT>                    if (r != null){<a name="line.235"></a>
<FONT color="green">236</FONT>                            boolResp  = r.GetAsBoolean();<a name="line.236"></a>
<FONT color="green">237</FONT>                    }<a name="line.237"></a>
<FONT color="green">238</FONT>                    <a name="line.238"></a>
<FONT color="green">239</FONT>                    if (boolResp != null)<a name="line.239"></a>
<FONT color="green">240</FONT>                    {<a name="line.240"></a>
<FONT color="green">241</FONT>                            mPropCache.put(new Integer(prop.id), boolResp);<a name="line.241"></a>
<FONT color="green">242</FONT>                            return boolResp.booleanValue();<a name="line.242"></a>
<FONT color="green">243</FONT>                    }<a name="line.243"></a>
<FONT color="green">244</FONT>                    else<a name="line.244"></a>
<FONT color="green">245</FONT>                    {<a name="line.245"></a>
<FONT color="green">246</FONT>                            return false;<a name="line.246"></a>
<FONT color="green">247</FONT>                    }<a name="line.247"></a>
<FONT color="green">248</FONT>            }<a name="line.248"></a>
<FONT color="green">249</FONT>            <a name="line.249"></a>
<FONT color="green">250</FONT>            public byte [] GetBinProperty(PROPERTY prop) {<a name="line.250"></a>
<FONT color="green">251</FONT>                    //get from skypekit...<a name="line.251"></a>
<FONT color="green">252</FONT>                    GetPropertyRequest request = new GetPropertyRequest(18, mObjectId, prop.id);<a name="line.252"></a>
<FONT color="green">253</FONT>                    <a name="line.253"></a>
<FONT color="green">254</FONT>                    byte [] data = null;<a name="line.254"></a>
<FONT color="green">255</FONT>                    GetPropertyResponse r = skype.GetProperty(request);<a name="line.255"></a>
<FONT color="green">256</FONT>                    if (r != null) {<a name="line.256"></a>
<FONT color="green">257</FONT>                            data = r.GetAsBinary();<a name="line.257"></a>
<FONT color="green">258</FONT>                    }<a name="line.258"></a>
<FONT color="green">259</FONT>                    return data;<a name="line.259"></a>
<FONT color="green">260</FONT>            }<a name="line.260"></a>
<FONT color="green">261</FONT>            <a name="line.261"></a>
<FONT color="green">262</FONT>            /**default array of Conversation Properties that get fetched &amp; cached upon class construction*/<a name="line.262"></a>
<FONT color="green">263</FONT>            private static PROPERTY [] defaultProperties = { PROPERTY.identity, PROPERTY.type, PROPERTY.given_displayname, PROPERTY.displayname, PROPERTY.last_activity_timestamp, PROPERTY.live_host, PROPERTY.consumption_horizon, PROPERTY.unconsumed_suppressed_messages, PROPERTY.unconsumed_normal_messages};<a name="line.263"></a>
<FONT color="green">264</FONT>            <a name="line.264"></a>
<FONT color="green">265</FONT>            private void GetDefaultProps() {<a name="line.265"></a>
<FONT color="green">266</FONT>                    MultiGetPropertyRequest request = null;<a name="line.266"></a>
<FONT color="green">267</FONT>                    ArrayList&lt;Integer&gt; proparray = null;<a name="line.267"></a>
<FONT color="green">268</FONT>                            /**Add the single oid into array*/<a name="line.268"></a>
<FONT color="green">269</FONT>                            ArrayList&lt;Integer&gt; oidarray=new ArrayList&lt;Integer&gt;();<a name="line.269"></a>
<FONT color="green">270</FONT>                            oidarray.add(mObjectId);<a name="line.270"></a>
<FONT color="green">271</FONT>                            <a name="line.271"></a>
<FONT color="green">272</FONT>                            /**Add all requested propids into array*/<a name="line.272"></a>
<FONT color="green">273</FONT>                            proparray=new ArrayList&lt;Integer&gt;();<a name="line.273"></a>
<FONT color="green">274</FONT>                            for (PROPERTY defaultProp : defaultProperties) {<a name="line.274"></a>
<FONT color="green">275</FONT>                                    proparray.add(defaultProp.getId());<a name="line.275"></a>
<FONT color="green">276</FONT>                            }<a name="line.276"></a>
<FONT color="green">277</FONT>                            /**Generate the request*/<a name="line.277"></a>
<FONT color="green">278</FONT>                            request = new MultiGetPropertyRequest(moduleID(), oidarray,proparray);<a name="line.278"></a>
<FONT color="green">279</FONT>                            <a name="line.279"></a>
<FONT color="green">280</FONT>                            /** Make Multi Get call*/<a name="line.280"></a>
<FONT color="green">281</FONT>                            GetPropertyResponse r=skype.MultiGetProperty(request);<a name="line.281"></a>
<FONT color="green">282</FONT>                            /**Verify that it is a proper multiresponse*/<a name="line.282"></a>
<FONT color="green">283</FONT>                            if(!r.isMultiresponse())<a name="line.283"></a>
<FONT color="green">284</FONT>                            {<a name="line.284"></a>
<FONT color="green">285</FONT>                                    return;<a name="line.285"></a>
<FONT color="green">286</FONT>                            }<a name="line.286"></a>
<FONT color="green">287</FONT>                            /**update property cache with results*/<a name="line.287"></a>
<FONT color="green">288</FONT>                            mPropCache.putAll(r.GetAsMap(mObjectId, proparray));<a name="line.288"></a>
<FONT color="green">289</FONT>                    }<a name="line.289"></a>
<FONT color="green">290</FONT>                    <a name="line.290"></a>
<FONT color="green">291</FONT>                    /** Setupkey SETUPKEY_ENABLE_BIRTHDAY_NOTIFICATION type:int default value:"1" &lt;br&gt;Enables/disables birthday notification messages. &lt;br&gt; - 0 - disable;  &lt;br&gt; - 1 - enable; &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.291"></a>
<FONT color="green">292</FONT>                    public static final String ENABLE_BIRTHDAY_NOTIFICATION = "Lib/Conversation/EnableBirthday";<a name="line.292"></a>
<FONT color="green">293</FONT>                    <a name="line.293"></a>
<FONT color="green">294</FONT>                    /** Setupkey SETUPKEY_INBOX_UPDATE_TIMEOUT type:int  &lt;br&gt;Timeout in seconds, how old the Conversation.P_INBOX_TIMESTAMP has to be for it to be re-sorted in the inbox. &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.294"></a>
<FONT color="green">295</FONT>                    public static final String INBOX_UPDATE_TIMEOUT = "Lib/Conversation/InboxUpdateTimeout";<a name="line.295"></a>
<FONT color="green">296</FONT>                    <a name="line.296"></a>
<FONT color="green">297</FONT>                    /** Setupkey SETUPKEY_RECENTLY_LIVE_TIMEOUT type:int default value:"20" &lt;br&gt;The number of seconds a formerly live conversation will remain the Conversation.LIVE_CONVERSATIONS filter. Note that while the conversation remains in Conversation.LIVE_CONVERSATIONS filter, Skype.OnConversationListChange events will not fire if there is another call coming up within the same conversation. Seeting this key to 0 will cause conversations to exit the Conversation.LIVE_CONVERSATIONS list immediately, after live state drops. &lt;br&gt;&lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.297"></a>
<FONT color="green">298</FONT>                    public static final String RECENTLY_LIVE_TIMEOUT = "Lib/Conversation/RecentlyLiveTimeout";<a name="line.298"></a>
<FONT color="green">299</FONT>                    <a name="line.299"></a>
<FONT color="green">300</FONT>                    /** Setupkey SETUPKEY_DISABLE_CHAT type:int  Disables chat (for voice only clients). &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.300"></a>
<FONT color="green">301</FONT>                    public static final String DISABLE_CHAT = "Lib/Chat/DisableChat";<a name="line.301"></a>
<FONT color="green">302</FONT>                    <a name="line.302"></a>
<FONT color="green">303</FONT>                    /** Setupkey SETUPKEY_DISABLE_CHAT_HISTORY type:int  &lt;br&gt;Disables storage of chat history. &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.303"></a>
<FONT color="green">304</FONT>                    public static final String DISABLE_CHAT_HISTORY = "Lib/Message/DisableHistory";<a name="line.304"></a>
<FONT color="green">305</FONT>                    <a name="line.305"></a>
<FONT color="green">306</FONT>                    /** Setupkey SETUPKEY_CHAT_HISTORY_DAYS type:int  &lt;br&gt;Time limit for keeping local chat message history. &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.306"></a>
<FONT color="green">307</FONT>                    public static final String CHAT_HISTORY_DAYS = "Lib/Chat/HistoryDays";<a name="line.307"></a>
<FONT color="green">308</FONT>                    <a name="line.308"></a>
<FONT color="green">309</FONT>                    /** Setupkey SETUPKEY_CHATDB_LIMIT_KB type:int default value:"0" Use this key to limit the size of the chat db. Value is in KB. By default there is no limit. A minimum of 16 MB is recommended. */<a name="line.309"></a>
<FONT color="green">310</FONT>                    public static final String CHATDB_LIMIT_KB = "Lib/Chat/ChatDBLimitKb";<a name="line.310"></a>
<FONT color="green">311</FONT>                    <a name="line.311"></a>
<FONT color="green">312</FONT>                    /** Setupkey SETUPKEY_DISABLE_CHAT_ACTIVITY_INDICATION type:int  &lt;br&gt;Enables/disables transmitting typing indicator signals to othe participants of conversations. &lt;br&gt; - 0 - disable;  &lt;br&gt; - 1 - enable; &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.312"></a>
<FONT color="green">313</FONT>                    public static final String DISABLE_CHAT_ACTIVITY_INDICATION = "Lib/Chat/DisableActivityIndication";<a name="line.313"></a>
<FONT color="green">314</FONT>                    <a name="line.314"></a>
<FONT color="green">315</FONT>                    /** Setupkey SETUPKEY_CALL_NOANSWER_TIMEOUT type:int default value:"15" &lt;br&gt;Timeout in seconds after which the incoming live session will stop ringing (and if possible, proceed to voicemail or call forward). &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.315"></a>
<FONT color="green">316</FONT>                    public static final String CALL_NOANSWER_TIMEOUT = "Lib/Call/NoAnswerTimeout";<a name="line.316"></a>
<FONT color="green">317</FONT>                    <a name="line.317"></a>
<FONT color="green">318</FONT>                    /** Setupkey SETUPKEY_CALL_SEND_TO_VM type:int  &lt;br&gt;Autoforwarding of incoming calls to voicemail. &lt;br&gt; - 0 - off &lt;br&gt; - 1 - on &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.318"></a>
<FONT color="green">319</FONT>                    public static final String CALL_SEND_TO_VM = "Lib/Call/SendToVM";<a name="line.319"></a>
<FONT color="green">320</FONT>                    <a name="line.320"></a>
<FONT color="green">321</FONT>                    /** Setupkey SETUPKEY_CALL_APPLY_CF type:int  &lt;br&gt;Enables/disables call forwarding. &lt;br&gt; - 0 - disable;  &lt;br&gt; - 1 - enable; &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.321"></a>
<FONT color="green">322</FONT>                    public static final String CALL_APPLY_CF = "Lib/Call/ApplyCF";<a name="line.322"></a>
<FONT color="green">323</FONT>                    <a name="line.323"></a>
<FONT color="green">324</FONT>                    /** Setupkey SETUPKEY_CALL_EMERGENCY_COUNTRY type:string  &lt;br&gt;Country code for emergency calls &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.324"></a>
<FONT color="green">325</FONT>                    public static final String CALL_EMERGENCY_COUNTRY = "Lib/Call/EmergencyCountry";<a name="line.325"></a>
<FONT color="green">326</FONT>                    <a name="line.326"></a>
<FONT color="green">327</FONT>                    /**<a name="line.327"></a>
<FONT color="green">328</FONT>                     */<a name="line.328"></a>
<FONT color="green">329</FONT>                    public enum TYPE {<a name="line.329"></a>
<FONT color="green">330</FONT>                    <a name="line.330"></a>
<FONT color="green">331</FONT>                            /** 1:1 conversations, there is a one dialog per identity*/<a name="line.331"></a>
<FONT color="green">332</FONT>                            DIALOG(1),<a name="line.332"></a>
<FONT color="green">333</FONT>                            <a name="line.333"></a>
<FONT color="green">334</FONT>                            /** equivalent of a multichat*/<a name="line.334"></a>
<FONT color="green">335</FONT>                            CONFERENCE(2),<a name="line.335"></a>
<FONT color="green">336</FONT>                            <a name="line.336"></a>
<FONT color="green">337</FONT>                            /** a conference that has been terminated (disbanded chat)*/<a name="line.337"></a>
<FONT color="green">338</FONT>                            TERMINATED_CONFERENCE(3),<a name="line.338"></a>
<FONT color="green">339</FONT>                            <a name="line.339"></a>
<FONT color="green">340</FONT>                            /** voice-only conference, when host is using a legacy non-conversation client*/<a name="line.340"></a>
<FONT color="green">341</FONT>                            LEGACY_VOICE_CONFERENCE(4),<a name="line.341"></a>
<FONT color="green">342</FONT>                            <a name="line.342"></a>
<FONT color="green">343</FONT>                            /** chat used for legacy shared groups, can be ignored*/<a name="line.343"></a>
<FONT color="green">344</FONT>                            LEGACY_SHAREDGROUP(5);<a name="line.344"></a>
<FONT color="green">345</FONT>                            <a name="line.345"></a>
<FONT color="green">346</FONT>                            private static final Map&lt;Integer,TYPE&gt; lookup = new HashMap&lt;Integer,TYPE&gt;();<a name="line.346"></a>
<FONT color="green">347</FONT>                            <a name="line.347"></a>
<FONT color="green">348</FONT>                            static {<a name="line.348"></a>
<FONT color="green">349</FONT>                                    for(TYPE s : EnumSet.allOf(TYPE.class))<a name="line.349"></a>
<FONT color="green">350</FONT>                                            lookup.put(s.getId(), s);<a name="line.350"></a>
<FONT color="green">351</FONT>                            }<a name="line.351"></a>
<FONT color="green">352</FONT>                            <a name="line.352"></a>
<FONT color="green">353</FONT>                            private final int id;<a name="line.353"></a>
<FONT color="green">354</FONT>                            <a name="line.354"></a>
<FONT color="green">355</FONT>                            private TYPE(int value) {<a name="line.355"></a>
<FONT color="green">356</FONT>                                    this.id = value;<a name="line.356"></a>
<FONT color="green">357</FONT>                            }<a name="line.357"></a>
<FONT color="green">358</FONT>                            <a name="line.358"></a>
<FONT color="green">359</FONT>                            public int getId() { return id; }<a name="line.359"></a>
<FONT color="green">360</FONT>                            <a name="line.360"></a>
<FONT color="green">361</FONT>                            public static TYPE get(int code) {<a name="line.361"></a>
<FONT color="green">362</FONT>                                    return lookup.get(code);<a name="line.362"></a>
<FONT color="green">363</FONT>                            }<a name="line.363"></a>
<FONT color="green">364</FONT>                            <a name="line.364"></a>
<FONT color="green">365</FONT>                            public static TYPE fromString(String s) {<a name="line.365"></a>
<FONT color="green">366</FONT>                                    for (TYPE p : lookup.values()) {<a name="line.366"></a>
<FONT color="green">367</FONT>                                            if (p.toString() == s) {<a name="line.367"></a>
<FONT color="green">368</FONT>                                                    return p;<a name="line.368"></a>
<FONT color="green">369</FONT>                                            }<a name="line.369"></a>
<FONT color="green">370</FONT>                                    }<a name="line.370"></a>
<FONT color="green">371</FONT>                                    return null;<a name="line.371"></a>
<FONT color="green">372</FONT>                            }<a name="line.372"></a>
<FONT color="green">373</FONT>                    }<a name="line.373"></a>
<FONT color="green">374</FONT>                    <a name="line.374"></a>
<FONT color="green">375</FONT>                    /**<a name="line.375"></a>
<FONT color="green">376</FONT>                     */<a name="line.376"></a>
<FONT color="green">377</FONT>                    public enum MY_STATUS {<a name="line.377"></a>
<FONT color="green">378</FONT>                    <a name="line.378"></a>
<FONT color="green">379</FONT>                            /** connecting to conference*/<a name="line.379"></a>
<FONT color="green">380</FONT>                            CONNECTING(1),<a name="line.380"></a>
<FONT color="green">381</FONT>                            <a name="line.381"></a>
<FONT color="green">382</FONT>                            /** */<a name="line.382"></a>
<FONT color="green">383</FONT>                            RETRY_CONNECTING(2),<a name="line.383"></a>
<FONT color="green">384</FONT>                            <a name="line.384"></a>
<FONT color="green">385</FONT>                            /** unused*/<a name="line.385"></a>
<FONT color="green">386</FONT>                            DOWNLOADING_MESSAGES(3),<a name="line.386"></a>
<FONT color="green">387</FONT>                            <a name="line.387"></a>
<FONT color="green">388</FONT>                            /** conference is full for now, being queued*/<a name="line.388"></a>
<FONT color="green">389</FONT>                            QUEUED_TO_ENTER(4),<a name="line.389"></a>
<FONT color="green">390</FONT>                            <a name="line.390"></a>
<FONT color="green">391</FONT>                            /** I'm applying to join the conference*/<a name="line.391"></a>
<FONT color="green">392</FONT>                            APPLICANT(5),<a name="line.392"></a>
<FONT color="green">393</FONT>                            <a name="line.393"></a>
<FONT color="green">394</FONT>                            /** My application to join the conference was denied*/<a name="line.394"></a>
<FONT color="green">395</FONT>                            APPLICATION_DENIED(6),<a name="line.395"></a>
<FONT color="green">396</FONT>                            <a name="line.396"></a>
<FONT color="green">397</FONT>                            /** The password I provided is incorrect*/<a name="line.397"></a>
<FONT color="green">398</FONT>                            INVALID_ACCESS_TOKEN(7),<a name="line.398"></a>
<FONT color="green">399</FONT>                            <a name="line.399"></a>
<FONT color="green">400</FONT>                            /** I'm part of the conference, I can participate*/<a name="line.400"></a>
<FONT color="green">401</FONT>                            CONSUMER(8),<a name="line.401"></a>
<FONT color="green">402</FONT>                            <a name="line.402"></a>
<FONT color="green">403</FONT>                            /** I was kicked from the conference*/<a name="line.403"></a>
<FONT color="green">404</FONT>                            RETIRED_FORCEFULLY(9),<a name="line.404"></a>
<FONT color="green">405</FONT>                            <a name="line.405"></a>
<FONT color="green">406</FONT>                            /** I left the conference*/<a name="line.406"></a>
<FONT color="green">407</FONT>                            RETIRED_VOLUNTARILY(10);<a name="line.407"></a>
<FONT color="green">408</FONT>                            <a name="line.408"></a>
<FONT color="green">409</FONT>                            private static final Map&lt;Integer,MY_STATUS&gt; lookup = new HashMap&lt;Integer,MY_STATUS&gt;();<a name="line.409"></a>
<FONT color="green">410</FONT>                            <a name="line.410"></a>
<FONT color="green">411</FONT>                            static {<a name="line.411"></a>
<FONT color="green">412</FONT>                                    for(MY_STATUS s : EnumSet.allOf(MY_STATUS.class))<a name="line.412"></a>
<FONT color="green">413</FONT>                                            lookup.put(s.getId(), s);<a name="line.413"></a>
<FONT color="green">414</FONT>                            }<a name="line.414"></a>
<FONT color="green">415</FONT>                            <a name="line.415"></a>
<FONT color="green">416</FONT>                            private final int id;<a name="line.416"></a>
<FONT color="green">417</FONT>                            <a name="line.417"></a>
<FONT color="green">418</FONT>                            private MY_STATUS(int value) {<a name="line.418"></a>
<FONT color="green">419</FONT>                                    this.id = value;<a name="line.419"></a>
<FONT color="green">420</FONT>                            }<a name="line.420"></a>
<FONT color="green">421</FONT>                            <a name="line.421"></a>
<FONT color="green">422</FONT>                            public int getId() { return id; }<a name="line.422"></a>
<FONT color="green">423</FONT>                            <a name="line.423"></a>
<FONT color="green">424</FONT>                            public static MY_STATUS get(int code) {<a name="line.424"></a>
<FONT color="green">425</FONT>                                    return lookup.get(code);<a name="line.425"></a>
<FONT color="green">426</FONT>                            }<a name="line.426"></a>
<FONT color="green">427</FONT>                            <a name="line.427"></a>
<FONT color="green">428</FONT>                            public static MY_STATUS fromString(String s) {<a name="line.428"></a>
<FONT color="green">429</FONT>                                    for (MY_STATUS p : lookup.values()) {<a name="line.429"></a>
<FONT color="green">430</FONT>                                            if (p.toString() == s) {<a name="line.430"></a>
<FONT color="green">431</FONT>                                                    return p;<a name="line.431"></a>
<FONT color="green">432</FONT>                                            }<a name="line.432"></a>
<FONT color="green">433</FONT>                                    }<a name="line.433"></a>
<FONT color="green">434</FONT>                                    return null;<a name="line.434"></a>
<FONT color="green">435</FONT>                            }<a name="line.435"></a>
<FONT color="green">436</FONT>                    }<a name="line.436"></a>
<FONT color="green">437</FONT>                    <a name="line.437"></a>
<FONT color="green">438</FONT>                    /**<a name="line.438"></a>
<FONT color="green">439</FONT>                     */<a name="line.439"></a>
<FONT color="green">440</FONT>                    public enum LOCAL_LIVESTATUS {<a name="line.440"></a>
<FONT color="green">441</FONT>                    <a name="line.441"></a>
<FONT color="green">442</FONT>                            /** there isn't a live session*/<a name="line.442"></a>
<FONT color="green">443</FONT>                            NONE(0),<a name="line.443"></a>
<FONT color="green">444</FONT>                            <a name="line.444"></a>
<FONT color="green">445</FONT>                            /** trying to start or join a live session*/<a name="line.445"></a>
<FONT color="green">446</FONT>                            STARTING(1),<a name="line.446"></a>
<FONT color="green">447</FONT>                            <a name="line.447"></a>
<FONT color="green">448</FONT>                            /** there is a live session ringing*/<a name="line.448"></a>
<FONT color="green">449</FONT>                            RINGING_FOR_ME(2),<a name="line.449"></a>
<FONT color="green">450</FONT>                            <a name="line.450"></a>
<FONT color="green">451</FONT>                            /** the conference is live for me*/<a name="line.451"></a>
<FONT color="green">452</FONT>                            IM_LIVE(3),<a name="line.452"></a>
<FONT color="green">453</FONT>                            <a name="line.453"></a>
<FONT color="green">454</FONT>                            /** I put the live session on hold*/<a name="line.454"></a>
<FONT color="green">455</FONT>                            ON_HOLD_LOCALLY(5),<a name="line.455"></a>
<FONT color="green">456</FONT>                            <a name="line.456"></a>
<FONT color="green">457</FONT>                            /** the live session was put on hold by someone else*/<a name="line.457"></a>
<FONT color="green">458</FONT>                            ON_HOLD_REMOTELY(6),<a name="line.458"></a>
<FONT color="green">459</FONT>                            <a name="line.459"></a>
<FONT color="green">460</FONT>                            /** there is a live session on-going, I'm not participating but I could join*/<a name="line.460"></a>
<FONT color="green">461</FONT>                            OTHERS_ARE_LIVE(7),<a name="line.461"></a>
<FONT color="green">462</FONT>                            <a name="line.462"></a>
<FONT color="green">463</FONT>                            /** there is a live session on-going without me, but I can't join because it's full*/<a name="line.463"></a>
<FONT color="green">464</FONT>                            OTHERS_ARE_LIVE_FULL(11),<a name="line.464"></a>
<FONT color="green">465</FONT>                            <a name="line.465"></a>
<FONT color="green">466</FONT>                            /** playing a voicemail (dialog only)*/<a name="line.466"></a>
<FONT color="green">467</FONT>                            PLAYING_VOICE_MESSAGE(8),<a name="line.467"></a>
<FONT color="green">468</FONT>                            <a name="line.468"></a>
<FONT color="green">469</FONT>                            /** recording a voicemail (dialog only)*/<a name="line.469"></a>
<FONT color="green">470</FONT>                            RECORDING_VOICE_MESSAGE(9),<a name="line.470"></a>
<FONT color="green">471</FONT>                            <a name="line.471"></a>
<FONT color="green">472</FONT>                            /** a live session just finished, we stay in this state for RECENTLY_LIVE_TIMEOUT setup key*/<a name="line.472"></a>
<FONT color="green">473</FONT>                            RECENTLY_LIVE(10),<a name="line.473"></a>
<FONT color="green">474</FONT>                            <a name="line.474"></a>
<FONT color="green">475</FONT>                            /** call is being transferred*/<a name="line.475"></a>
<FONT color="green">476</FONT>                            TRANSFERRING(12);<a name="line.476"></a>
<FONT color="green">477</FONT>                            <a name="line.477"></a>
<FONT color="green">478</FONT>                            private static final Map&lt;Integer,LOCAL_LIVESTATUS&gt; lookup = new HashMap&lt;Integer,LOCAL_LIVESTATUS&gt;();<a name="line.478"></a>
<FONT color="green">479</FONT>                            <a name="line.479"></a>
<FONT color="green">480</FONT>                            static {<a name="line.480"></a>
<FONT color="green">481</FONT>                                    for(LOCAL_LIVESTATUS s : EnumSet.allOf(LOCAL_LIVESTATUS.class))<a name="line.481"></a>
<FONT color="green">482</FONT>                                            lookup.put(s.getId(), s);<a name="line.482"></a>
<FONT color="green">483</FONT>                            }<a name="line.483"></a>
<FONT color="green">484</FONT>                            <a name="line.484"></a>
<FONT color="green">485</FONT>                            private final int id;<a name="line.485"></a>
<FONT color="green">486</FONT>                            <a name="line.486"></a>
<FONT color="green">487</FONT>                            private LOCAL_LIVESTATUS(int value) {<a name="line.487"></a>
<FONT color="green">488</FONT>                                    this.id = value;<a name="line.488"></a>
<FONT color="green">489</FONT>                            }<a name="line.489"></a>
<FONT color="green">490</FONT>                            <a name="line.490"></a>
<FONT color="green">491</FONT>                            public int getId() { return id; }<a name="line.491"></a>
<FONT color="green">492</FONT>                            <a name="line.492"></a>
<FONT color="green">493</FONT>                            public static LOCAL_LIVESTATUS get(int code) {<a name="line.493"></a>
<FONT color="green">494</FONT>                                    return lookup.get(code);<a name="line.494"></a>
<FONT color="green">495</FONT>                            }<a name="line.495"></a>
<FONT color="green">496</FONT>                            <a name="line.496"></a>
<FONT color="green">497</FONT>                            public static LOCAL_LIVESTATUS fromString(String s) {<a name="line.497"></a>
<FONT color="green">498</FONT>                                    for (LOCAL_LIVESTATUS p : lookup.values()) {<a name="line.498"></a>
<FONT color="green">499</FONT>                                            if (p.toString() == s) {<a name="line.499"></a>
<FONT color="green">500</FONT>                                                    return p;<a name="line.500"></a>
<FONT color="green">501</FONT>                                            }<a name="line.501"></a>
<FONT color="green">502</FONT>                                    }<a name="line.502"></a>
<FONT color="green">503</FONT>                                    return null;<a name="line.503"></a>
<FONT color="green">504</FONT>                            }<a name="line.504"></a>
<FONT color="green">505</FONT>                    }<a name="line.505"></a>
<FONT color="green">506</FONT>                    <a name="line.506"></a>
<FONT color="green">507</FONT>                    /**<a name="line.507"></a>
<FONT color="green">508</FONT>                    values for opt_admin_only_activities property */<a name="line.508"></a>
<FONT color="green">509</FONT>                    public enum ALLOWED_ACTIVITY {<a name="line.509"></a>
<FONT color="green">510</FONT>                    <a name="line.510"></a>
<FONT color="green">511</FONT>                            /** allowed to set the CONVERSATION_META properties*/<a name="line.511"></a>
<FONT color="green">512</FONT>                            SET_META(1),<a name="line.512"></a>
<FONT color="green">513</FONT>                            <a name="line.513"></a>
<FONT color="green">514</FONT>                            /** allowed to add participants to the conference*/<a name="line.514"></a>
<FONT color="green">515</FONT>                            ADD_CONSUMERS(2),<a name="line.515"></a>
<FONT color="green">516</FONT>                            <a name="line.516"></a>
<FONT color="green">517</FONT>                            /** allowed to speak, but not write*/<a name="line.517"></a>
<FONT color="green">518</FONT>                            SPEAK(4),<a name="line.518"></a>
<FONT color="green">519</FONT>                            <a name="line.519"></a>
<FONT color="green">520</FONT>                            /** allowed to speak and write*/<a name="line.520"></a>
<FONT color="green">521</FONT>                            SPEAK_AND_WRITE(8);<a name="line.521"></a>
<FONT color="green">522</FONT>                            <a name="line.522"></a>
<FONT color="green">523</FONT>                            private static final Map&lt;Integer,ALLOWED_ACTIVITY&gt; lookup = new HashMap&lt;Integer,ALLOWED_ACTIVITY&gt;();<a name="line.523"></a>
<FONT color="green">524</FONT>                            <a name="line.524"></a>
<FONT color="green">525</FONT>                            static {<a name="line.525"></a>
<FONT color="green">526</FONT>                                    for(ALLOWED_ACTIVITY s : EnumSet.allOf(ALLOWED_ACTIVITY.class))<a name="line.526"></a>
<FONT color="green">527</FONT>                                            lookup.put(s.getId(), s);<a name="line.527"></a>
<FONT color="green">528</FONT>                            }<a name="line.528"></a>
<FONT color="green">529</FONT>                            <a name="line.529"></a>
<FONT color="green">530</FONT>                            private final int id;<a name="line.530"></a>
<FONT color="green">531</FONT>                            <a name="line.531"></a>
<FONT color="green">532</FONT>                            private ALLOWED_ACTIVITY(int value) {<a name="line.532"></a>
<FONT color="green">533</FONT>                                    this.id = value;<a name="line.533"></a>
<FONT color="green">534</FONT>                            }<a name="line.534"></a>
<FONT color="green">535</FONT>                            <a name="line.535"></a>
<FONT color="green">536</FONT>                            public int getId() { return id; }<a name="line.536"></a>
<FONT color="green">537</FONT>                            <a name="line.537"></a>
<FONT color="green">538</FONT>                            public static ALLOWED_ACTIVITY get(int code) {<a name="line.538"></a>
<FONT color="green">539</FONT>                                    return lookup.get(code);<a name="line.539"></a>
<FONT color="green">540</FONT>                            }<a name="line.540"></a>
<FONT color="green">541</FONT>                            <a name="line.541"></a>
<FONT color="green">542</FONT>                            public static ALLOWED_ACTIVITY fromString(String s) {<a name="line.542"></a>
<FONT color="green">543</FONT>                                    for (ALLOWED_ACTIVITY p : lookup.values()) {<a name="line.543"></a>
<FONT color="green">544</FONT>                                            if (p.toString() == s) {<a name="line.544"></a>
<FONT color="green">545</FONT>                                                    return p;<a name="line.545"></a>
<FONT color="green">546</FONT>                                            }<a name="line.546"></a>
<FONT color="green">547</FONT>                                    }<a name="line.547"></a>
<FONT color="green">548</FONT>                                    return null;<a name="line.548"></a>
<FONT color="green">549</FONT>                            }<a name="line.549"></a>
<FONT color="green">550</FONT>                    }<a name="line.550"></a>
<FONT color="green">551</FONT>                    <a name="line.551"></a>
<FONT color="green">552</FONT>                    /**<a name="line.552"></a>
<FONT color="green">553</FONT>                     *Setter method for Conversation option properties. Option properties are all Conversation properties starting with OPT_ prefix. &lt;br&gt;<a name="line.553"></a>
<FONT color="green">554</FONT>                     * @param propKey Conversation property key, for example: Conversation.OPT_JOINING_ENABLED &lt;br&gt;<a name="line.554"></a>
<FONT color="green">555</FONT>                     * @param value New value for the option property. &lt;br&gt;<a name="line.555"></a>
<FONT color="green">556</FONT>                     */<a name="line.556"></a>
<FONT color="green">557</FONT>                    public void SetOption( int propKey, int value) {<a name="line.557"></a>
<FONT color="green">558</FONT>                    <a name="line.558"></a>
<FONT color="green">559</FONT>                            Request request = null;<a name="line.559"></a>
<FONT color="green">560</FONT>                            try {<a name="line.560"></a>
<FONT color="green">561</FONT>                                    request = new XCallRequest(18,1);<a name="line.561"></a>
<FONT color="green">562</FONT>                            } catch (IOException e) {<a name="line.562"></a>
<FONT color="green">563</FONT>                                    e.printStackTrace();<a name="line.563"></a>
<FONT color="green">564</FONT>                                    if (skype.errorListener != null)<a name="line.564"></a>
<FONT color="green">565</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.565"></a>
<FONT color="green">566</FONT>                            }<a name="line.566"></a>
<FONT color="green">567</FONT>                            request.addParm('O',0,mObjectId);<a name="line.567"></a>
<FONT color="green">568</FONT>                            request.addParm('e',1,propKey);<a name="line.568"></a>
<FONT color="green">569</FONT>                            request.addParm('u',2,value);<a name="line.569"></a>
<FONT color="green">570</FONT>                            <a name="line.570"></a>
<FONT color="green">571</FONT>                            skype.XCall((XCallRequest)request);<a name="line.571"></a>
<FONT color="green">572</FONT>                    }<a name="line.572"></a>
<FONT color="green">573</FONT>                    <a name="line.573"></a>
<FONT color="green">574</FONT>                    /**<a name="line.574"></a>
<FONT color="green">575</FONT>                     *Setter for Conversation class META_TOPIC. This topic will be set for remote participants as well. &lt;br&gt;<a name="line.575"></a>
<FONT color="green">576</FONT>                     * @param topic New conversation topic. &lt;br&gt;<a name="line.576"></a>
<FONT color="green">577</FONT>                     * @param isXML Notifies remote UIs that the new topic contains xml tags. &lt;br&gt;<a name="line.577"></a>
<FONT color="green">578</FONT>                     */<a name="line.578"></a>
<FONT color="green">579</FONT>                    public void SetTopic( String topic, boolean isXML) {<a name="line.579"></a>
<FONT color="green">580</FONT>                    <a name="line.580"></a>
<FONT color="green">581</FONT>                            Request request = null;<a name="line.581"></a>
<FONT color="green">582</FONT>                            try {<a name="line.582"></a>
<FONT color="green">583</FONT>                                    request = new XCallRequest(18,2);<a name="line.583"></a>
<FONT color="green">584</FONT>                            } catch (IOException e) {<a name="line.584"></a>
<FONT color="green">585</FONT>                                    e.printStackTrace();<a name="line.585"></a>
<FONT color="green">586</FONT>                                    if (skype.errorListener != null)<a name="line.586"></a>
<FONT color="green">587</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.587"></a>
<FONT color="green">588</FONT>                            }<a name="line.588"></a>
<FONT color="green">589</FONT>                            request.addParm('O',0,mObjectId);<a name="line.589"></a>
<FONT color="green">590</FONT>                            request.addParm('S',1,topic);<a name="line.590"></a>
<FONT color="green">591</FONT>                            request.addParm('b',2,isXML);<a name="line.591"></a>
<FONT color="green">592</FONT>                            <a name="line.592"></a>
<FONT color="green">593</FONT>                            skype.XCall((XCallRequest)request);<a name="line.593"></a>
<FONT color="green">594</FONT>                    }<a name="line.594"></a>
<FONT color="green">595</FONT>                    <a name="line.595"></a>
<FONT color="green">596</FONT>                    /**<a name="line.596"></a>
<FONT color="green">597</FONT>                     *Setter for Conversation META_GUIDELINES. This property will be visible to remote participants of the conversation. &lt;br&gt;<a name="line.597"></a>
<FONT color="green">598</FONT>                     * @param guidelines New value for the META_GUIDELINES property. &lt;br&gt;<a name="line.598"></a>
<FONT color="green">599</FONT>                     * @param isXML Set true to notify remote UIs that the new guideline contains XML tags. &lt;br&gt;<a name="line.599"></a>
<FONT color="green">600</FONT>                     */<a name="line.600"></a>
<FONT color="green">601</FONT>                    public void SetGuidelines( String guidelines, boolean isXML) {<a name="line.601"></a>
<FONT color="green">602</FONT>                    <a name="line.602"></a>
<FONT color="green">603</FONT>                            Request request = null;<a name="line.603"></a>
<FONT color="green">604</FONT>                            try {<a name="line.604"></a>
<FONT color="green">605</FONT>                                    request = new XCallRequest(18,3);<a name="line.605"></a>
<FONT color="green">606</FONT>                            } catch (IOException e) {<a name="line.606"></a>
<FONT color="green">607</FONT>                                    e.printStackTrace();<a name="line.607"></a>
<FONT color="green">608</FONT>                                    if (skype.errorListener != null)<a name="line.608"></a>
<FONT color="green">609</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.609"></a>
<FONT color="green">610</FONT>                            }<a name="line.610"></a>
<FONT color="green">611</FONT>                            request.addParm('O',0,mObjectId);<a name="line.611"></a>
<FONT color="green">612</FONT>                            request.addParm('S',1,guidelines);<a name="line.612"></a>
<FONT color="green">613</FONT>                            request.addParm('b',2,isXML);<a name="line.613"></a>
<FONT color="green">614</FONT>                            <a name="line.614"></a>
<FONT color="green">615</FONT>                            skype.XCall((XCallRequest)request);<a name="line.615"></a>
<FONT color="green">616</FONT>                    }<a name="line.616"></a>
<FONT color="green">617</FONT>                    <a name="line.617"></a>
<FONT color="green">618</FONT>                    /**<a name="line.618"></a>
<FONT color="green">619</FONT>                     *Sets the conversation's avatar to the specified JPEG image, which is propagated to both local and remote participants. Before calling this method, you should use Skype.ValidateAvatar to verify that jpeg references a valid JPEG image. &lt;br&gt;<a name="line.619"></a>
<FONT color="green">620</FONT>                     * @param jpeg Conversation avatar binary. &lt;br&gt;<a name="line.620"></a>
<FONT color="green">621</FONT>                     */<a name="line.621"></a>
<FONT color="green">622</FONT>                    public void SetPicture( byte[] jpeg) {<a name="line.622"></a>
<FONT color="green">623</FONT>                    <a name="line.623"></a>
<FONT color="green">624</FONT>                            Request request = null;<a name="line.624"></a>
<FONT color="green">625</FONT>                            try {<a name="line.625"></a>
<FONT color="green">626</FONT>                                    request = new XCallRequest(18,4);<a name="line.626"></a>
<FONT color="green">627</FONT>                            } catch (IOException e) {<a name="line.627"></a>
<FONT color="green">628</FONT>                                    e.printStackTrace();<a name="line.628"></a>
<FONT color="green">629</FONT>                                    if (skype.errorListener != null)<a name="line.629"></a>
<FONT color="green">630</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.630"></a>
<FONT color="green">631</FONT>                            }<a name="line.631"></a>
<FONT color="green">632</FONT>                            request.addParm('O',0,mObjectId);<a name="line.632"></a>
<FONT color="green">633</FONT>                            request.addParm('B',1,jpeg);<a name="line.633"></a>
<FONT color="green">634</FONT>                            <a name="line.634"></a>
<FONT color="green">635</FONT>                            skype.XCall((XCallRequest)request);<a name="line.635"></a>
<FONT color="green">636</FONT>                    }<a name="line.636"></a>
<FONT color="green">637</FONT>                    <a name="line.637"></a>
<FONT color="green">638</FONT>                    /**<a name="line.638"></a>
<FONT color="green">639</FONT>                     *When called from dialog conversation, this spawns a new conversation, with existing two dialog participants plus new contact identities given in the identitiesToAdd list. You do not need to add existing dialog participants to the string list. In fact, passing only the existing participants in the identities list will cause the method call to fail (return false), the same as if the list was empty. This method will also return false if the original conversation was not a dialog (contained more than two participants). Also note that this method always creates a new Conversation - even if a conversation with exactly the same participant list existed before. &lt;br&gt;<a name="line.639"></a>
<FONT color="green">640</FONT>                     * @param identitiesToAdd String list of additional participant identities. You do not need to add existing two participants from the original dialog to this list. &lt;br&gt;<a name="line.640"></a>
<FONT color="green">641</FONT>                     * @return conference Returns the resulting conversation or 0 if the method call failed. &lt;br&gt;<a name="line.641"></a>
<FONT color="green">642</FONT>                     */<a name="line.642"></a>
<FONT color="green">643</FONT>                    public Conversation SpawnConference( String [] identitiesToAdd) {<a name="line.643"></a>
<FONT color="green">644</FONT>                    <a name="line.644"></a>
<FONT color="green">645</FONT>                            Request request = null;<a name="line.645"></a>
<FONT color="green">646</FONT>                            try {<a name="line.646"></a>
<FONT color="green">647</FONT>                                    request = new XCallRequest(18,6);<a name="line.647"></a>
<FONT color="green">648</FONT>                            } catch (IOException e) {<a name="line.648"></a>
<FONT color="green">649</FONT>                                    e.printStackTrace();<a name="line.649"></a>
<FONT color="green">650</FONT>                                    if (skype.errorListener != null)<a name="line.650"></a>
<FONT color="green">651</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.651"></a>
<FONT color="green">652</FONT>                            }<a name="line.652"></a>
<FONT color="green">653</FONT>                            request.addParm('O',0,mObjectId);<a name="line.653"></a>
<FONT color="green">654</FONT>                            request.addListStart(1);<a name="line.654"></a>
<FONT color="green">655</FONT>                            for (int i=0;i&lt;identitiesToAdd.length;i++) {<a name="line.655"></a>
<FONT color="green">656</FONT>                                    request.addParm('S',identitiesToAdd[i]);<a name="line.656"></a>
<FONT color="green">657</FONT>                            }<a name="line.657"></a>
<FONT color="green">658</FONT>                            <a name="line.658"></a>
<FONT color="green">659</FONT>                            Response r = skype.XCall((XCallRequest)request);<a name="line.659"></a>
<FONT color="green">660</FONT>                            <a name="line.660"></a>
<FONT color="green">661</FONT>                            if (r.isErrCall())<a name="line.661"></a>
<FONT color="green">662</FONT>                                    return null;<a name="line.662"></a>
<FONT color="green">663</FONT>                                    <a name="line.663"></a>
<FONT color="green">664</FONT>                            int oid = 0;<a name="line.664"></a>
<FONT color="green">665</FONT>                            Conversation conference = null;<a name="line.665"></a>
<FONT color="green">666</FONT>                            oid = r.GetOid(1);<a name="line.666"></a>
<FONT color="green">667</FONT>                            if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.667"></a>
<FONT color="green">668</FONT>                                    conference = (Conversation)skype.factory(Conversation.moduleID(), oid, skype);<a name="line.668"></a>
<FONT color="green">669</FONT>                            }<a name="line.669"></a>
<FONT color="green">670</FONT>                            return conference;<a name="line.670"></a>
<FONT color="green">671</FONT>                    }<a name="line.671"></a>
<FONT color="green">672</FONT>                    <a name="line.672"></a>
<FONT color="green">673</FONT>                    /**<a name="line.673"></a>
<FONT color="green">674</FONT>                     *Takes one or more Contact identities and creates corresponding Participant objects within the context of this Conversation, which must be of type CONFERENCE. If you have an existing dialog conversation, use SpawnConference instead. &lt;br&gt;<a name="line.674"></a>
<FONT color="green">675</FONT>                     * @param identities Contact identities to be added to the Conversation. &lt;br&gt;<a name="line.675"></a>
<FONT color="green">676</FONT>                     */<a name="line.676"></a>
<FONT color="green">677</FONT>                    public void AddConsumers( String [] identities) {<a name="line.677"></a>
<FONT color="green">678</FONT>                    <a name="line.678"></a>
<FONT color="green">679</FONT>                            Request request = null;<a name="line.679"></a>
<FONT color="green">680</FONT>                            try {<a name="line.680"></a>
<FONT color="green">681</FONT>                                    request = new XCallRequest(18,7);<a name="line.681"></a>
<FONT color="green">682</FONT>                            } catch (IOException e) {<a name="line.682"></a>
<FONT color="green">683</FONT>                                    e.printStackTrace();<a name="line.683"></a>
<FONT color="green">684</FONT>                                    if (skype.errorListener != null)<a name="line.684"></a>
<FONT color="green">685</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.685"></a>
<FONT color="green">686</FONT>                            }<a name="line.686"></a>
<FONT color="green">687</FONT>                            request.addParm('O',0,mObjectId);<a name="line.687"></a>
<FONT color="green">688</FONT>                            request.addListStart(1);<a name="line.688"></a>
<FONT color="green">689</FONT>                            for (int i=0;i&lt;identities.length;i++) {<a name="line.689"></a>
<FONT color="green">690</FONT>                                    request.addParm('S',identities[i]);<a name="line.690"></a>
<FONT color="green">691</FONT>                            }<a name="line.691"></a>
<FONT color="green">692</FONT>                            <a name="line.692"></a>
<FONT color="green">693</FONT>                            skype.XCall((XCallRequest)request);<a name="line.693"></a>
<FONT color="green">694</FONT>                    }<a name="line.694"></a>
<FONT color="green">695</FONT>                    <a name="line.695"></a>
<FONT color="green">696</FONT>                    /**<a name="line.696"></a>
<FONT color="green">697</FONT>                     *Merges two live conversations. For example, if the user already has a live conversation up - let's call it conversation A. Then a new incoming call occurs - another conversation obtains LOCAL_LIVESTATUS == Conversation.RINGING_FOR_ME, let's call it conversation B. The user wishes to pick up the new incoming call and add it to the existing one. For this you can first call B-&gt;JoinLiveSession and then merge two calls with A-&gt;Assimilate(B, A). The second argument will return the merged conversation. Note that there are actually three conversation objects involved: A (before merge), B and C (after the merge). Normally it would make sense to have the first conversation (A) as the second argument, so that it gets overwritten with the assimilation result. &lt;br&gt;<a name="line.697"></a>
<FONT color="green">698</FONT>                     * @param otherConversation The new conversation to be merged with the one already in live state. &lt;br&gt;<a name="line.698"></a>
<FONT color="green">699</FONT>                     * @return conversation Returns a 3rd live conversation, result of merging two existing ones. &lt;br&gt;<a name="line.699"></a>
<FONT color="green">700</FONT>                     */<a name="line.700"></a>
<FONT color="green">701</FONT>                    public Conversation Assimilate( Conversation otherConversation) {<a name="line.701"></a>
<FONT color="green">702</FONT>                    <a name="line.702"></a>
<FONT color="green">703</FONT>                            Request request = null;<a name="line.703"></a>
<FONT color="green">704</FONT>                            try {<a name="line.704"></a>
<FONT color="green">705</FONT>                                    request = new XCallRequest(18,9);<a name="line.705"></a>
<FONT color="green">706</FONT>                            } catch (IOException e) {<a name="line.706"></a>
<FONT color="green">707</FONT>                                    e.printStackTrace();<a name="line.707"></a>
<FONT color="green">708</FONT>                                    if (skype.errorListener != null)<a name="line.708"></a>
<FONT color="green">709</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.709"></a>
<FONT color="green">710</FONT>                            }<a name="line.710"></a>
<FONT color="green">711</FONT>                            request.addParm('O',0,mObjectId);<a name="line.711"></a>
<FONT color="green">712</FONT>                            request.addParm('O',1,otherConversation.getOid());<a name="line.712"></a>
<FONT color="green">713</FONT>                            <a name="line.713"></a>
<FONT color="green">714</FONT>                            Response r = skype.XCall((XCallRequest)request);<a name="line.714"></a>
<FONT color="green">715</FONT>                            <a name="line.715"></a>
<FONT color="green">716</FONT>                            if (r.isErrCall())<a name="line.716"></a>
<FONT color="green">717</FONT>                                    return null;<a name="line.717"></a>
<FONT color="green">718</FONT>                                    <a name="line.718"></a>
<FONT color="green">719</FONT>                            int oid = 0;<a name="line.719"></a>
<FONT color="green">720</FONT>                            Conversation conversation = null;<a name="line.720"></a>
<FONT color="green">721</FONT>                            oid = r.GetOid(1);<a name="line.721"></a>
<FONT color="green">722</FONT>                            if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.722"></a>
<FONT color="green">723</FONT>                                    conversation = (Conversation)skype.factory(Conversation.moduleID(), oid, skype);<a name="line.723"></a>
<FONT color="green">724</FONT>                            }<a name="line.724"></a>
<FONT color="green">725</FONT>                            return conversation;<a name="line.725"></a>
<FONT color="green">726</FONT>                    }<a name="line.726"></a>
<FONT color="green">727</FONT>                    <a name="line.727"></a>
<FONT color="green">728</FONT>                    /**<a name="line.728"></a>
<FONT color="green">729</FONT>                     *starts, answers or joins a live session (first one to join becomes LIVE_HOST)<a name="line.729"></a>
<FONT color="green">730</FONT>                     * @param accessToken if starting a live session, allows to set a custom access token<a name="line.730"></a>
<FONT color="green">731</FONT>                     */<a name="line.731"></a>
<FONT color="green">732</FONT>                    public void JoinLiveSession( String accessToken) {<a name="line.732"></a>
<FONT color="green">733</FONT>                    <a name="line.733"></a>
<FONT color="green">734</FONT>                            Request request = null;<a name="line.734"></a>
<FONT color="green">735</FONT>                            try {<a name="line.735"></a>
<FONT color="green">736</FONT>                                    request = new XCallRequest(18,10);<a name="line.736"></a>
<FONT color="green">737</FONT>                            } catch (IOException e) {<a name="line.737"></a>
<FONT color="green">738</FONT>                                    e.printStackTrace();<a name="line.738"></a>
<FONT color="green">739</FONT>                                    if (skype.errorListener != null)<a name="line.739"></a>
<FONT color="green">740</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.740"></a>
<FONT color="green">741</FONT>                            }<a name="line.741"></a>
<FONT color="green">742</FONT>                            request.addParm('O',0,mObjectId);<a name="line.742"></a>
<FONT color="green">743</FONT>                            request.addParm('S',1,accessToken);<a name="line.743"></a>
<FONT color="green">744</FONT>                            <a name="line.744"></a>
<FONT color="green">745</FONT>                            skype.XCall((XCallRequest)request);<a name="line.745"></a>
<FONT color="green">746</FONT>                    }<a name="line.746"></a>
<FONT color="green">747</FONT>                    <a name="line.747"></a>
<FONT color="green">748</FONT>                    /**<a name="line.748"></a>
<FONT color="green">749</FONT>                     *This is an alternative to calling Ring method for each Participant individually. This also works with dialogs (with identities containing only one item). &lt;br&gt;<a name="line.749"></a>
<FONT color="green">750</FONT>                     * @param identities List of Participants to ring. Leaving the list empty will result in ringing all participants of at least speaker level. &lt;br&gt;<a name="line.750"></a>
<FONT color="green">751</FONT>                     * @param videoCall If true, indicates that we want to do a video call (video still needs to be separately enabled) &lt;br&gt;<a name="line.751"></a>
<FONT color="green">752</FONT>                     * @param origin When call is initiated from web link, this argument must contain the URI that was used &lt;br&gt;<a name="line.752"></a>
<FONT color="green">753</FONT>                     */<a name="line.753"></a>
<FONT color="green">754</FONT>                    public void RingOthers( String [] identities, boolean videoCall, String origin) {<a name="line.754"></a>
<FONT color="green">755</FONT>                    <a name="line.755"></a>
<FONT color="green">756</FONT>                            Request request = null;<a name="line.756"></a>
<FONT color="green">757</FONT>                            try {<a name="line.757"></a>
<FONT color="green">758</FONT>                                    request = new XCallRequest(18,36);<a name="line.758"></a>
<FONT color="green">759</FONT>                            } catch (IOException e) {<a name="line.759"></a>
<FONT color="green">760</FONT>                                    e.printStackTrace();<a name="line.760"></a>
<FONT color="green">761</FONT>                                    if (skype.errorListener != null)<a name="line.761"></a>
<FONT color="green">762</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.762"></a>
<FONT color="green">763</FONT>                            }<a name="line.763"></a>
<FONT color="green">764</FONT>                            request.addParm('O',0,mObjectId);<a name="line.764"></a>
<FONT color="green">765</FONT>                            request.addListStart(1);<a name="line.765"></a>
<FONT color="green">766</FONT>                            for (int i=0;i&lt;identities.length;i++) {<a name="line.766"></a>
<FONT color="green">767</FONT>                                    request.addParm('S',identities[i]);<a name="line.767"></a>
<FONT color="green">768</FONT>                            }<a name="line.768"></a>
<FONT color="green">769</FONT>                            request.addParm('b',2,videoCall);<a name="line.769"></a>
<FONT color="green">770</FONT>                            request.addParm('S',3,origin);<a name="line.770"></a>
<FONT color="green">771</FONT>                            <a name="line.771"></a>
<FONT color="green">772</FONT>                            skype.XCall((XCallRequest)request);<a name="line.772"></a>
<FONT color="green">773</FONT>                    }<a name="line.773"></a>
<FONT color="green">774</FONT>                    <a name="line.774"></a>
<FONT color="green">775</FONT>                    /**<a name="line.775"></a>
<FONT color="green">776</FONT>                     *Sets VOICE_STATUS to LISTENING in the Participant instance associated with us, causing any input from our microphone to be ignored. This is a Conversation class method, rather than Participant class, because this only applies to local participant. &lt;br&gt;<a name="line.776"></a>
<FONT color="green">777</FONT>                     */<a name="line.777"></a>
<FONT color="green">778</FONT>                    public void MuteMyMicrophone() {<a name="line.778"></a>
<FONT color="green">779</FONT>                    <a name="line.779"></a>
<FONT color="green">780</FONT>                            Request request = null;<a name="line.780"></a>
<FONT color="green">781</FONT>                            try {<a name="line.781"></a>
<FONT color="green">782</FONT>                                    request = new XCallRequest(18,11);<a name="line.782"></a>
<FONT color="green">783</FONT>                            } catch (IOException e) {<a name="line.783"></a>
<FONT color="green">784</FONT>                                    e.printStackTrace();<a name="line.784"></a>
<FONT color="green">785</FONT>                                    if (skype.errorListener != null)<a name="line.785"></a>
<FONT color="green">786</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.786"></a>
<FONT color="green">787</FONT>                            }<a name="line.787"></a>
<FONT color="green">788</FONT>                            request.addParm('O',0,mObjectId);<a name="line.788"></a>
<FONT color="green">789</FONT>                            <a name="line.789"></a>
<FONT color="green">790</FONT>                            skype.XCall((XCallRequest)request);<a name="line.790"></a>
<FONT color="green">791</FONT>                    }<a name="line.791"></a>
<FONT color="green">792</FONT>                    <a name="line.792"></a>
<FONT color="green">793</FONT>                    /**<a name="line.793"></a>
<FONT color="green">794</FONT>                     *Sets VOICE_STATUS to SPEAKING in the Participant instance associated with us, causing any input from our microphone to be sent to the call host. This is a Conversation class method, rather than Participant class, because this only applies to local participant. &lt;br&gt;<a name="line.794"></a>
<FONT color="green">795</FONT>                     */<a name="line.795"></a>
<FONT color="green">796</FONT>                    public void UnmuteMyMicrophone() {<a name="line.796"></a>
<FONT color="green">797</FONT>                    <a name="line.797"></a>
<FONT color="green">798</FONT>                            Request request = null;<a name="line.798"></a>
<FONT color="green">799</FONT>                            try {<a name="line.799"></a>
<FONT color="green">800</FONT>                                    request = new XCallRequest(18,12);<a name="line.800"></a>
<FONT color="green">801</FONT>                            } catch (IOException e) {<a name="line.801"></a>
<FONT color="green">802</FONT>                                    e.printStackTrace();<a name="line.802"></a>
<FONT color="green">803</FONT>                                    if (skype.errorListener != null)<a name="line.803"></a>
<FONT color="green">804</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.804"></a>
<FONT color="green">805</FONT>                            }<a name="line.805"></a>
<FONT color="green">806</FONT>                            request.addParm('O',0,mObjectId);<a name="line.806"></a>
<FONT color="green">807</FONT>                            <a name="line.807"></a>
<FONT color="green">808</FONT>                            skype.XCall((XCallRequest)request);<a name="line.808"></a>
<FONT color="green">809</FONT>                    }<a name="line.809"></a>
<FONT color="green">810</FONT>                    <a name="line.810"></a>
<FONT color="green">811</FONT>                    /**<a name="line.811"></a>
<FONT color="green">812</FONT>                     *Puts the conversation on hold - Conversation LOCAL_LIVESTATUS changes to ON_HOLD_LOCALLY and to ON_HOLD_REMOTELY for remote participants. &lt;br&gt;<a name="line.812"></a>
<FONT color="green">813</FONT>                     */<a name="line.813"></a>
<FONT color="green">814</FONT>                    public void HoldMyLiveSession() {<a name="line.814"></a>
<FONT color="green">815</FONT>                    <a name="line.815"></a>
<FONT color="green">816</FONT>                            Request request = null;<a name="line.816"></a>
<FONT color="green">817</FONT>                            try {<a name="line.817"></a>
<FONT color="green">818</FONT>                                    request = new XCallRequest(18,13);<a name="line.818"></a>
<FONT color="green">819</FONT>                            } catch (IOException e) {<a name="line.819"></a>
<FONT color="green">820</FONT>                                    e.printStackTrace();<a name="line.820"></a>
<FONT color="green">821</FONT>                                    if (skype.errorListener != null)<a name="line.821"></a>
<FONT color="green">822</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.822"></a>
<FONT color="green">823</FONT>                            }<a name="line.823"></a>
<FONT color="green">824</FONT>                            request.addParm('O',0,mObjectId);<a name="line.824"></a>
<FONT color="green">825</FONT>                            <a name="line.825"></a>
<FONT color="green">826</FONT>                            skype.XCall((XCallRequest)request);<a name="line.826"></a>
<FONT color="green">827</FONT>                    }<a name="line.827"></a>
<FONT color="green">828</FONT>                    <a name="line.828"></a>
<FONT color="green">829</FONT>                    /**<a name="line.829"></a>
<FONT color="green">830</FONT>                     *Resumes call from local hold. &lt;br&gt;<a name="line.830"></a>
<FONT color="green">831</FONT>                     */<a name="line.831"></a>
<FONT color="green">832</FONT>                    public void ResumeMyLiveSession() {<a name="line.832"></a>
<FONT color="green">833</FONT>                    <a name="line.833"></a>
<FONT color="green">834</FONT>                            Request request = null;<a name="line.834"></a>
<FONT color="green">835</FONT>                            try {<a name="line.835"></a>
<FONT color="green">836</FONT>                                    request = new XCallRequest(18,14);<a name="line.836"></a>
<FONT color="green">837</FONT>                            } catch (IOException e) {<a name="line.837"></a>
<FONT color="green">838</FONT>                                    e.printStackTrace();<a name="line.838"></a>
<FONT color="green">839</FONT>                                    if (skype.errorListener != null)<a name="line.839"></a>
<FONT color="green">840</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.840"></a>
<FONT color="green">841</FONT>                            }<a name="line.841"></a>
<FONT color="green">842</FONT>                            request.addParm('O',0,mObjectId);<a name="line.842"></a>
<FONT color="green">843</FONT>                            <a name="line.843"></a>
<FONT color="green">844</FONT>                            skype.XCall((XCallRequest)request);<a name="line.844"></a>
<FONT color="green">845</FONT>                    }<a name="line.845"></a>
<FONT color="green">846</FONT>                    <a name="line.846"></a>
<FONT color="green">847</FONT>                    /**<a name="line.847"></a>
<FONT color="green">848</FONT>                     *Hang up or refuse to answer an incoming call. Set postVoiceAutoresponse to true to enable a caller to leave a voicemail message. &lt;br&gt;<a name="line.848"></a>
<FONT color="green">849</FONT>                     * @param postVoiceAutoresponse<a name="line.849"></a>
<FONT color="green">850</FONT>                     */<a name="line.850"></a>
<FONT color="green">851</FONT>                    public void LeaveLiveSession( boolean postVoiceAutoresponse) {<a name="line.851"></a>
<FONT color="green">852</FONT>                    <a name="line.852"></a>
<FONT color="green">853</FONT>                            Request request = null;<a name="line.853"></a>
<FONT color="green">854</FONT>                            try {<a name="line.854"></a>
<FONT color="green">855</FONT>                                    request = new XCallRequest(18,15);<a name="line.855"></a>
<FONT color="green">856</FONT>                            } catch (IOException e) {<a name="line.856"></a>
<FONT color="green">857</FONT>                                    e.printStackTrace();<a name="line.857"></a>
<FONT color="green">858</FONT>                                    if (skype.errorListener != null)<a name="line.858"></a>
<FONT color="green">859</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.859"></a>
<FONT color="green">860</FONT>                            }<a name="line.860"></a>
<FONT color="green">861</FONT>                            request.addParm('O',0,mObjectId);<a name="line.861"></a>
<FONT color="green">862</FONT>                            request.addParm('b',1,postVoiceAutoresponse);<a name="line.862"></a>
<FONT color="green">863</FONT>                            <a name="line.863"></a>
<FONT color="green">864</FONT>                            skype.XCall((XCallRequest)request);<a name="line.864"></a>
<FONT color="green">865</FONT>                    }<a name="line.865"></a>
<FONT color="green">866</FONT>                    <a name="line.866"></a>
<FONT color="green">867</FONT>                    /**<a name="line.867"></a>
<FONT color="green">868</FONT>                     *Begin recording a voice mail for this conversation's remote participant. Applies to conversations of type DIALOG only. &lt;br&gt;<a name="line.868"></a>
<FONT color="green">869</FONT>                     */<a name="line.869"></a>
<FONT color="green">870</FONT>                    public void StartVoiceMessage() {<a name="line.870"></a>
<FONT color="green">871</FONT>                    <a name="line.871"></a>
<FONT color="green">872</FONT>                            Request request = null;<a name="line.872"></a>
<FONT color="green">873</FONT>                            try {<a name="line.873"></a>
<FONT color="green">874</FONT>                                    request = new XCallRequest(18,45);<a name="line.874"></a>
<FONT color="green">875</FONT>                            } catch (IOException e) {<a name="line.875"></a>
<FONT color="green">876</FONT>                                    e.printStackTrace();<a name="line.876"></a>
<FONT color="green">877</FONT>                                    if (skype.errorListener != null)<a name="line.877"></a>
<FONT color="green">878</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.878"></a>
<FONT color="green">879</FONT>                            }<a name="line.879"></a>
<FONT color="green">880</FONT>                            request.addParm('O',0,mObjectId);<a name="line.880"></a>
<FONT color="green">881</FONT>                            <a name="line.881"></a>
<FONT color="green">882</FONT>                            skype.XCall((XCallRequest)request);<a name="line.882"></a>
<FONT color="green">883</FONT>                    }<a name="line.883"></a>
<FONT color="green">884</FONT>                    <a name="line.884"></a>
<FONT color="green">885</FONT>                    /**<a name="line.885"></a>
<FONT color="green">886</FONT>                     *This method is for doing call transfers. NB! Call transfers only work in one-on-one conversations (dialogs). Before attempting call transfer, you should check availability of transfer recipients with Conversation class CanTransferLiveSession method. If the current conversation has a live session up, that session (call) will be transferred to targets specified in the identities list. Note that identities is a string list - all identities in that list will get incoming calls. The first one of them to pick up the call - wins, and rest of the transfer targets will stop ringing. &lt;br&gt;&lt;br&gt;Let's take a closer look how this works in practice. We have three call participants involved in the process, and two separate conversations. Let there be three callers: Caller A (call originator), Caller B (transferor) and Caller C (recipient of transfer). &lt;br&gt;&lt;br&gt; - Caller A - calls Caller B; Caller B picks up the call - live conversation C1 is now up with A and B in it. &lt;br&gt; - After awhile, Caller B initiates call transfers to Caller C (and optionally to Callers D, E, F.. ). LOCAL_LIVESTATUS of C1 will get set to TRANSFERRING for both A and B. &lt;br&gt; - Caller C picks up the call. Conversation C1 will go off live status. For Caller B, conversation C1 LOCAL_LIVESTATUS will change to RECENTLY_LIVE. Another live conversation - C2 gets spawned, with Caller A and Caller C in it. For caller C, participant object representing caller A will have TRANSFERRED_BY property set to identity of caller A. For Caller B (in now no longer live conversation C1), participant object representing caller A gets its TRANSFERRED_TO property set to identity of caller C. &lt;br&gt;<a name="line.886"></a>
<FONT color="green">887</FONT>                     * @param identities String list of transfer target identities. As soon as first one in this list picks up the call, others will stop ringing. &lt;br&gt;<a name="line.887"></a>
<FONT color="green">888</FONT>                     * @param transferTopic Optional conversation topic. This value will get set as META_TOPIC property of the conversation at the transferee end. Note that this is the only case where META_TOPIC field is used in context of dialog conversations. Thus assumption that remote UI will display topic field in case of dialogs may not be 100% correct. &lt;br&gt;<a name="line.888"></a>
<FONT color="green">889</FONT>                     */<a name="line.889"></a>
<FONT color="green">890</FONT>                    public void TransferLiveSession( String [] identities, String transferTopic) {<a name="line.890"></a>
<FONT color="green">891</FONT>                    <a name="line.891"></a>
<FONT color="green">892</FONT>                            Request request = null;<a name="line.892"></a>
<FONT color="green">893</FONT>                            try {<a name="line.893"></a>
<FONT color="green">894</FONT>                                    request = new XCallRequest(18,40);<a name="line.894"></a>
<FONT color="green">895</FONT>                            } catch (IOException e) {<a name="line.895"></a>
<FONT color="green">896</FONT>                                    e.printStackTrace();<a name="line.896"></a>
<FONT color="green">897</FONT>                                    if (skype.errorListener != null)<a name="line.897"></a>
<FONT color="green">898</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.898"></a>
<FONT color="green">899</FONT>                            }<a name="line.899"></a>
<FONT color="green">900</FONT>                            request.addParm('O',0,mObjectId);<a name="line.900"></a>
<FONT color="green">901</FONT>                            request.addListStart(1);<a name="line.901"></a>
<FONT color="green">902</FONT>                            for (int i=0;i&lt;identities.length;i++) {<a name="line.902"></a>
<FONT color="green">903</FONT>                                    request.addParm('S',identities[i]);<a name="line.903"></a>
<FONT color="green">904</FONT>                            }<a name="line.904"></a>
<FONT color="green">905</FONT>                            request.addParm('S',2,transferTopic);<a name="line.905"></a>
<FONT color="green">906</FONT>                            <a name="line.906"></a>
<FONT color="green">907</FONT>                            skype.XCall((XCallRequest)request);<a name="line.907"></a>
<FONT color="green">908</FONT>                    }<a name="line.908"></a>
<FONT color="green">909</FONT>                    <a name="line.909"></a>
<FONT color="green">910</FONT>                    /**<a name="line.910"></a>
<FONT color="green">911</FONT>                     *Checks if the identity is available for receiving a transferred live session. If you are going to attempt to go for multiple transfer targets, you should use this check for all the target identities. &lt;br&gt;<a name="line.911"></a>
<FONT color="green">912</FONT>                     * @param identity Target identity. &lt;br&gt;<a name="line.912"></a>
<FONT color="green">913</FONT>                     * @return result Returns true if call transfer to given target is possible. &lt;br&gt;<a name="line.913"></a>
<FONT color="green">914</FONT>                     */<a name="line.914"></a>
<FONT color="green">915</FONT>                    public boolean CanTransferLiveSession( String identity) {<a name="line.915"></a>
<FONT color="green">916</FONT>                    <a name="line.916"></a>
<FONT color="green">917</FONT>                            Request request = null;<a name="line.917"></a>
<FONT color="green">918</FONT>                            try {<a name="line.918"></a>
<FONT color="green">919</FONT>                                    request = new XCallRequest(18,46);<a name="line.919"></a>
<FONT color="green">920</FONT>                            } catch (IOException e) {<a name="line.920"></a>
<FONT color="green">921</FONT>                                    e.printStackTrace();<a name="line.921"></a>
<FONT color="green">922</FONT>                                    if (skype.errorListener != null)<a name="line.922"></a>
<FONT color="green">923</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.923"></a>
<FONT color="green">924</FONT>                            }<a name="line.924"></a>
<FONT color="green">925</FONT>                            request.addParm('O',0,mObjectId);<a name="line.925"></a>
<FONT color="green">926</FONT>                            request.addParm('S',1,identity);<a name="line.926"></a>
<FONT color="green">927</FONT>                            <a name="line.927"></a>
<FONT color="green">928</FONT>                            Response r = skype.XCall((XCallRequest)request);<a name="line.928"></a>
<FONT color="green">929</FONT>                            <a name="line.929"></a>
<FONT color="green">930</FONT>                            if (r.isErrCall())<a name="line.930"></a>
<FONT color="green">931</FONT>                                    return false;<a name="line.931"></a>
<FONT color="green">932</FONT>                                    <a name="line.932"></a>
<FONT color="green">933</FONT>                            boolean result = false;<a name="line.933"></a>
<FONT color="green">934</FONT>                            result = r.GetAsBoolean(1);<a name="line.934"></a>
<FONT color="green">935</FONT>                            return result;<a name="line.935"></a>
<FONT color="green">936</FONT>                    }<a name="line.936"></a>
<FONT color="green">937</FONT>                    <a name="line.937"></a>
<FONT color="green">938</FONT>                    /**<a name="line.938"></a>
<FONT color="green">939</FONT>                     *Sends DTMF tone to a live conversation. &lt;br&gt;<a name="line.939"></a>
<FONT color="green">940</FONT>                     * @param dtmf Outgoing dtmf tone, possible values come from Participant.DTMF enumerator. &lt;br&gt;<a name="line.940"></a>
<FONT color="green">941</FONT>                     * @param lengthInMS Duration in milliseconds. Defaults to 260 ms. Note that the DTMF tone can be also cancelled with Conversation.StopSendDTMF method. &lt;br&gt;<a name="line.941"></a>
<FONT color="green">942</FONT>                     */<a name="line.942"></a>
<FONT color="green">943</FONT>                    public void SendDTMF( Participant.DTMF dtmf, int lengthInMS) {<a name="line.943"></a>
<FONT color="green">944</FONT>                    <a name="line.944"></a>
<FONT color="green">945</FONT>                            Request request = null;<a name="line.945"></a>
<FONT color="green">946</FONT>                            try {<a name="line.946"></a>
<FONT color="green">947</FONT>                                    request = new XCallRequest(18,16);<a name="line.947"></a>
<FONT color="green">948</FONT>                            } catch (IOException e) {<a name="line.948"></a>
<FONT color="green">949</FONT>                                    e.printStackTrace();<a name="line.949"></a>
<FONT color="green">950</FONT>                                    if (skype.errorListener != null)<a name="line.950"></a>
<FONT color="green">951</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.951"></a>
<FONT color="green">952</FONT>                            }<a name="line.952"></a>
<FONT color="green">953</FONT>                            request.addParm('O',0,mObjectId);<a name="line.953"></a>
<FONT color="green">954</FONT>                            request.addParm('e',1,dtmf.getId());<a name="line.954"></a>
<FONT color="green">955</FONT>                            request.addParm('u',2,lengthInMS);<a name="line.955"></a>
<FONT color="green">956</FONT>                            <a name="line.956"></a>
<FONT color="green">957</FONT>                            skype.XCall((XCallRequest)request);<a name="line.957"></a>
<FONT color="green">958</FONT>                    }<a name="line.958"></a>
<FONT color="green">959</FONT>                    <a name="line.959"></a>
<FONT color="green">960</FONT>                    /**<a name="line.960"></a>
<FONT color="green">961</FONT>                     *Stops the current DTMF tone being played into conversation. For example, use this method to cancel DTMF signals started with Conversation.SendDTMF before the duration given in lengthInMS runs out. &lt;br&gt;<a name="line.961"></a>
<FONT color="green">962</FONT>                     */<a name="line.962"></a>
<FONT color="green">963</FONT>                    public void StopSendDTMF() {<a name="line.963"></a>
<FONT color="green">964</FONT>                    <a name="line.964"></a>
<FONT color="green">965</FONT>                            Request request = null;<a name="line.965"></a>
<FONT color="green">966</FONT>                            try {<a name="line.966"></a>
<FONT color="green">967</FONT>                                    request = new XCallRequest(18,48);<a name="line.967"></a>
<FONT color="green">968</FONT>                            } catch (IOException e) {<a name="line.968"></a>
<FONT color="green">969</FONT>                                    e.printStackTrace();<a name="line.969"></a>
<FONT color="green">970</FONT>                                    if (skype.errorListener != null)<a name="line.970"></a>
<FONT color="green">971</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.971"></a>
<FONT color="green">972</FONT>                            }<a name="line.972"></a>
<FONT color="green">973</FONT>                            request.addParm('O',0,mObjectId);<a name="line.973"></a>
<FONT color="green">974</FONT>                            <a name="line.974"></a>
<FONT color="green">975</FONT>                            skype.XCall((XCallRequest)request);<a name="line.975"></a>
<FONT color="green">976</FONT>                    }<a name="line.976"></a>
<FONT color="green">977</FONT>                    <a name="line.977"></a>
<FONT color="green">978</FONT>                    /**<a name="line.978"></a>
<FONT color="green">979</FONT>                     *Sets local user typing indicator in the Conversation. Remote Participants can display these in their UI. &lt;br&gt;<a name="line.979"></a>
<FONT color="green">980</FONT>                     * @param status Typing indicator status value - Participant.TEXT_STATUS &lt;br&gt;<a name="line.980"></a>
<FONT color="green">981</FONT>                     */<a name="line.981"></a>
<FONT color="green">982</FONT>                    public void SetMyTextStatusTo( Participant.TEXT_STATUS status) {<a name="line.982"></a>
<FONT color="green">983</FONT>                    <a name="line.983"></a>
<FONT color="green">984</FONT>                            Request request = null;<a name="line.984"></a>
<FONT color="green">985</FONT>                            try {<a name="line.985"></a>
<FONT color="green">986</FONT>                                    request = new XCallRequest(18,18);<a name="line.986"></a>
<FONT color="green">987</FONT>                            } catch (IOException e) {<a name="line.987"></a>
<FONT color="green">988</FONT>                                    e.printStackTrace();<a name="line.988"></a>
<FONT color="green">989</FONT>                                    if (skype.errorListener != null)<a name="line.989"></a>
<FONT color="green">990</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.990"></a>
<FONT color="green">991</FONT>                            }<a name="line.991"></a>
<FONT color="green">992</FONT>                            request.addParm('O',0,mObjectId);<a name="line.992"></a>
<FONT color="green">993</FONT>                            request.addParm('e',1,status.getId());<a name="line.993"></a>
<FONT color="green">994</FONT>                            <a name="line.994"></a>
<FONT color="green">995</FONT>                            skype.XCall((XCallRequest)request);<a name="line.995"></a>
<FONT color="green">996</FONT>                    }<a name="line.996"></a>
<FONT color="green">997</FONT>                    <a name="line.997"></a>
<FONT color="green">998</FONT>                    /**<a name="line.998"></a>
<FONT color="green">999</FONT>                     *Posts the specified text the conversation, and populates message with a reference to the corresponding Message object (if no error occurred during execution). The isXML argument can be used if the client UI has already taken care of converting message text to xml (for example, your UI might enable users to use bold tags in text messages.) &lt;br&gt;<a name="line.999"></a>
<FONT color="green">1000</FONT>                     * @param text Text value of the outgoing message (gets set as BODY_XML property of the Message object). &lt;br&gt;<a name="line.1000"></a>
<FONT color="green">1001</FONT>                     * @param isXML For cases where the text argument was already encoded as xml message. &lt;br&gt;<a name="line.1001"></a>
<FONT color="green">1002</FONT>                     * @return message Returns the Message object created as a result of this method (if successful). &lt;br&gt;<a name="line.1002"></a>
<FONT color="green">1003</FONT>                     */<a name="line.1003"></a>
<FONT color="green">1004</FONT>                    public Message PostText( String text, boolean isXML) {<a name="line.1004"></a>
<FONT color="green">1005</FONT>                    <a name="line.1005"></a>
<FONT color="green">1006</FONT>                            Request request = null;<a name="line.1006"></a>
<FONT color="green">1007</FONT>                            try {<a name="line.1007"></a>
<FONT color="green">1008</FONT>                                    request = new XCallRequest(18,19);<a name="line.1008"></a>
<FONT color="green">1009</FONT>                            } catch (IOException e) {<a name="line.1009"></a>
<FONT color="green">1010</FONT>                                    e.printStackTrace();<a name="line.1010"></a>
<FONT color="green">1011</FONT>                                    if (skype.errorListener != null)<a name="line.1011"></a>
<FONT color="green">1012</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1012"></a>
<FONT color="green">1013</FONT>                            }<a name="line.1013"></a>
<FONT color="green">1014</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1014"></a>
<FONT color="green">1015</FONT>                            request.addParm('S',1,text);<a name="line.1015"></a>
<FONT color="green">1016</FONT>                            request.addParm('b',2,isXML);<a name="line.1016"></a>
<FONT color="green">1017</FONT>                            <a name="line.1017"></a>
<FONT color="green">1018</FONT>                            Response r = skype.XCall((XCallRequest)request);<a name="line.1018"></a>
<FONT color="green">1019</FONT>                            <a name="line.1019"></a>
<FONT color="green">1020</FONT>                            if (r.isErrCall())<a name="line.1020"></a>
<FONT color="green">1021</FONT>                                    return null;<a name="line.1021"></a>
<FONT color="green">1022</FONT>                                    <a name="line.1022"></a>
<FONT color="green">1023</FONT>                            int oid = 0;<a name="line.1023"></a>
<FONT color="green">1024</FONT>                            Message message = null;<a name="line.1024"></a>
<FONT color="green">1025</FONT>                            oid = r.GetOid(1);<a name="line.1025"></a>
<FONT color="green">1026</FONT>                            if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.1026"></a>
<FONT color="green">1027</FONT>                                    message = (Message)skype.factory(Message.moduleID(), oid, skype);<a name="line.1027"></a>
<FONT color="green">1028</FONT>                            }<a name="line.1028"></a>
<FONT color="green">1029</FONT>                            return message;<a name="line.1029"></a>
<FONT color="green">1030</FONT>                    }<a name="line.1030"></a>
<FONT color="green">1031</FONT>                    <a name="line.1031"></a>
<FONT color="green">1032</FONT>                    /**<a name="line.1032"></a>
<FONT color="green">1033</FONT>                     *Takes a list of Contacts as an argument and posts the list into the Conversation. The purpose of this feature is to enable sharing contacts between users, without resorting to contact search. Instead, if user A has contacts B and C, he can post contact C into chat with contact B. At this point, Contact B can add contact C to his contact list. From remote side, the posted contacts will appear as messages with type Message.POSTED_CONTACTS appearing in the conversation. The UI should allow adding these contacts from messages with this type into the contact list. &lt;br&gt;&lt;br&gt;The list of posted contacts can be retrieved with the Message.GetContacts method.  &lt;br&gt;&lt;br&gt;Additionally, the UI then can parse the posted Contact data out of the Message.P_BODY_XML property. The list of contacts is wrapped between &lt;contacts ..&gt; &lt;/contacts&gt; tags. Each contact item in the xml has following format: &lt;br&gt; - t - contact type. "s" - skype contact; "p" - phone number; &lt;br&gt; - s - skypename, present only in skypename contacts (t="s") &lt;br&gt; - p - phone number, present only in phone number contacts (t="p") &lt;br&gt; - f - contact's full name, if available &lt;br&gt; - d - contact's display name, if available &lt;br&gt;&lt;br&gt;Note that only the type (t) field is mandatory. Depending on type, either skypename (s) or phone number (p) fields are always present. Full name and display name fields are optional. &lt;br&gt;&lt;br&gt;Example BODY_XML with skypname contact:  &lt;br&gt;@code &lt;br&gt;&lt;contacts alt="alt text"&gt;&lt;c t="s" s="skypename" f="full name"/&gt;&lt;/contacts&gt; &lt;br&gt;&lt;/CODE&gt; &lt;br&gt;&lt;br&gt;Example BODY_XML with PSTN contact:  &lt;br&gt;@code &lt;br&gt;&lt;contacts alt="alt text"&gt;&lt;c t="p" p="+37212345678" d="Some PSTN number"/&gt;&lt;/contacts&gt; &lt;br&gt;&lt;/CODE&gt;  &lt;br&gt;&lt;br&gt;Example BODY_XML with multiple contacts:  &lt;br&gt;@code &lt;br&gt;&lt;contacts alt="alt text"&gt;&lt;c t="p" p="+37212345678" d="Some PSTN number"/&gt;&lt;c t="s" s="someskypename"/&gt;&lt;/contacts&gt; &lt;br&gt;&lt;/CODE&gt; &lt;br&gt;<a name="line.1033"></a>
<FONT color="green">1034</FONT>                     * @param contacts List of Contact objects, to be posted in the conversation. &lt;br&gt;<a name="line.1034"></a>
<FONT color="green">1035</FONT>                     */<a name="line.1035"></a>
<FONT color="green">1036</FONT>                    public void PostContacts( Contact [] contacts) {<a name="line.1036"></a>
<FONT color="green">1037</FONT>                    <a name="line.1037"></a>
<FONT color="green">1038</FONT>                            Request request = null;<a name="line.1038"></a>
<FONT color="green">1039</FONT>                            try {<a name="line.1039"></a>
<FONT color="green">1040</FONT>                                    request = new XCallRequest(18,20);<a name="line.1040"></a>
<FONT color="green">1041</FONT>                            } catch (IOException e) {<a name="line.1041"></a>
<FONT color="green">1042</FONT>                                    e.printStackTrace();<a name="line.1042"></a>
<FONT color="green">1043</FONT>                                    if (skype.errorListener != null)<a name="line.1043"></a>
<FONT color="green">1044</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1044"></a>
<FONT color="green">1045</FONT>                            }<a name="line.1045"></a>
<FONT color="green">1046</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1046"></a>
<FONT color="green">1047</FONT>                            request.addListStart(1);<a name="line.1047"></a>
<FONT color="green">1048</FONT>                            for (int i=0;i&lt;contacts.length;i++) {<a name="line.1048"></a>
<FONT color="green">1049</FONT>                                    request.addParm('O',contacts[i].getOid());<a name="line.1049"></a>
<FONT color="green">1050</FONT>                            }<a name="line.1050"></a>
<FONT color="green">1051</FONT>                            <a name="line.1051"></a>
<FONT color="green">1052</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1052"></a>
<FONT color="green">1053</FONT>                    }<a name="line.1053"></a>
<FONT color="green">1054</FONT>                    <a name="line.1054"></a>
<FONT color="green">1055</FONT>                    /**<a name="line.1055"></a>
<FONT color="green">1056</FONT>                     *Takes a list of fully-qualified filenames and initiates corresponding file transfers in the conversation. From the remote side, incoming file transfers will appear as a conversation message with type POSTED_FILES. Once such a message is detected, the list of file transfer objects can be retrieved with Message.GetTransfers. At that point, remote participants will need to accept or decline those transfers. &lt;br&gt;<a name="line.1056"></a>
<FONT color="green">1057</FONT>                     * @param paths list of fully-qualified filenames to be transferred &lt;br&gt;<a name="line.1057"></a>
<FONT color="green">1058</FONT>                     * @param body Optional BODY_XML property for POSTED_FILES type messages that show up in remote UI. &lt;br&gt;<a name="line.1058"></a>
<FONT color="green">1059</FONT>                     * @return PostFilesResult<a name="line.1059"></a>
<FONT color="green">1060</FONT>                     */<a name="line.1060"></a>
<FONT color="green">1061</FONT>                    public PostFilesResult PostFiles( String [] paths, String body) {<a name="line.1061"></a>
<FONT color="green">1062</FONT>                    <a name="line.1062"></a>
<FONT color="green">1063</FONT>                            Request request = null;<a name="line.1063"></a>
<FONT color="green">1064</FONT>                            try {<a name="line.1064"></a>
<FONT color="green">1065</FONT>                                    request = new XCallRequest(18,21);<a name="line.1065"></a>
<FONT color="green">1066</FONT>                            } catch (IOException e) {<a name="line.1066"></a>
<FONT color="green">1067</FONT>                                    e.printStackTrace();<a name="line.1067"></a>
<FONT color="green">1068</FONT>                                    if (skype.errorListener != null)<a name="line.1068"></a>
<FONT color="green">1069</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1069"></a>
<FONT color="green">1070</FONT>                            }<a name="line.1070"></a>
<FONT color="green">1071</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1071"></a>
<FONT color="green">1072</FONT>                            request.addListStart(1);<a name="line.1072"></a>
<FONT color="green">1073</FONT>                            for (int i=0;i&lt;paths.length;i++) {<a name="line.1073"></a>
<FONT color="green">1074</FONT>                                    request.addParm('f',paths[i]);<a name="line.1074"></a>
<FONT color="green">1075</FONT>                            }<a name="line.1075"></a>
<FONT color="green">1076</FONT>                            request.addParm('S',2,body);<a name="line.1076"></a>
<FONT color="green">1077</FONT>                            <a name="line.1077"></a>
<FONT color="green">1078</FONT>                            Response r = skype.XCall((XCallRequest)request);<a name="line.1078"></a>
<FONT color="green">1079</FONT>                            <a name="line.1079"></a>
<FONT color="green">1080</FONT>                            if (r.isErrCall())<a name="line.1080"></a>
<FONT color="green">1081</FONT>                                    return null;<a name="line.1081"></a>
<FONT color="green">1082</FONT>                                    <a name="line.1082"></a>
<FONT color="green">1083</FONT>                            PostFilesResult result = new PostFilesResult();<a name="line.1083"></a>
<FONT color="green">1084</FONT>                            <a name="line.1084"></a>
<FONT color="green">1085</FONT>                            Skype.TRANSFER_SENDFILE_ERROR error_code = null;<a name="line.1085"></a>
<FONT color="green">1086</FONT>                            error_code = Skype.TRANSFER_SENDFILE_ERROR.get(r.GetAsInt(1));<a name="line.1086"></a>
<FONT color="green">1087</FONT>                            result.error_code = error_code;<a name="line.1087"></a>
<FONT color="green">1088</FONT>                            <a name="line.1088"></a>
<FONT color="green">1089</FONT>                            String error_file = null;<a name="line.1089"></a>
<FONT color="green">1090</FONT>                            error_file = r.GetAsString(2);<a name="line.1090"></a>
<FONT color="green">1091</FONT>                            result.error_file = error_file;<a name="line.1091"></a>
<FONT color="green">1092</FONT>                            <a name="line.1092"></a>
<FONT color="green">1093</FONT>                            return result;<a name="line.1093"></a>
<FONT color="green">1094</FONT>                    }<a name="line.1094"></a>
<FONT color="green">1095</FONT>                    <a name="line.1095"></a>
<FONT color="green">1096</FONT>                    public class PostFilesResult {<a name="line.1096"></a>
<FONT color="green">1097</FONT>                            public Skype.TRANSFER_SENDFILE_ERROR error_code; /** Error code, possible values come from the TRANSFER_SENDFILE_ERROR enumerator. This will be set for the first failed fail. The failed file is identified in the error_file return argument. &lt;br&gt; */<a name="line.1097"></a>
<FONT color="green">1098</FONT>                            public String error_file; /** Filename of the file that triggered error. &lt;br&gt; */<a name="line.1098"></a>
<FONT color="green">1099</FONT>                    }<a name="line.1099"></a>
<FONT color="green">1100</FONT>                    <a name="line.1100"></a>
<FONT color="green">1101</FONT>                    /**<a name="line.1101"></a>
<FONT color="green">1102</FONT>                     * Stop recording a voice mail for this conversation's remote participant and send it. Applies to conversations of type DIALOG only. &lt;br&gt;<a name="line.1102"></a>
<FONT color="green">1103</FONT>                     *Stops the active voicemail recording and sends it (dialog only)<a name="line.1103"></a>
<FONT color="green">1104</FONT>                     * @param voicemail This argument is deprecated as of SDK version 3.2. Instead of manually constructing Voicemail object, you can call Conversation.StartVoiceMessage method to start recording a voicemail in context of a dialog. PostVoiceMessage will stop recording this voicemail and post it in the dialog. If instead of sending Voicemail, the user decides to cancel it, you should use Conversation.LeaveLiveSession method (Voicemail.Cancel is deprecated). &lt;br&gt;<a name="line.1104"></a>
<FONT color="green">1105</FONT>                     * @param body Optional text message that remote UI can display in conversation, to notify the user of a new voicemail. &lt;br&gt;<a name="line.1105"></a>
<FONT color="green">1106</FONT>                     */<a name="line.1106"></a>
<FONT color="green">1107</FONT>                    public void PostVoiceMessage( Voicemail voicemail, String body) {<a name="line.1107"></a>
<FONT color="green">1108</FONT>                    <a name="line.1108"></a>
<FONT color="green">1109</FONT>                            Request request = null;<a name="line.1109"></a>
<FONT color="green">1110</FONT>                            try {<a name="line.1110"></a>
<FONT color="green">1111</FONT>                                    request = new XCallRequest(18,22);<a name="line.1111"></a>
<FONT color="green">1112</FONT>                            } catch (IOException e) {<a name="line.1112"></a>
<FONT color="green">1113</FONT>                                    e.printStackTrace();<a name="line.1113"></a>
<FONT color="green">1114</FONT>                                    if (skype.errorListener != null)<a name="line.1114"></a>
<FONT color="green">1115</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1115"></a>
<FONT color="green">1116</FONT>                            }<a name="line.1116"></a>
<FONT color="green">1117</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1117"></a>
<FONT color="green">1118</FONT>                            request.addParm('O',1,voicemail.getOid());<a name="line.1118"></a>
<FONT color="green">1119</FONT>                            request.addParm('S',2,body);<a name="line.1119"></a>
<FONT color="green">1120</FONT>                            <a name="line.1120"></a>
<FONT color="green">1121</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1121"></a>
<FONT color="green">1122</FONT>                    }<a name="line.1122"></a>
<FONT color="green">1123</FONT>                    <a name="line.1123"></a>
<FONT color="green">1124</FONT>                    /**<a name="line.1124"></a>
<FONT color="green">1125</FONT>                     *Takes an SMS instance created by Skype.CreateOutgoingSms and posts it in the conversation. Note that you will need to set both Sms body text (Sms.SetBody) and recipient list (Sms.SetTargets) before you can post the object. &lt;br&gt;<a name="line.1125"></a>
<FONT color="green">1126</FONT>                     * @param sms SMS object. &lt;br&gt;<a name="line.1126"></a>
<FONT color="green">1127</FONT>                     * @param body This argument is currently ignored. The message text needs to be set with Sms.SetBody method, prior to passing the Sms object to this method &lt;br&gt;<a name="line.1127"></a>
<FONT color="green">1128</FONT>                     */<a name="line.1128"></a>
<FONT color="green">1129</FONT>                    public void PostSMS( Sms sms, String body) {<a name="line.1129"></a>
<FONT color="green">1130</FONT>                    <a name="line.1130"></a>
<FONT color="green">1131</FONT>                            Request request = null;<a name="line.1131"></a>
<FONT color="green">1132</FONT>                            try {<a name="line.1132"></a>
<FONT color="green">1133</FONT>                                    request = new XCallRequest(18,23);<a name="line.1133"></a>
<FONT color="green">1134</FONT>                            } catch (IOException e) {<a name="line.1134"></a>
<FONT color="green">1135</FONT>                                    e.printStackTrace();<a name="line.1135"></a>
<FONT color="green">1136</FONT>                                    if (skype.errorListener != null)<a name="line.1136"></a>
<FONT color="green">1137</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1137"></a>
<FONT color="green">1138</FONT>                            }<a name="line.1138"></a>
<FONT color="green">1139</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1139"></a>
<FONT color="green">1140</FONT>                            request.addParm('O',1,sms.getOid());<a name="line.1140"></a>
<FONT color="green">1141</FONT>                            request.addParm('S',2,body);<a name="line.1141"></a>
<FONT color="green">1142</FONT>                            <a name="line.1142"></a>
<FONT color="green">1143</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1143"></a>
<FONT color="green">1144</FONT>                    }<a name="line.1144"></a>
<FONT color="green">1145</FONT>                    <a name="line.1145"></a>
<FONT color="green">1146</FONT>                    /**<a name="line.1146"></a>
<FONT color="green">1147</FONT>                     *Retrieves a binary join blob for joining public conversations, which are always of type CONFERENCE. If called for a dialog, the blob argument will contain the empty string. The best way to create a Public Chat is to first create a fresh conversation with Skype class CreateConference, then minimally apply the public chat options OPT_JOINING_ENABLED and OPT_ENTRY_LEVEL_RANK - options, like this (C++):  &lt;br&gt;@code &lt;br&gt;C-&gt;SetOption(Conversation.OPT_JOINING_ENABLED, true); &lt;br&gt;&lt;/CODE&gt; &lt;br&gt;&lt;br&gt;When that is done, you can call GetJoinBlob to retrieve the blob string. Use the blob string to generate and post an HTML link whose href attribute looks like this: href="skype:?chat&amp;blob=_BLOB_GOES_HERE" A person running Skype desktop client can click this link to join the conversation and have that conversation opened in his UI. Note that the conversation host (creator) needs to be online for new joiners-via-link to start participating in the Public Chat.<a name="line.1147"></a>
<FONT color="green">1148</FONT>                     * @return blob Returns the public conversation join blob. &lt;br&gt;<a name="line.1148"></a>
<FONT color="green">1149</FONT>                     */<a name="line.1149"></a>
<FONT color="green">1150</FONT>                    public String GetJoinBlob() {<a name="line.1150"></a>
<FONT color="green">1151</FONT>                    <a name="line.1151"></a>
<FONT color="green">1152</FONT>                            Request request = null;<a name="line.1152"></a>
<FONT color="green">1153</FONT>                            try {<a name="line.1153"></a>
<FONT color="green">1154</FONT>                                    request = new XCallRequest(18,24);<a name="line.1154"></a>
<FONT color="green">1155</FONT>                            } catch (IOException e) {<a name="line.1155"></a>
<FONT color="green">1156</FONT>                                    e.printStackTrace();<a name="line.1156"></a>
<FONT color="green">1157</FONT>                                    if (skype.errorListener != null)<a name="line.1157"></a>
<FONT color="green">1158</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1158"></a>
<FONT color="green">1159</FONT>                            }<a name="line.1159"></a>
<FONT color="green">1160</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1160"></a>
<FONT color="green">1161</FONT>                            <a name="line.1161"></a>
<FONT color="green">1162</FONT>                            Response r = skype.XCall((XCallRequest)request);<a name="line.1162"></a>
<FONT color="green">1163</FONT>                            <a name="line.1163"></a>
<FONT color="green">1164</FONT>                            if (r.isErrCall())<a name="line.1164"></a>
<FONT color="green">1165</FONT>                                    return null;<a name="line.1165"></a>
<FONT color="green">1166</FONT>                                    <a name="line.1166"></a>
<FONT color="green">1167</FONT>                            String blob = null;<a name="line.1167"></a>
<FONT color="green">1168</FONT>                            blob = r.GetAsString(1);<a name="line.1168"></a>
<FONT color="green">1169</FONT>                            return blob;<a name="line.1169"></a>
<FONT color="green">1170</FONT>                    }<a name="line.1170"></a>
<FONT color="green">1171</FONT>                    <a name="line.1171"></a>
<FONT color="green">1172</FONT>                    /**<a name="line.1172"></a>
<FONT color="green">1173</FONT>                     *Tries to join a public conversation (aka public chat). This method is only useful if you have used Skype.GetConversationByBlob method with alsoJoin argument set to false. &lt;br&gt;<a name="line.1173"></a>
<FONT color="green">1174</FONT>                     */<a name="line.1174"></a>
<FONT color="green">1175</FONT>                    public void Join() {<a name="line.1175"></a>
<FONT color="green">1176</FONT>                    <a name="line.1176"></a>
<FONT color="green">1177</FONT>                            Request request = null;<a name="line.1177"></a>
<FONT color="green">1178</FONT>                            try {<a name="line.1178"></a>
<FONT color="green">1179</FONT>                                    request = new XCallRequest(18,25);<a name="line.1179"></a>
<FONT color="green">1180</FONT>                            } catch (IOException e) {<a name="line.1180"></a>
<FONT color="green">1181</FONT>                                    e.printStackTrace();<a name="line.1181"></a>
<FONT color="green">1182</FONT>                                    if (skype.errorListener != null)<a name="line.1182"></a>
<FONT color="green">1183</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1183"></a>
<FONT color="green">1184</FONT>                            }<a name="line.1184"></a>
<FONT color="green">1185</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1185"></a>
<FONT color="green">1186</FONT>                            <a name="line.1186"></a>
<FONT color="green">1187</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1187"></a>
<FONT color="green">1188</FONT>                    }<a name="line.1188"></a>
<FONT color="green">1189</FONT>                    <a name="line.1189"></a>
<FONT color="green">1190</FONT>                    /**<a name="line.1190"></a>
<FONT color="green">1191</FONT>                     *Submits password for joining password-protected conversation. &lt;br&gt;<a name="line.1191"></a>
<FONT color="green">1192</FONT>                     * @param password Password string. &lt;br&gt;<a name="line.1192"></a>
<FONT color="green">1193</FONT>                     */<a name="line.1193"></a>
<FONT color="green">1194</FONT>                    public void EnterPassword( String password) {<a name="line.1194"></a>
<FONT color="green">1195</FONT>                    <a name="line.1195"></a>
<FONT color="green">1196</FONT>                            Request request = null;<a name="line.1196"></a>
<FONT color="green">1197</FONT>                            try {<a name="line.1197"></a>
<FONT color="green">1198</FONT>                                    request = new XCallRequest(18,26);<a name="line.1198"></a>
<FONT color="green">1199</FONT>                            } catch (IOException e) {<a name="line.1199"></a>
<FONT color="green">1200</FONT>                                    e.printStackTrace();<a name="line.1200"></a>
<FONT color="green">1201</FONT>                                    if (skype.errorListener != null)<a name="line.1201"></a>
<FONT color="green">1202</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1202"></a>
<FONT color="green">1203</FONT>                            }<a name="line.1203"></a>
<FONT color="green">1204</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1204"></a>
<FONT color="green">1205</FONT>                            request.addParm('S',1,password);<a name="line.1205"></a>
<FONT color="green">1206</FONT>                            <a name="line.1206"></a>
<FONT color="green">1207</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1207"></a>
<FONT color="green">1208</FONT>                    }<a name="line.1208"></a>
<FONT color="green">1209</FONT>                    <a name="line.1209"></a>
<FONT color="green">1210</FONT>                    /**<a name="line.1210"></a>
<FONT color="green">1211</FONT>                     *Sets password protection/new password for the conversation. &lt;br&gt;<a name="line.1211"></a>
<FONT color="green">1212</FONT>                     * @param password New password. &lt;br&gt;<a name="line.1212"></a>
<FONT color="green">1213</FONT>                     * @param hint Password hint. &lt;br&gt;<a name="line.1213"></a>
<FONT color="green">1214</FONT>                     */<a name="line.1214"></a>
<FONT color="green">1215</FONT>                    public void SetPassword( String password, String hint) {<a name="line.1215"></a>
<FONT color="green">1216</FONT>                    <a name="line.1216"></a>
<FONT color="green">1217</FONT>                            Request request = null;<a name="line.1217"></a>
<FONT color="green">1218</FONT>                            try {<a name="line.1218"></a>
<FONT color="green">1219</FONT>                                    request = new XCallRequest(18,27);<a name="line.1219"></a>
<FONT color="green">1220</FONT>                            } catch (IOException e) {<a name="line.1220"></a>
<FONT color="green">1221</FONT>                                    e.printStackTrace();<a name="line.1221"></a>
<FONT color="green">1222</FONT>                                    if (skype.errorListener != null)<a name="line.1222"></a>
<FONT color="green">1223</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1223"></a>
<FONT color="green">1224</FONT>                            }<a name="line.1224"></a>
<FONT color="green">1225</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1225"></a>
<FONT color="green">1226</FONT>                            request.addParm('S',1,password);<a name="line.1226"></a>
<FONT color="green">1227</FONT>                            request.addParm('S',2,hint);<a name="line.1227"></a>
<FONT color="green">1228</FONT>                            <a name="line.1228"></a>
<FONT color="green">1229</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1229"></a>
<FONT color="green">1230</FONT>                    }<a name="line.1230"></a>
<FONT color="green">1231</FONT>                    <a name="line.1231"></a>
<FONT color="green">1232</FONT>                    /**<a name="line.1232"></a>
<FONT color="green">1233</FONT>                     *Leaves the conference. Not applicable to dialogs. &lt;br&gt;<a name="line.1233"></a>
<FONT color="green">1234</FONT>                     */<a name="line.1234"></a>
<FONT color="green">1235</FONT>                    public void RetireFrom() {<a name="line.1235"></a>
<FONT color="green">1236</FONT>                    <a name="line.1236"></a>
<FONT color="green">1237</FONT>                            Request request = null;<a name="line.1237"></a>
<FONT color="green">1238</FONT>                            try {<a name="line.1238"></a>
<FONT color="green">1239</FONT>                                    request = new XCallRequest(18,28);<a name="line.1239"></a>
<FONT color="green">1240</FONT>                            } catch (IOException e) {<a name="line.1240"></a>
<FONT color="green">1241</FONT>                                    e.printStackTrace();<a name="line.1241"></a>
<FONT color="green">1242</FONT>                                    if (skype.errorListener != null)<a name="line.1242"></a>
<FONT color="green">1243</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1243"></a>
<FONT color="green">1244</FONT>                            }<a name="line.1244"></a>
<FONT color="green">1245</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1245"></a>
<FONT color="green">1246</FONT>                            <a name="line.1246"></a>
<FONT color="green">1247</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1247"></a>
<FONT color="green">1248</FONT>                    }<a name="line.1248"></a>
<FONT color="green">1249</FONT>                    <a name="line.1249"></a>
<FONT color="green">1250</FONT>                    /**<a name="line.1250"></a>
<FONT color="green">1251</FONT>                     *Deletes this conversation, which must be of type CONFERENCE - dialogs between local user and any of his contacts are always persistant. Note that this also removes corresponding Message and Participant objects. &lt;br&gt;<a name="line.1251"></a>
<FONT color="green">1252</FONT>                     */<a name="line.1252"></a>
<FONT color="green">1253</FONT>                    public void Delete() {<a name="line.1253"></a>
<FONT color="green">1254</FONT>                    <a name="line.1254"></a>
<FONT color="green">1255</FONT>                            Request request = null;<a name="line.1255"></a>
<FONT color="green">1256</FONT>                            try {<a name="line.1256"></a>
<FONT color="green">1257</FONT>                                    request = new XCallRequest(18,47);<a name="line.1257"></a>
<FONT color="green">1258</FONT>                            } catch (IOException e) {<a name="line.1258"></a>
<FONT color="green">1259</FONT>                                    e.printStackTrace();<a name="line.1259"></a>
<FONT color="green">1260</FONT>                                    if (skype.errorListener != null)<a name="line.1260"></a>
<FONT color="green">1261</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1261"></a>
<FONT color="green">1262</FONT>                            }<a name="line.1262"></a>
<FONT color="green">1263</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1263"></a>
<FONT color="green">1264</FONT>                            <a name="line.1264"></a>
<FONT color="green">1265</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1265"></a>
<FONT color="green">1266</FONT>                    }<a name="line.1266"></a>
<FONT color="green">1267</FONT>                    <a name="line.1267"></a>
<FONT color="green">1268</FONT>                    /**<a name="line.1268"></a>
<FONT color="green">1269</FONT>                     *Changes the META_NAME property of the conversation. Note that unlike topic and guidelines, this rename is just local - remote participants can have their own private names for conversations. &lt;br&gt;<a name="line.1269"></a>
<FONT color="green">1270</FONT>                     * @param name New name for the conversation. Passing an empty string in this argument causes the META_NAME to unset. &lt;br&gt;<a name="line.1270"></a>
<FONT color="green">1271</FONT>                     */<a name="line.1271"></a>
<FONT color="green">1272</FONT>                    public void RenameTo( String name) {<a name="line.1272"></a>
<FONT color="green">1273</FONT>                    <a name="line.1273"></a>
<FONT color="green">1274</FONT>                            Request request = null;<a name="line.1274"></a>
<FONT color="green">1275</FONT>                            try {<a name="line.1275"></a>
<FONT color="green">1276</FONT>                                    request = new XCallRequest(18,29);<a name="line.1276"></a>
<FONT color="green">1277</FONT>                            } catch (IOException e) {<a name="line.1277"></a>
<FONT color="green">1278</FONT>                                    e.printStackTrace();<a name="line.1278"></a>
<FONT color="green">1279</FONT>                                    if (skype.errorListener != null)<a name="line.1279"></a>
<FONT color="green">1280</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1280"></a>
<FONT color="green">1281</FONT>                            }<a name="line.1281"></a>
<FONT color="green">1282</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1282"></a>
<FONT color="green">1283</FONT>                            request.addParm('S',1,name);<a name="line.1283"></a>
<FONT color="green">1284</FONT>                            <a name="line.1284"></a>
<FONT color="green">1285</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1285"></a>
<FONT color="green">1286</FONT>                    }<a name="line.1286"></a>
<FONT color="green">1287</FONT>                    <a name="line.1287"></a>
<FONT color="green">1288</FONT>                    /**<a name="line.1288"></a>
<FONT color="green">1289</FONT>                     *Setter for Conversation class IS_BOOKMARKED. &lt;br&gt;<a name="line.1289"></a>
<FONT color="green">1290</FONT>                     * @param bookmark Set true to set the bookmark, false to remove the bookmark. &lt;br&gt;<a name="line.1290"></a>
<FONT color="green">1291</FONT>                     */<a name="line.1291"></a>
<FONT color="green">1292</FONT>                    public void SetBookmark( boolean bookmark) {<a name="line.1292"></a>
<FONT color="green">1293</FONT>                    <a name="line.1293"></a>
<FONT color="green">1294</FONT>                            Request request = null;<a name="line.1294"></a>
<FONT color="green">1295</FONT>                            try {<a name="line.1295"></a>
<FONT color="green">1296</FONT>                                    request = new XCallRequest(18,30);<a name="line.1296"></a>
<FONT color="green">1297</FONT>                            } catch (IOException e) {<a name="line.1297"></a>
<FONT color="green">1298</FONT>                                    e.printStackTrace();<a name="line.1298"></a>
<FONT color="green">1299</FONT>                                    if (skype.errorListener != null)<a name="line.1299"></a>
<FONT color="green">1300</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1300"></a>
<FONT color="green">1301</FONT>                            }<a name="line.1301"></a>
<FONT color="green">1302</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1302"></a>
<FONT color="green">1303</FONT>                            request.addParm('b',1,bookmark);<a name="line.1303"></a>
<FONT color="green">1304</FONT>                            <a name="line.1304"></a>
<FONT color="green">1305</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1305"></a>
<FONT color="green">1306</FONT>                    }<a name="line.1306"></a>
<FONT color="green">1307</FONT>                    <a name="line.1307"></a>
<FONT color="green">1308</FONT>                    /**<a name="line.1308"></a>
<FONT color="green">1309</FONT>                     *Setter for Conversation class ALERT_STRING property. The main use of this property is checking bodies of incoming messages in the conversation for the alert string and producing notifications in UI for the user, when appropriate. &lt;br&gt;<a name="line.1309"></a>
<FONT color="green">1310</FONT>                     * @param alertString Substring to check in BODY_XML property of incoming messages. &lt;br&gt;<a name="line.1310"></a>
<FONT color="green">1311</FONT>                     */<a name="line.1311"></a>
<FONT color="green">1312</FONT>                    public void SetAlertString( String alertString) {<a name="line.1312"></a>
<FONT color="green">1313</FONT>                    <a name="line.1313"></a>
<FONT color="green">1314</FONT>                            Request request = null;<a name="line.1314"></a>
<FONT color="green">1315</FONT>                            try {<a name="line.1315"></a>
<FONT color="green">1316</FONT>                                    request = new XCallRequest(18,31);<a name="line.1316"></a>
<FONT color="green">1317</FONT>                            } catch (IOException e) {<a name="line.1317"></a>
<FONT color="green">1318</FONT>                                    e.printStackTrace();<a name="line.1318"></a>
<FONT color="green">1319</FONT>                                    if (skype.errorListener != null)<a name="line.1319"></a>
<FONT color="green">1320</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1320"></a>
<FONT color="green">1321</FONT>                            }<a name="line.1321"></a>
<FONT color="green">1322</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1322"></a>
<FONT color="green">1323</FONT>                            request.addParm('S',1,alertString);<a name="line.1323"></a>
<FONT color="green">1324</FONT>                            <a name="line.1324"></a>
<FONT color="green">1325</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1325"></a>
<FONT color="green">1326</FONT>                    }<a name="line.1326"></a>
<FONT color="green">1327</FONT>                    <a name="line.1327"></a>
<FONT color="green">1328</FONT>                    /**<a name="line.1328"></a>
<FONT color="green">1329</FONT>                     *Removes conversation from Inbox. &lt;br&gt;<a name="line.1329"></a>
<FONT color="green">1330</FONT>                     */<a name="line.1330"></a>
<FONT color="green">1331</FONT>                    public void RemoveFromInbox() {<a name="line.1331"></a>
<FONT color="green">1332</FONT>                    <a name="line.1332"></a>
<FONT color="green">1333</FONT>                            Request request = null;<a name="line.1333"></a>
<FONT color="green">1334</FONT>                            try {<a name="line.1334"></a>
<FONT color="green">1335</FONT>                                    request = new XCallRequest(18,32);<a name="line.1335"></a>
<FONT color="green">1336</FONT>                            } catch (IOException e) {<a name="line.1336"></a>
<FONT color="green">1337</FONT>                                    e.printStackTrace();<a name="line.1337"></a>
<FONT color="green">1338</FONT>                                    if (skype.errorListener != null)<a name="line.1338"></a>
<FONT color="green">1339</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1339"></a>
<FONT color="green">1340</FONT>                            }<a name="line.1340"></a>
<FONT color="green">1341</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1341"></a>
<FONT color="green">1342</FONT>                            <a name="line.1342"></a>
<FONT color="green">1343</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1343"></a>
<FONT color="green">1344</FONT>                    }<a name="line.1344"></a>
<FONT color="green">1345</FONT>                    <a name="line.1345"></a>
<FONT color="green">1346</FONT>                    /**<a name="line.1346"></a>
<FONT color="green">1347</FONT>                     *Sets Conversation inbox_timestamp property. If the timestamp argument is left empty or is greater than conversation consumption horizon, then the conversation will be restored to the inbox. &lt;br&gt;<a name="line.1347"></a>
<FONT color="green">1348</FONT>                     * @param timestamp If left empty or set to 0, the inbox_timestamp property is set to current time. &lt;br&gt;<a name="line.1348"></a>
<FONT color="green">1349</FONT>                     */<a name="line.1349"></a>
<FONT color="green">1350</FONT>                    public void AddToInbox( int timestamp) {<a name="line.1350"></a>
<FONT color="green">1351</FONT>                    <a name="line.1351"></a>
<FONT color="green">1352</FONT>                            Request request = null;<a name="line.1352"></a>
<FONT color="green">1353</FONT>                            try {<a name="line.1353"></a>
<FONT color="green">1354</FONT>                                    request = new XCallRequest(18,33);<a name="line.1354"></a>
<FONT color="green">1355</FONT>                            } catch (IOException e) {<a name="line.1355"></a>
<FONT color="green">1356</FONT>                                    e.printStackTrace();<a name="line.1356"></a>
<FONT color="green">1357</FONT>                                    if (skype.errorListener != null)<a name="line.1357"></a>
<FONT color="green">1358</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1358"></a>
<FONT color="green">1359</FONT>                            }<a name="line.1359"></a>
<FONT color="green">1360</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1360"></a>
<FONT color="green">1361</FONT>                            request.addParm('u',1,timestamp);<a name="line.1361"></a>
<FONT color="green">1362</FONT>                            <a name="line.1362"></a>
<FONT color="green">1363</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1363"></a>
<FONT color="green">1364</FONT>                    }<a name="line.1364"></a>
<FONT color="green">1365</FONT>                    <a name="line.1365"></a>
<FONT color="green">1366</FONT>                    /**<a name="line.1366"></a>
<FONT color="green">1367</FONT>                     *This method can be used to set the consumption (read) status of messages in the conversation. It sets Message.CONSUMPTION_STATUS to Message.CONSUMED for all messages in the conversation, older than the given timestamp. If the second argument is set to true, it also modifies messages more recent than the timestamp, by marking them as unconsumed. &lt;br&gt;<a name="line.1367"></a>
<FONT color="green">1368</FONT>                     * @param timestamp Consumption cutoff timestamp. Setting this to current time will mark all messages in the conversation as consumed. &lt;br&gt;<a name="line.1368"></a>
<FONT color="green">1369</FONT>                     * @param also_unconsume If set to true, this also marks messages newer than the cutoff timestamp as unconsumed. For example, setting timestamp to 0 and also_unconsumed to true, will unconsume all messages in the conversation. &lt;br&gt;<a name="line.1369"></a>
<FONT color="green">1370</FONT>                     */<a name="line.1370"></a>
<FONT color="green">1371</FONT>                    public void SetConsumedHorizon( int timestamp, boolean also_unconsume) {<a name="line.1371"></a>
<FONT color="green">1372</FONT>                    <a name="line.1372"></a>
<FONT color="green">1373</FONT>                            Request request = null;<a name="line.1373"></a>
<FONT color="green">1374</FONT>                            try {<a name="line.1374"></a>
<FONT color="green">1375</FONT>                                    request = new XCallRequest(18,34);<a name="line.1375"></a>
<FONT color="green">1376</FONT>                            } catch (IOException e) {<a name="line.1376"></a>
<FONT color="green">1377</FONT>                                    e.printStackTrace();<a name="line.1377"></a>
<FONT color="green">1378</FONT>                                    if (skype.errorListener != null)<a name="line.1378"></a>
<FONT color="green">1379</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1379"></a>
<FONT color="green">1380</FONT>                            }<a name="line.1380"></a>
<FONT color="green">1381</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1381"></a>
<FONT color="green">1382</FONT>                            request.addParm('u',1,timestamp);<a name="line.1382"></a>
<FONT color="green">1383</FONT>                            request.addParm('b',2,also_unconsume);<a name="line.1383"></a>
<FONT color="green">1384</FONT>                            <a name="line.1384"></a>
<FONT color="green">1385</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1385"></a>
<FONT color="green">1386</FONT>                    }<a name="line.1386"></a>
<FONT color="green">1387</FONT>                    <a name="line.1387"></a>
<FONT color="green">1388</FONT>                    /**<a name="line.1388"></a>
<FONT color="green">1389</FONT>                     *sets consumption horizon to last inbox message id timestamp<a name="line.1389"></a>
<FONT color="green">1390</FONT>                     */<a name="line.1390"></a>
<FONT color="green">1391</FONT>                    public void MarkUnread() {<a name="line.1391"></a>
<FONT color="green">1392</FONT>                    <a name="line.1392"></a>
<FONT color="green">1393</FONT>                            Request request = null;<a name="line.1393"></a>
<FONT color="green">1394</FONT>                            try {<a name="line.1394"></a>
<FONT color="green">1395</FONT>                                    request = new XCallRequest(18,35);<a name="line.1395"></a>
<FONT color="green">1396</FONT>                            } catch (IOException e) {<a name="line.1396"></a>
<FONT color="green">1397</FONT>                                    e.printStackTrace();<a name="line.1397"></a>
<FONT color="green">1398</FONT>                                    if (skype.errorListener != null)<a name="line.1398"></a>
<FONT color="green">1399</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1399"></a>
<FONT color="green">1400</FONT>                            }<a name="line.1400"></a>
<FONT color="green">1401</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1401"></a>
<FONT color="green">1402</FONT>                            <a name="line.1402"></a>
<FONT color="green">1403</FONT>                            skype.XCall((XCallRequest)request);<a name="line.1403"></a>
<FONT color="green">1404</FONT>                    }<a name="line.1404"></a>
<FONT color="green">1405</FONT>                    <a name="line.1405"></a>
<FONT color="green">1406</FONT>                    /**<a name="line.1406"></a>
<FONT color="green">1407</FONT>                     *Checks if the conversation is a member of the given ContactGroup &lt;br&gt;<a name="line.1407"></a>
<FONT color="green">1408</FONT>                     * @param group ContactGroup &lt;br&gt;<a name="line.1408"></a>
<FONT color="green">1409</FONT>                     * @return result True if this conversation is a member of the ContactGroup specified by the group argument contains the conversation &lt;br&gt;<a name="line.1409"></a>
<FONT color="green">1410</FONT>                     */<a name="line.1410"></a>
<FONT color="green">1411</FONT>                    public boolean IsMemberOf( ContactGroup group) {<a name="line.1411"></a>
<FONT color="green">1412</FONT>                    <a name="line.1412"></a>
<FONT color="green">1413</FONT>                            Request request = null;<a name="line.1413"></a>
<FONT color="green">1414</FONT>                            try {<a name="line.1414"></a>
<FONT color="green">1415</FONT>                                    request = new XCallRequest(18,37);<a name="line.1415"></a>
<FONT color="green">1416</FONT>                            } catch (IOException e) {<a name="line.1416"></a>
<FONT color="green">1417</FONT>                                    e.printStackTrace();<a name="line.1417"></a>
<FONT color="green">1418</FONT>                                    if (skype.errorListener != null)<a name="line.1418"></a>
<FONT color="green">1419</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1419"></a>
<FONT color="green">1420</FONT>                            }<a name="line.1420"></a>
<FONT color="green">1421</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1421"></a>
<FONT color="green">1422</FONT>                            request.addParm('O',1,group.getOid());<a name="line.1422"></a>
<FONT color="green">1423</FONT>                            <a name="line.1423"></a>
<FONT color="green">1424</FONT>                            Response r = skype.XCall((XCallRequest)request);<a name="line.1424"></a>
<FONT color="green">1425</FONT>                            <a name="line.1425"></a>
<FONT color="green">1426</FONT>                            if (r.isErrCall())<a name="line.1426"></a>
<FONT color="green">1427</FONT>                                    return false;<a name="line.1427"></a>
<FONT color="green">1428</FONT>                                    <a name="line.1428"></a>
<FONT color="green">1429</FONT>                            boolean result = false;<a name="line.1429"></a>
<FONT color="green">1430</FONT>                            result = r.GetAsBoolean(1);<a name="line.1430"></a>
<FONT color="green">1431</FONT>                            return result;<a name="line.1431"></a>
<FONT color="green">1432</FONT>                    }<a name="line.1432"></a>
<FONT color="green">1433</FONT>                    <a name="line.1433"></a>
<FONT color="green">1434</FONT>                    /**<a name="line.1434"></a>
<FONT color="green">1435</FONT>                     */<a name="line.1435"></a>
<FONT color="green">1436</FONT>                    public enum PARTICIPANTFILTER {<a name="line.1436"></a>
<FONT color="green">1437</FONT>                    <a name="line.1437"></a>
<FONT color="green">1438</FONT>                            /** All participants (may included some that are RETIRED or OUTLAW, but not all of them)*/<a name="line.1438"></a>
<FONT color="green">1439</FONT>                            ALL(0),<a name="line.1439"></a>
<FONT color="green">1440</FONT>                            <a name="line.1440"></a>
<FONT color="green">1441</FONT>                            /** Participants that can receive messages, including myself*/<a name="line.1441"></a>
<FONT color="green">1442</FONT>                            CONSUMERS(1),<a name="line.1442"></a>
<FONT color="green">1443</FONT>                            <a name="line.1443"></a>
<FONT color="green">1444</FONT>                            /** Only people who are applying to join the conversation*/<a name="line.1444"></a>
<FONT color="green">1445</FONT>                            APPLICANTS(2),<a name="line.1445"></a>
<FONT color="green">1446</FONT>                            <a name="line.1446"></a>
<FONT color="green">1447</FONT>                            /** Consumers and applicants*/<a name="line.1447"></a>
<FONT color="green">1448</FONT>                            CONSUMERS_AND_APPLICANTS(3),<a name="line.1448"></a>
<FONT color="green">1449</FONT>                            <a name="line.1449"></a>
<FONT color="green">1450</FONT>                            /** Myself*/<a name="line.1450"></a>
<FONT color="green">1451</FONT>                            MYSELF(4),<a name="line.1451"></a>
<FONT color="green">1452</FONT>                            <a name="line.1452"></a>
<FONT color="green">1453</FONT>                            /** All consumers except myself*/<a name="line.1453"></a>
<FONT color="green">1454</FONT>                            OTHER_CONSUMERS(5);<a name="line.1454"></a>
<FONT color="green">1455</FONT>                            <a name="line.1455"></a>
<FONT color="green">1456</FONT>                            private static final Map&lt;Integer,PARTICIPANTFILTER&gt; lookup = new HashMap&lt;Integer,PARTICIPANTFILTER&gt;();<a name="line.1456"></a>
<FONT color="green">1457</FONT>                            <a name="line.1457"></a>
<FONT color="green">1458</FONT>                            static {<a name="line.1458"></a>
<FONT color="green">1459</FONT>                                    for(PARTICIPANTFILTER s : EnumSet.allOf(PARTICIPANTFILTER.class))<a name="line.1459"></a>
<FONT color="green">1460</FONT>                                            lookup.put(s.getId(), s);<a name="line.1460"></a>
<FONT color="green">1461</FONT>                            }<a name="line.1461"></a>
<FONT color="green">1462</FONT>                            <a name="line.1462"></a>
<FONT color="green">1463</FONT>                            private final int id;<a name="line.1463"></a>
<FONT color="green">1464</FONT>                            <a name="line.1464"></a>
<FONT color="green">1465</FONT>                            private PARTICIPANTFILTER(int value) {<a name="line.1465"></a>
<FONT color="green">1466</FONT>                                    this.id = value;<a name="line.1466"></a>
<FONT color="green">1467</FONT>                            }<a name="line.1467"></a>
<FONT color="green">1468</FONT>                            <a name="line.1468"></a>
<FONT color="green">1469</FONT>                            public int getId() { return id; }<a name="line.1469"></a>
<FONT color="green">1470</FONT>                            <a name="line.1470"></a>
<FONT color="green">1471</FONT>                            public static PARTICIPANTFILTER get(int code) {<a name="line.1471"></a>
<FONT color="green">1472</FONT>                                    return lookup.get(code);<a name="line.1472"></a>
<FONT color="green">1473</FONT>                            }<a name="line.1473"></a>
<FONT color="green">1474</FONT>                            <a name="line.1474"></a>
<FONT color="green">1475</FONT>                            public static PARTICIPANTFILTER fromString(String s) {<a name="line.1475"></a>
<FONT color="green">1476</FONT>                                    for (PARTICIPANTFILTER p : lookup.values()) {<a name="line.1476"></a>
<FONT color="green">1477</FONT>                                            if (p.toString() == s) {<a name="line.1477"></a>
<FONT color="green">1478</FONT>                                                    return p;<a name="line.1478"></a>
<FONT color="green">1479</FONT>                                            }<a name="line.1479"></a>
<FONT color="green">1480</FONT>                                    }<a name="line.1480"></a>
<FONT color="green">1481</FONT>                                    return null;<a name="line.1481"></a>
<FONT color="green">1482</FONT>                            }<a name="line.1482"></a>
<FONT color="green">1483</FONT>                    }<a name="line.1483"></a>
<FONT color="green">1484</FONT>                    <a name="line.1484"></a>
<FONT color="green">1485</FONT>                    /**<a name="line.1485"></a>
<FONT color="green">1486</FONT>                     *Retrieves the list of this conversation's current participants, which you can optionally request to be filtered. If no Participants pass the filter, an empty list will be returned (the method itself still returns true). &lt;br&gt;<a name="line.1486"></a>
<FONT color="green">1487</FONT>                     * @param filter Conversation.PARTICIPANTFILTER - defaults to Conversation.ALL &lt;br&gt;<a name="line.1487"></a>
<FONT color="green">1488</FONT>                     * @return participants List of conversation Participant objects that passed the filter. &lt;br&gt;<a name="line.1488"></a>
<FONT color="green">1489</FONT>                     */<a name="line.1489"></a>
<FONT color="green">1490</FONT>                    public Participant [] GetParticipants( Conversation.PARTICIPANTFILTER filter) {<a name="line.1490"></a>
<FONT color="green">1491</FONT>                    <a name="line.1491"></a>
<FONT color="green">1492</FONT>                            Request request = null;<a name="line.1492"></a>
<FONT color="green">1493</FONT>                            try {<a name="line.1493"></a>
<FONT color="green">1494</FONT>                                    request = new XCallRequest(18,38);<a name="line.1494"></a>
<FONT color="green">1495</FONT>                            } catch (IOException e) {<a name="line.1495"></a>
<FONT color="green">1496</FONT>                                    e.printStackTrace();<a name="line.1496"></a>
<FONT color="green">1497</FONT>                                    if (skype.errorListener != null)<a name="line.1497"></a>
<FONT color="green">1498</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1498"></a>
<FONT color="green">1499</FONT>                            }<a name="line.1499"></a>
<FONT color="green">1500</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1500"></a>
<FONT color="green">1501</FONT>                            request.addParm('e',1,filter.getId());<a name="line.1501"></a>
<FONT color="green">1502</FONT>                            <a name="line.1502"></a>
<FONT color="green">1503</FONT>                            Response r = skype.XCall((XCallRequest)request);<a name="line.1503"></a>
<FONT color="green">1504</FONT>                            <a name="line.1504"></a>
<FONT color="green">1505</FONT>                            if (r.isErrCall())<a name="line.1505"></a>
<FONT color="green">1506</FONT>                                    return null;<a name="line.1506"></a>
<FONT color="green">1507</FONT>                                    <a name="line.1507"></a>
<FONT color="green">1508</FONT>                            Vector&lt;Participant&gt; participants = new Vector&lt;Participant&gt;();<a name="line.1508"></a>
<FONT color="green">1509</FONT>                            while (r.HasMore(1))<a name="line.1509"></a>
<FONT color="green">1510</FONT>                            {<a name="line.1510"></a>
<FONT color="green">1511</FONT>                                    int oid = 0;<a name="line.1511"></a>
<FONT color="green">1512</FONT>                                    Participant participant = null;<a name="line.1512"></a>
<FONT color="green">1513</FONT>                                    oid = r.GetOid(1);<a name="line.1513"></a>
<FONT color="green">1514</FONT>                                    if (oid != AbstractDecoder.NULL_VALUE) { <a name="line.1514"></a>
<FONT color="green">1515</FONT>                                            participant = (Participant)skype.factory(Participant.moduleID(), oid, skype);<a name="line.1515"></a>
<FONT color="green">1516</FONT>                                    }<a name="line.1516"></a>
<FONT color="green">1517</FONT>                                    participants.add(participant);<a name="line.1517"></a>
<FONT color="green">1518</FONT>                            }<a name="line.1518"></a>
<FONT color="green">1519</FONT>                            return participants.toArray(new Participant[participants.size()]);<a name="line.1519"></a>
<FONT color="green">1520</FONT>                            <a name="line.1520"></a>
<FONT color="green">1521</FONT>                    }<a name="line.1521"></a>
<FONT color="green">1522</FONT>                    <a name="line.1522"></a>
<FONT color="green">1523</FONT>                    /**<a name="line.1523"></a>
<FONT color="green">1524</FONT>                     *Returns recent messages. The messages are returned in two lists - new messages (unconsumed) and recent message history (context messages). The context message list contains messages that are already above the consumption horizon but are fairly recent, making it likely that displaying them in UI would be good default behaviour. &lt;br&gt;<a name="line.1524"></a>
<FONT color="green">1525</FONT>                     * @param requireTimestamp If set to a non-zero value, includes messages no earlier than this timestamp, if not, includes messages from the last 24 hours only &lt;br&gt;<a name="line.1525"></a>
<FONT color="green">1526</FONT>                     * @return GetLastMessagesResult<a name="line.1526"></a>
<FONT color="green">1527</FONT>                     */<a name="line.1527"></a>
<FONT color="green">1528</FONT>                    public GetLastMessagesResult GetLastMessages( int requireTimestamp) {<a name="line.1528"></a>
<FONT color="green">1529</FONT>                    <a name="line.1529"></a>
<FONT color="green">1530</FONT>                            Request request = null;<a name="line.1530"></a>
<FONT color="green">1531</FONT>                            try {<a name="line.1531"></a>
<FONT color="green">1532</FONT>                                    request = new XCallRequest(18,39);<a name="line.1532"></a>
<FONT color="green">1533</FONT>                            } catch (IOException e) {<a name="line.1533"></a>
<FONT color="green">1534</FONT>                                    e.printStackTrace();<a name="line.1534"></a>
<FONT color="green">1535</FONT>                                    if (skype.errorListener != null)<a name="line.1535"></a>
<FONT color="green">1536</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1536"></a>
<FONT color="green">1537</FONT>                            }<a name="line.1537"></a>
<FONT color="green">1538</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1538"></a>
<FONT color="green">1539</FONT>                            request.addParm('u',1,requireTimestamp);<a name="line.1539"></a>
<FONT color="green">1540</FONT>                            <a name="line.1540"></a>
<FONT color="green">1541</FONT>                            Response r = skype.XCall((XCallRequest)request);<a name="line.1541"></a>
<FONT color="green">1542</FONT>                            <a name="line.1542"></a>
<FONT color="green">1543</FONT>                            if (r.isErrCall())<a name="line.1543"></a>
<FONT color="green">1544</FONT>                                    return null;<a name="line.1544"></a>
<FONT color="green">1545</FONT>                                    <a name="line.1545"></a>
<FONT color="green">1546</FONT>                            GetLastMessagesResult result = new GetLastMessagesResult();<a name="line.1546"></a>
<FONT color="green">1547</FONT>                            <a name="line.1547"></a>
<FONT color="green">1548</FONT>                            Vector&lt;Message&gt; contextMessages = new Vector&lt;Message&gt;();<a name="line.1548"></a>
<FONT color="green">1549</FONT>                            while (r.HasMore(1))<a name="line.1549"></a>
<FONT color="green">1550</FONT>                            {<a name="line.1550"></a>
<FONT color="green">1551</FONT>                                    int oid = 0;<a name="line.1551"></a>
<FONT color="green">1552</FONT>                                    Message message = null;<a name="line.1552"></a>
<FONT color="green">1553</FONT>                                    oid = r.GetOid(1);<a name="line.1553"></a>
<FONT color="green">1554</FONT>                                    if (oid != AbstractDecoder.NULL_VALUE) { <a name="line.1554"></a>
<FONT color="green">1555</FONT>                                            message = (Message)skype.factory(Message.moduleID(), oid, skype);<a name="line.1555"></a>
<FONT color="green">1556</FONT>                                    }<a name="line.1556"></a>
<FONT color="green">1557</FONT>                                    contextMessages.add(message);<a name="line.1557"></a>
<FONT color="green">1558</FONT>                            }<a name="line.1558"></a>
<FONT color="green">1559</FONT>                            result.contextMessages = contextMessages.toArray(new Message[contextMessages.size()]);<a name="line.1559"></a>
<FONT color="green">1560</FONT>                            <a name="line.1560"></a>
<FONT color="green">1561</FONT>                            Vector&lt;Message&gt; unconsumedMessages = new Vector&lt;Message&gt;();<a name="line.1561"></a>
<FONT color="green">1562</FONT>                            while (r.HasMore(2))<a name="line.1562"></a>
<FONT color="green">1563</FONT>                            {<a name="line.1563"></a>
<FONT color="green">1564</FONT>                                    int oid = 0;<a name="line.1564"></a>
<FONT color="green">1565</FONT>                                    Message message = null;<a name="line.1565"></a>
<FONT color="green">1566</FONT>                                    oid = r.GetOid(2);<a name="line.1566"></a>
<FONT color="green">1567</FONT>                                    if (oid != AbstractDecoder.NULL_VALUE) { <a name="line.1567"></a>
<FONT color="green">1568</FONT>                                            message = (Message)skype.factory(Message.moduleID(), oid, skype);<a name="line.1568"></a>
<FONT color="green">1569</FONT>                                    }<a name="line.1569"></a>
<FONT color="green">1570</FONT>                                    unconsumedMessages.add(message);<a name="line.1570"></a>
<FONT color="green">1571</FONT>                            }<a name="line.1571"></a>
<FONT color="green">1572</FONT>                            result.unconsumedMessages = unconsumedMessages.toArray(new Message[unconsumedMessages.size()]);<a name="line.1572"></a>
<FONT color="green">1573</FONT>                            <a name="line.1573"></a>
<FONT color="green">1574</FONT>                            return result;<a name="line.1574"></a>
<FONT color="green">1575</FONT>                    }<a name="line.1575"></a>
<FONT color="green">1576</FONT>                    <a name="line.1576"></a>
<FONT color="green">1577</FONT>                    public class GetLastMessagesResult {<a name="line.1577"></a>
<FONT color="green">1578</FONT>                            public Message [] contextMessages; /** Already consumed messages, provided for context */<a name="line.1578"></a>
<FONT color="green">1579</FONT>                            public Message [] unconsumedMessages; /** Unconsumed messages */<a name="line.1579"></a>
<FONT color="green">1580</FONT>                    }<a name="line.1580"></a>
<FONT color="green">1581</FONT>                    <a name="line.1581"></a>
<FONT color="green">1582</FONT>                    /**<a name="line.1582"></a>
<FONT color="green">1583</FONT>                     *Finds the most recent Message object in the conversation that contains the substring specified by the text argument. If no matching messages are found, this method will return false. The search proceeds backwards in time, starting from the timestamp argument. To continue searching, you can start with timestamp=MAX_UINT, retrieve the TIMESTAMP property of the matching message, decrement it by one, and submit it as timestamp for the next FindMessage call. &lt;br&gt;<a name="line.1583"></a>
<FONT color="green">1584</FONT>                     * @param text Substring to search for. &lt;br&gt;<a name="line.1584"></a>
<FONT color="green">1585</FONT>                     * @param fromTimestampUp<a name="line.1585"></a>
<FONT color="green">1586</FONT>                     * @return message Returns matching message or 0 if there was no match. As the likelihood of this object being invalid is quite high, you should always check for method return value before you start calling methods of this object. &lt;br&gt;<a name="line.1586"></a>
<FONT color="green">1587</FONT>                     */<a name="line.1587"></a>
<FONT color="green">1588</FONT>                    public Message FindMessage( String text, int fromTimestampUp) {<a name="line.1588"></a>
<FONT color="green">1589</FONT>                    <a name="line.1589"></a>
<FONT color="green">1590</FONT>                            Request request = null;<a name="line.1590"></a>
<FONT color="green">1591</FONT>                            try {<a name="line.1591"></a>
<FONT color="green">1592</FONT>                                    request = new XCallRequest(18,41);<a name="line.1592"></a>
<FONT color="green">1593</FONT>                            } catch (IOException e) {<a name="line.1593"></a>
<FONT color="green">1594</FONT>                                    e.printStackTrace();<a name="line.1594"></a>
<FONT color="green">1595</FONT>                                    if (skype.errorListener != null)<a name="line.1595"></a>
<FONT color="green">1596</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.1596"></a>
<FONT color="green">1597</FONT>                            }<a name="line.1597"></a>
<FONT color="green">1598</FONT>                            request.addParm('O',0,mObjectId);<a name="line.1598"></a>
<FONT color="green">1599</FONT>                            request.addParm('S',1,text);<a name="line.1599"></a>
<FONT color="green">1600</FONT>                            request.addParm('u',2,fromTimestampUp);<a name="line.1600"></a>
<FONT color="green">1601</FONT>                            <a name="line.1601"></a>
<FONT color="green">1602</FONT>                            Response r = skype.XCall((XCallRequest)request);<a name="line.1602"></a>
<FONT color="green">1603</FONT>                            <a name="line.1603"></a>
<FONT color="green">1604</FONT>                            if (r.isErrCall())<a name="line.1604"></a>
<FONT color="green">1605</FONT>                                    return null;<a name="line.1605"></a>
<FONT color="green">1606</FONT>                                    <a name="line.1606"></a>
<FONT color="green">1607</FONT>                            int oid = 0;<a name="line.1607"></a>
<FONT color="green">1608</FONT>                            Message message = null;<a name="line.1608"></a>
<FONT color="green">1609</FONT>                            oid = r.GetOid(1);<a name="line.1609"></a>
<FONT color="green">1610</FONT>                            if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.1610"></a>
<FONT color="green">1611</FONT>                                    message = (Message)skype.factory(Message.moduleID(), oid, skype);<a name="line.1611"></a>
<FONT color="green">1612</FONT>                            }<a name="line.1612"></a>
<FONT color="green">1613</FONT>                            return message;<a name="line.1613"></a>
<FONT color="green">1614</FONT>                    }<a name="line.1614"></a>
<FONT color="green">1615</FONT>                    <a name="line.1615"></a>
<FONT color="green">1616</FONT>                    /**<a name="line.1616"></a>
<FONT color="green">1617</FONT>                     */<a name="line.1617"></a>
<FONT color="green">1618</FONT>                    public enum LIST_TYPE {<a name="line.1618"></a>
<FONT color="green">1619</FONT>                    <a name="line.1619"></a>
<FONT color="green">1620</FONT>                            /** bookmarked or in_inbox or live or with_meta_info or activity in last 30 days*/<a name="line.1620"></a>
<FONT color="green">1621</FONT>                            ALL_CONVERSATIONS(0),<a name="line.1621"></a>
<FONT color="green">1622</FONT>                            <a name="line.1622"></a>
<FONT color="green">1623</FONT>                            /** only last 6 months conversations are kept there*/<a name="line.1623"></a>
<FONT color="green">1624</FONT>                            INBOX_CONVERSATIONS(1),<a name="line.1624"></a>
<FONT color="green">1625</FONT>                            <a name="line.1625"></a>
<FONT color="green">1626</FONT>                            /** is_bookmarked is set*/<a name="line.1626"></a>
<FONT color="green">1627</FONT>                            BOOKMARKED_CONVERSATIONS(2),<a name="line.1627"></a>
<FONT color="green">1628</FONT>                            <a name="line.1628"></a>
<FONT color="green">1629</FONT>                            /** local_livestatus is different from NONE*/<a name="line.1629"></a>
<FONT color="green">1630</FONT>                            LIVE_CONVERSATIONS(3),<a name="line.1630"></a>
<FONT color="green">1631</FONT>                            <a name="line.1631"></a>
<FONT color="green">1632</FONT>                            /** all conversations, without any of the limits of ALL_CONVERSATIONS*/<a name="line.1632"></a>
<FONT color="green">1633</FONT>                            REALLY_ALL_CONVERSATIONS(5);<a name="line.1633"></a>
<FONT color="green">1634</FONT>                            <a name="line.1634"></a>
<FONT color="green">1635</FONT>                            private static final Map&lt;Integer,LIST_TYPE&gt; lookup = new HashMap&lt;Integer,LIST_TYPE&gt;();<a name="line.1635"></a>
<FONT color="green">1636</FONT>                            <a name="line.1636"></a>
<FONT color="green">1637</FONT>                            static {<a name="line.1637"></a>
<FONT color="green">1638</FONT>                                    for(LIST_TYPE s : EnumSet.allOf(LIST_TYPE.class))<a name="line.1638"></a>
<FONT color="green">1639</FONT>                                            lookup.put(s.getId(), s);<a name="line.1639"></a>
<FONT color="green">1640</FONT>                            }<a name="line.1640"></a>
<FONT color="green">1641</FONT>                            <a name="line.1641"></a>
<FONT color="green">1642</FONT>                            private final int id;<a name="line.1642"></a>
<FONT color="green">1643</FONT>                            <a name="line.1643"></a>
<FONT color="green">1644</FONT>                            private LIST_TYPE(int value) {<a name="line.1644"></a>
<FONT color="green">1645</FONT>                                    this.id = value;<a name="line.1645"></a>
<FONT color="green">1646</FONT>                            }<a name="line.1646"></a>
<FONT color="green">1647</FONT>                            <a name="line.1647"></a>
<FONT color="green">1648</FONT>                            public int getId() { return id; }<a name="line.1648"></a>
<FONT color="green">1649</FONT>                            <a name="line.1649"></a>
<FONT color="green">1650</FONT>                            public static LIST_TYPE get(int code) {<a name="line.1650"></a>
<FONT color="green">1651</FONT>                                    return lookup.get(code);<a name="line.1651"></a>
<FONT color="green">1652</FONT>                            }<a name="line.1652"></a>
<FONT color="green">1653</FONT>                            <a name="line.1653"></a>
<FONT color="green">1654</FONT>                            public static LIST_TYPE fromString(String s) {<a name="line.1654"></a>
<FONT color="green">1655</FONT>                                    for (LIST_TYPE p : lookup.values()) {<a name="line.1655"></a>
<FONT color="green">1656</FONT>                                            if (p.toString() == s) {<a name="line.1656"></a>
<FONT color="green">1657</FONT>                                                    return p;<a name="line.1657"></a>
<FONT color="green">1658</FONT>                                            }<a name="line.1658"></a>
<FONT color="green">1659</FONT>                                    }<a name="line.1659"></a>
<FONT color="green">1660</FONT>                                    return null;<a name="line.1660"></a>
<FONT color="green">1661</FONT>                            }<a name="line.1661"></a>
<FONT color="green">1662</FONT>                    }<a name="line.1662"></a>
<FONT color="green">1663</FONT>                    <a name="line.1663"></a>
<FONT color="green">1664</FONT>            <a name="line.1664"></a>
<FONT color="green">1665</FONT>            }<a name="line.1665"></a>




























































</PRE>
</BODY>
</HTML>
