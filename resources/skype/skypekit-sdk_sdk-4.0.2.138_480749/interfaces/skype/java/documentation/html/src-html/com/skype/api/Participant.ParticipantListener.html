<HTML>
<BODY BGCOLOR="white">
<PRE>
<FONT color="green">001</FONT>    package com.skype.api;<a name="line.1"></a>
<FONT color="green">002</FONT>    <a name="line.2"></a>
<FONT color="green">003</FONT>    import java.io.IOException;<a name="line.3"></a>
<FONT color="green">004</FONT>    import java.util.*;<a name="line.4"></a>
<FONT color="green">005</FONT>    import com.skype.ipc.*;<a name="line.5"></a>
<FONT color="green">006</FONT>    /**<a name="line.6"></a>
<FONT color="green">007</FONT>     * Conversation participant class. Instances of this class represent contacts when in the context of conversations. Amongst others, this class has a Ring method for requesting live status with the target contact. This class also holds typing indicator property and access rights for the contact in context of public conversations. &lt;br&gt;<a name="line.7"></a>
<FONT color="green">008</FONT>     */<a name="line.8"></a>
<FONT color="green">009</FONT>    <a name="line.9"></a>
<FONT color="green">010</FONT>    <a name="line.10"></a>
<FONT color="green">011</FONT>    public class Participant extends SkypeObject {<a name="line.11"></a>
<FONT color="green">012</FONT>    <a name="line.12"></a>
<FONT color="green">013</FONT>    <a name="line.13"></a>
<FONT color="green">014</FONT>            public interface ParticipantListener {<a name="line.14"></a>
<FONT color="green">015</FONT>                    /** This event gets called when there are changes to Participant properties defined in Participant.PROPERTY  */<a name="line.15"></a>
<FONT color="green">016</FONT>                    public void OnPropertyChange(SkypeObject obj, PROPERTY prop, Object value);<a name="line.16"></a>
<FONT color="green">017</FONT>                    <a name="line.17"></a>
<FONT color="green">018</FONT>                    /**This event gets fired on receiving a DTMF signal sent by Participant. Note that this event will only fire if the Participant is also using a Skype client. Skype audio library does not monitor incoming voice streams for dial tones. DTMF events are propagated to remote participants via data channel. Incoming DTMF tones transmitted from, for example, mobile phones, will not cause this event to fire. In case of incoming DTMF signals from Skype clients, DTMF tones are also inserted into the audio stream. You don't have to inject those into local audio playback yourself. &lt;br&gt;*/<a name="line.18"></a>
<FONT color="green">019</FONT>                    public void OnIncomingDTMF(SkypeObject obj, DTMF dtmf);<a name="line.19"></a>
<FONT color="green">020</FONT>                    <a name="line.20"></a>
<FONT color="green">021</FONT>            }<a name="line.21"></a>
<FONT color="green">022</FONT>            <a name="line.22"></a>
<FONT color="green">023</FONT>            public Participant(int oid, Skype skype) {<a name="line.23"></a>
<FONT color="green">024</FONT>                    super(oid,skype);<a name="line.24"></a>
<FONT color="green">025</FONT>                    /**get default properties for this module **/<a name="line.25"></a>
<FONT color="green">026</FONT>                    GetDefaultProps();<a name="line.26"></a>
<FONT color="green">027</FONT>            }<a name="line.27"></a>
<FONT color="green">028</FONT>            <a name="line.28"></a>
<FONT color="green">029</FONT>            private static final int MODULE_ID = 19;<a name="line.29"></a>
<FONT color="green">030</FONT>            <a name="line.30"></a>
<FONT color="green">031</FONT>            public static final int moduleID() {<a name="line.31"></a>
<FONT color="green">032</FONT>                    return MODULE_ID;<a name="line.32"></a>
<FONT color="green">033</FONT>            }<a name="line.33"></a>
<FONT color="green">034</FONT>            <a name="line.34"></a>
<FONT color="green">035</FONT>            /** Properties of the Participant class */<a name="line.35"></a>
<FONT color="green">036</FONT>            public enum PROPERTY {<a name="line.36"></a>
<FONT color="green">037</FONT>            <a name="line.37"></a>
<FONT color="green">038</FONT>                    /** [ALL] ID of corresponding conversation. Here and below, [ALL] tag indicates that the property has meaning and is set in context of all participants in the conversation. [OTHERS] tag has meaning only for participants who are not the local user. &lt;br&gt;, type: Conversation */<a name="line.38"></a>
<FONT color="green">039</FONT>                    convo_id(930),<a name="line.39"></a>
<FONT color="green">040</FONT>                    <a name="line.40"></a>
<FONT color="green">041</FONT>                    /** [ALL] skypename OR pstn_number OR namespace:identity, type: String */<a name="line.41"></a>
<FONT color="green">042</FONT>                    identity(931),<a name="line.42"></a>
<FONT color="green">043</FONT>                    <a name="line.43"></a>
<FONT color="green">044</FONT>                    /** [ALL] Participant.RANK, type: RANK */<a name="line.44"></a>
<FONT color="green">045</FONT>                    rank(932),<a name="line.45"></a>
<FONT color="green">046</FONT>                    <a name="line.46"></a>
<FONT color="green">047</FONT>                    /** Not set (should be: requested Participant.RANK, higher than the current one), type: RANK */<a name="line.47"></a>
<FONT color="green">048</FONT>                    requested_rank(933),<a name="line.48"></a>
<FONT color="green">049</FONT>                    <a name="line.49"></a>
<FONT color="green">050</FONT>                    /** [ALL] the typing indicator, type: TEXT_STATUS */<a name="line.50"></a>
<FONT color="green">051</FONT>                    text_status(934),<a name="line.51"></a>
<FONT color="green">052</FONT>                    <a name="line.52"></a>
<FONT color="green">053</FONT>                    /** [ALL] voice status, type: VOICE_STATUS */<a name="line.53"></a>
<FONT color="green">054</FONT>                    voice_status(935),<a name="line.54"></a>
<FONT color="green">055</FONT>                    <a name="line.55"></a>
<FONT color="green">056</FONT>                    /** [ALL] video status, type: VIDEO_STATUS */<a name="line.56"></a>
<FONT color="green">057</FONT>                    video_status(936),<a name="line.57"></a>
<FONT color="green">058</FONT>                    <a name="line.58"></a>
<FONT color="green">059</FONT>                    /** [ALL] identity that was used to establish current live session with that participant (can be different from participant identity), type: String */<a name="line.59"></a>
<FONT color="green">060</FONT>                    live_identity(943),<a name="line.60"></a>
<FONT color="green">061</FONT>                    <a name="line.61"></a>
<FONT color="green">062</FONT>                    /** [OTHERS] 'price_per_minute_float currency' - eg '0.01 EUR'. Note that this property obtains value only after the participant goes into live state. It cannot be used to display call rates before the call starts. &lt;br&gt;, type: String */<a name="line.62"></a>
<FONT color="green">063</FONT>                    live_price_for_me(938),<a name="line.63"></a>
<FONT color="green">064</FONT>                    <a name="line.64"></a>
<FONT color="green">065</FONT>                    /** [OTHERS] list of identities where the live session is being forwarded (if they are disclosed), space separated, type: String */<a name="line.65"></a>
<FONT color="green">066</FONT>                    live_fwd_identities(948),<a name="line.66"></a>
<FONT color="green">067</FONT>                    <a name="line.67"></a>
<FONT color="green">068</FONT>                    /** [ALL] time of joining the live session, type: int */<a name="line.68"></a>
<FONT color="green">069</FONT>                    live_start_timestamp(939),<a name="line.69"></a>
<FONT color="green">070</FONT>                    <a name="line.70"></a>
<FONT color="green">071</FONT>                    /** [ALL] current 'loudness' level when SPEAKING (0..10), type: int */<a name="line.71"></a>
<FONT color="green">072</FONT>                    sound_level(941),<a name="line.72"></a>
<FONT color="green">073</FONT>                    <a name="line.73"></a>
<FONT color="green">074</FONT>                    /** [OTHERS] call (audio and video) debug info, type: String */<a name="line.74"></a>
<FONT color="green">075</FONT>                    debuginfo(942),<a name="line.75"></a>
<FONT color="green">076</FONT>                    <a name="line.76"></a>
<FONT color="green">077</FONT>                    /** [OTHERS] DEPRECATED, use last_leavereason instead, type: String */<a name="line.77"></a>
<FONT color="green">078</FONT>                    last_voice_error(947),<a name="line.78"></a>
<FONT color="green">079</FONT>                    <a name="line.79"></a>
<FONT color="green">080</FONT>                    /** [ALL] space separated tokens values: CPU_INUSE CPU_SLOW CPU_HIGH HIGH_ECHO HIGH_NOISE MUTED_INPUT LOW_INPUT MUTED_INPUT_ACTIVITY FW_STRONG FW_BAD NOT_UDP CALL_BW_LOW RECORD_ERROR + values in video debug info, type: String */<a name="line.80"></a>
<FONT color="green">081</FONT>                    quality_problems(949),<a name="line.81"></a>
<FONT color="green">082</FONT>                    <a name="line.82"></a>
<FONT color="green">083</FONT>                    /** [ALL] participant type during livesession as specified in IDENTITYTYPE, type: contact.IDENTITYTYPE */<a name="line.83"></a>
<FONT color="green">084</FONT>                    live_type(950),<a name="line.84"></a>
<FONT color="green">085</FONT>                    <a name="line.85"></a>
<FONT color="green">086</FONT>                    /** [OTHERS] participant livesession country code - used for emergency calls only atm, type: String */<a name="line.86"></a>
<FONT color="green">087</FONT>                    live_country(951),<a name="line.87"></a>
<FONT color="green">088</FONT>                    <a name="line.88"></a>
<FONT color="green">089</FONT>                    /** [OTHERS] Transferor identity (transferee side) &lt;br&gt;, type: String */<a name="line.89"></a>
<FONT color="green">090</FONT>                    transferred_by(952),<a name="line.90"></a>
<FONT color="green">091</FONT>                    <a name="line.91"></a>
<FONT color="green">092</FONT>                    /** [OTHERS] Identity of recipient of transfer (transferor side, caller side) &lt;br&gt;, type: String */<a name="line.92"></a>
<FONT color="green">093</FONT>                    transferred_to(953),<a name="line.93"></a>
<FONT color="green">094</FONT>                    <a name="line.94"></a>
<FONT color="green">095</FONT>                    /** [ALL] Identity of the user who added this participant to the conversation, type: Sid.String  &lt;br&gt;, type: String */<a name="line.95"></a>
<FONT color="green">096</FONT>                    adder(954),<a name="line.96"></a>
<FONT color="green">097</FONT>                    <a name="line.97"></a>
<FONT color="green">098</FONT>                    /** [OTHERS] Last reason for leaving conversation or live session. Provides an enum alternative to last_voice_error as well as the reason this participant RETIRED from the conversation.  &lt;br&gt;, type: LEAVE_REASON */<a name="line.98"></a>
<FONT color="green">099</FONT>                    last_leavereason(955);<a name="line.99"></a>
<FONT color="green">100</FONT>                    <a name="line.100"></a>
<FONT color="green">101</FONT>                    private static final Map&lt;Integer,PROPERTY&gt; lookup = new HashMap&lt;Integer,PROPERTY&gt;();<a name="line.101"></a>
<FONT color="green">102</FONT>                    <a name="line.102"></a>
<FONT color="green">103</FONT>                    static {<a name="line.103"></a>
<FONT color="green">104</FONT>                            for(PROPERTY s : EnumSet.allOf(PROPERTY.class))<a name="line.104"></a>
<FONT color="green">105</FONT>                                    lookup.put(s.getId(), s);<a name="line.105"></a>
<FONT color="green">106</FONT>                    }<a name="line.106"></a>
<FONT color="green">107</FONT>                    <a name="line.107"></a>
<FONT color="green">108</FONT>                    private final int id;<a name="line.108"></a>
<FONT color="green">109</FONT>                    <a name="line.109"></a>
<FONT color="green">110</FONT>                    private PROPERTY(int value) {<a name="line.110"></a>
<FONT color="green">111</FONT>                            this.id = value;<a name="line.111"></a>
<FONT color="green">112</FONT>                    }<a name="line.112"></a>
<FONT color="green">113</FONT>                    <a name="line.113"></a>
<FONT color="green">114</FONT>                    public int getId() { return id; }<a name="line.114"></a>
<FONT color="green">115</FONT>                    <a name="line.115"></a>
<FONT color="green">116</FONT>                    public static PROPERTY get(int code) {<a name="line.116"></a>
<FONT color="green">117</FONT>                            return lookup.get(code);<a name="line.117"></a>
<FONT color="green">118</FONT>                    }<a name="line.118"></a>
<FONT color="green">119</FONT>                    <a name="line.119"></a>
<FONT color="green">120</FONT>                    public static PROPERTY fromString(String s) {<a name="line.120"></a>
<FONT color="green">121</FONT>                            for (PROPERTY p : lookup.values()) {<a name="line.121"></a>
<FONT color="green">122</FONT>                                    if (p.toString() == s) {<a name="line.122"></a>
<FONT color="green">123</FONT>                                            return p;<a name="line.123"></a>
<FONT color="green">124</FONT>                                    }<a name="line.124"></a>
<FONT color="green">125</FONT>                            }<a name="line.125"></a>
<FONT color="green">126</FONT>                            return null;<a name="line.126"></a>
<FONT color="green">127</FONT>                    }<a name="line.127"></a>
<FONT color="green">128</FONT>            }<a name="line.128"></a>
<FONT color="green">129</FONT>            <a name="line.129"></a>
<FONT color="green">130</FONT>            public Object GetPropertyAsEnum(int propid) {<a name="line.130"></a>
<FONT color="green">131</FONT>                    return PROPERTY.get(propid);<a name="line.131"></a>
<FONT color="green">132</FONT>            }<a name="line.132"></a>
<FONT color="green">133</FONT>            <a name="line.133"></a>
<FONT color="green">134</FONT>            public String GetStrProperty(PROPERTY prop) {<a name="line.134"></a>
<FONT color="green">135</FONT>                    //check in propcache if so then return<a name="line.135"></a>
<FONT color="green">136</FONT>                    if (mPropCache.containsKey(new Integer(prop.id))){<a name="line.136"></a>
<FONT color="green">137</FONT>                            String value =  (String)mPropCache.get(prop.id);<a name="line.137"></a>
<FONT color="green">138</FONT>                            if (value != null &amp;&amp; !(value.length() == 0) ){<a name="line.138"></a>
<FONT color="green">139</FONT>                                    return value;<a name="line.139"></a>
<FONT color="green">140</FONT>                            }<a name="line.140"></a>
<FONT color="green">141</FONT>                    }<a name="line.141"></a>
<FONT color="green">142</FONT>                    //else get from skypekit...<a name="line.142"></a>
<FONT color="green">143</FONT>                    GetPropertyRequest request = new GetPropertyRequest(19, mObjectId, prop.id);<a name="line.143"></a>
<FONT color="green">144</FONT>                    <a name="line.144"></a>
<FONT color="green">145</FONT>                    String string = null;<a name="line.145"></a>
<FONT color="green">146</FONT>                    GetPropertyResponse r = skype.GetProperty(request);<a name="line.146"></a>
<FONT color="green">147</FONT>                    if (r != null){<a name="line.147"></a>
<FONT color="green">148</FONT>                            string = r.GetAsString();<a name="line.148"></a>
<FONT color="green">149</FONT>                    }<a name="line.149"></a>
<FONT color="green">150</FONT>                    <a name="line.150"></a>
<FONT color="green">151</FONT>                    if (string != null)<a name="line.151"></a>
<FONT color="green">152</FONT>                    {<a name="line.152"></a>
<FONT color="green">153</FONT>                            mPropCache.put(new Integer(prop.id), string);<a name="line.153"></a>
<FONT color="green">154</FONT>                    }<a name="line.154"></a>
<FONT color="green">155</FONT>                    return string;<a name="line.155"></a>
<FONT color="green">156</FONT>            }<a name="line.156"></a>
<FONT color="green">157</FONT>            <a name="line.157"></a>
<FONT color="green">158</FONT>            public int GetIntProperty(PROPERTY prop) {<a name="line.158"></a>
<FONT color="green">159</FONT>                    //check in propcache if so then return<a name="line.159"></a>
<FONT color="green">160</FONT>                    if (mPropCache.containsKey(new Integer(prop.id))){<a name="line.160"></a>
<FONT color="green">161</FONT>                            int value = ((Integer)mPropCache.get(prop.id)).intValue();<a name="line.161"></a>
<FONT color="green">162</FONT>                            if (value != 0){<a name="line.162"></a>
<FONT color="green">163</FONT>                                    return value;<a name="line.163"></a>
<FONT color="green">164</FONT>                            }<a name="line.164"></a>
<FONT color="green">165</FONT>                    }<a name="line.165"></a>
<FONT color="green">166</FONT>                    //else get from skypekit...<a name="line.166"></a>
<FONT color="green">167</FONT>                    GetPropertyRequest request = new GetPropertyRequest(moduleID(), mObjectId, prop.id);<a name="line.167"></a>
<FONT color="green">168</FONT>                    <a name="line.168"></a>
<FONT color="green">169</FONT>                    Integer integer = null;<a name="line.169"></a>
<FONT color="green">170</FONT>                    GetPropertyResponse r = skype.GetProperty(request);<a name="line.170"></a>
<FONT color="green">171</FONT>                    if (r != null){<a name="line.171"></a>
<FONT color="green">172</FONT>                            integer  = r.GetAsInt();<a name="line.172"></a>
<FONT color="green">173</FONT>                    }<a name="line.173"></a>
<FONT color="green">174</FONT>                    <a name="line.174"></a>
<FONT color="green">175</FONT>                    if (integer != null)<a name="line.175"></a>
<FONT color="green">176</FONT>                    {<a name="line.176"></a>
<FONT color="green">177</FONT>                            mPropCache.put(new Integer(prop.id), integer);<a name="line.177"></a>
<FONT color="green">178</FONT>                            return integer.intValue();<a name="line.178"></a>
<FONT color="green">179</FONT>                    }<a name="line.179"></a>
<FONT color="green">180</FONT>                    else<a name="line.180"></a>
<FONT color="green">181</FONT>                    {<a name="line.181"></a>
<FONT color="green">182</FONT>                            return 0;<a name="line.182"></a>
<FONT color="green">183</FONT>                    }<a name="line.183"></a>
<FONT color="green">184</FONT>            }<a name="line.184"></a>
<FONT color="green">185</FONT>            <a name="line.185"></a>
<FONT color="green">186</FONT>            public boolean GetBooleanProperty(PROPERTY prop) {<a name="line.186"></a>
<FONT color="green">187</FONT>                    //check in propcache if so then return<a name="line.187"></a>
<FONT color="green">188</FONT>                    if (mPropCache.containsKey(new Integer(prop.id))){<a name="line.188"></a>
<FONT color="green">189</FONT>                            return ((Boolean)mPropCache.get(prop.id)).booleanValue();<a name="line.189"></a>
<FONT color="green">190</FONT>                    }<a name="line.190"></a>
<FONT color="green">191</FONT>                    //else get from skypekit...<a name="line.191"></a>
<FONT color="green">192</FONT>                    GetPropertyRequest request = new GetPropertyRequest(moduleID(), mObjectId, prop.id);<a name="line.192"></a>
<FONT color="green">193</FONT>                    <a name="line.193"></a>
<FONT color="green">194</FONT>                    Boolean boolResp = null;<a name="line.194"></a>
<FONT color="green">195</FONT>                    GetPropertyResponse r = skype.GetProperty(request);<a name="line.195"></a>
<FONT color="green">196</FONT>                    if (r != null){<a name="line.196"></a>
<FONT color="green">197</FONT>                            boolResp  = r.GetAsBoolean();<a name="line.197"></a>
<FONT color="green">198</FONT>                    }<a name="line.198"></a>
<FONT color="green">199</FONT>                    <a name="line.199"></a>
<FONT color="green">200</FONT>                    if (boolResp != null)<a name="line.200"></a>
<FONT color="green">201</FONT>                    {<a name="line.201"></a>
<FONT color="green">202</FONT>                            mPropCache.put(new Integer(prop.id), boolResp);<a name="line.202"></a>
<FONT color="green">203</FONT>                            return boolResp.booleanValue();<a name="line.203"></a>
<FONT color="green">204</FONT>                    }<a name="line.204"></a>
<FONT color="green">205</FONT>                    else<a name="line.205"></a>
<FONT color="green">206</FONT>                    {<a name="line.206"></a>
<FONT color="green">207</FONT>                            return false;<a name="line.207"></a>
<FONT color="green">208</FONT>                    }<a name="line.208"></a>
<FONT color="green">209</FONT>            }<a name="line.209"></a>
<FONT color="green">210</FONT>            <a name="line.210"></a>
<FONT color="green">211</FONT>            public byte [] GetBinProperty(PROPERTY prop) {<a name="line.211"></a>
<FONT color="green">212</FONT>                    //get from skypekit...<a name="line.212"></a>
<FONT color="green">213</FONT>                    GetPropertyRequest request = new GetPropertyRequest(19, mObjectId, prop.id);<a name="line.213"></a>
<FONT color="green">214</FONT>                    <a name="line.214"></a>
<FONT color="green">215</FONT>                    byte [] data = null;<a name="line.215"></a>
<FONT color="green">216</FONT>                    GetPropertyResponse r = skype.GetProperty(request);<a name="line.216"></a>
<FONT color="green">217</FONT>                    if (r != null) {<a name="line.217"></a>
<FONT color="green">218</FONT>                            data = r.GetAsBinary();<a name="line.218"></a>
<FONT color="green">219</FONT>                    }<a name="line.219"></a>
<FONT color="green">220</FONT>                    return data;<a name="line.220"></a>
<FONT color="green">221</FONT>            }<a name="line.221"></a>
<FONT color="green">222</FONT>            <a name="line.222"></a>
<FONT color="green">223</FONT>            /**default array of Participant Properties that get fetched &amp; cached upon class construction*/<a name="line.223"></a>
<FONT color="green">224</FONT>            private static PROPERTY [] defaultProperties = { PROPERTY.convo_id, PROPERTY.rank, PROPERTY.identity, PROPERTY.adder};<a name="line.224"></a>
<FONT color="green">225</FONT>            <a name="line.225"></a>
<FONT color="green">226</FONT>            private void GetDefaultProps() {<a name="line.226"></a>
<FONT color="green">227</FONT>                    MultiGetPropertyRequest request = null;<a name="line.227"></a>
<FONT color="green">228</FONT>                    ArrayList&lt;Integer&gt; proparray = null;<a name="line.228"></a>
<FONT color="green">229</FONT>                            /**Add the single oid into array*/<a name="line.229"></a>
<FONT color="green">230</FONT>                            ArrayList&lt;Integer&gt; oidarray=new ArrayList&lt;Integer&gt;();<a name="line.230"></a>
<FONT color="green">231</FONT>                            oidarray.add(mObjectId);<a name="line.231"></a>
<FONT color="green">232</FONT>                            <a name="line.232"></a>
<FONT color="green">233</FONT>                            /**Add all requested propids into array*/<a name="line.233"></a>
<FONT color="green">234</FONT>                            proparray=new ArrayList&lt;Integer&gt;();<a name="line.234"></a>
<FONT color="green">235</FONT>                            for (PROPERTY defaultProp : defaultProperties) {<a name="line.235"></a>
<FONT color="green">236</FONT>                                    proparray.add(defaultProp.getId());<a name="line.236"></a>
<FONT color="green">237</FONT>                            }<a name="line.237"></a>
<FONT color="green">238</FONT>                            /**Generate the request*/<a name="line.238"></a>
<FONT color="green">239</FONT>                            request = new MultiGetPropertyRequest(moduleID(), oidarray,proparray);<a name="line.239"></a>
<FONT color="green">240</FONT>                            <a name="line.240"></a>
<FONT color="green">241</FONT>                            /** Make Multi Get call*/<a name="line.241"></a>
<FONT color="green">242</FONT>                            GetPropertyResponse r=skype.MultiGetProperty(request);<a name="line.242"></a>
<FONT color="green">243</FONT>                            /**Verify that it is a proper multiresponse*/<a name="line.243"></a>
<FONT color="green">244</FONT>                            if(!r.isMultiresponse())<a name="line.244"></a>
<FONT color="green">245</FONT>                            {<a name="line.245"></a>
<FONT color="green">246</FONT>                                    return;<a name="line.246"></a>
<FONT color="green">247</FONT>                            }<a name="line.247"></a>
<FONT color="green">248</FONT>                            /**update property cache with results*/<a name="line.248"></a>
<FONT color="green">249</FONT>                            mPropCache.putAll(r.GetAsMap(mObjectId, proparray));<a name="line.249"></a>
<FONT color="green">250</FONT>                    }<a name="line.250"></a>
<FONT color="green">251</FONT>                    <a name="line.251"></a>
<FONT color="green">252</FONT>                    /**<a name="line.252"></a>
<FONT color="green">253</FONT>                    Recognized values for the P_RANK property. The P_RANK controls participant's privileges in the conversation. See Participant.CanSetRankTo and Participant.SetRankTo methods. &lt;br&gt; */<a name="line.253"></a>
<FONT color="green">254</FONT>                    public enum RANK {<a name="line.254"></a>
<FONT color="green">255</FONT>                    <a name="line.255"></a>
<FONT color="green">256</FONT>                            /** Creator of the chat. There can be only one participant with this type per conversation. Other participants cannot be promoted to Creator rank. &lt;br&gt;*/<a name="line.256"></a>
<FONT color="green">257</FONT>                            CREATOR(1),<a name="line.257"></a>
<FONT color="green">258</FONT>                            <a name="line.258"></a>
<FONT color="green">259</FONT>                            /** Participant who has administrator privileges &lt;br&gt;*/<a name="line.259"></a>
<FONT color="green">260</FONT>                            ADMIN(2),<a name="line.260"></a>
<FONT color="green">261</FONT>                            <a name="line.261"></a>
<FONT color="green">262</FONT>                            /** Participant who can speak and write &lt;br&gt;*/<a name="line.262"></a>
<FONT color="green">263</FONT>                            SPEAKER(3),<a name="line.263"></a>
<FONT color="green">264</FONT>                            <a name="line.264"></a>
<FONT color="green">265</FONT>                            /** Participant who can write but not speak &lt;br&gt;*/<a name="line.265"></a>
<FONT color="green">266</FONT>                            WRITER(4),<a name="line.266"></a>
<FONT color="green">267</FONT>                            <a name="line.267"></a>
<FONT color="green">268</FONT>                            /** Participant who can read but not write/speak &lt;br&gt;*/<a name="line.268"></a>
<FONT color="green">269</FONT>                            SPECTATOR(5),<a name="line.269"></a>
<FONT color="green">270</FONT>                            <a name="line.270"></a>
<FONT color="green">271</FONT>                            /** Participant who is applying to join the conversation. Member cannot be demoted to applicants once they have been accepted.  &lt;br&gt;*/<a name="line.271"></a>
<FONT color="green">272</FONT>                            APPLICANT(6),<a name="line.272"></a>
<FONT color="green">273</FONT>                            <a name="line.273"></a>
<FONT color="green">274</FONT>                            /** Participant who has eft or has been kicked from the conversation &lt;br&gt;*/<a name="line.274"></a>
<FONT color="green">275</FONT>                            RETIRED(7),<a name="line.275"></a>
<FONT color="green">276</FONT>                            <a name="line.276"></a>
<FONT color="green">277</FONT>                            /** Participant who has been banned from the chat &lt;br&gt;*/<a name="line.277"></a>
<FONT color="green">278</FONT>                            OUTLAW(8);<a name="line.278"></a>
<FONT color="green">279</FONT>                            <a name="line.279"></a>
<FONT color="green">280</FONT>                            private static final Map&lt;Integer,RANK&gt; lookup = new HashMap&lt;Integer,RANK&gt;();<a name="line.280"></a>
<FONT color="green">281</FONT>                            <a name="line.281"></a>
<FONT color="green">282</FONT>                            static {<a name="line.282"></a>
<FONT color="green">283</FONT>                                    for(RANK s : EnumSet.allOf(RANK.class))<a name="line.283"></a>
<FONT color="green">284</FONT>                                            lookup.put(s.getId(), s);<a name="line.284"></a>
<FONT color="green">285</FONT>                            }<a name="line.285"></a>
<FONT color="green">286</FONT>                            <a name="line.286"></a>
<FONT color="green">287</FONT>                            private final int id;<a name="line.287"></a>
<FONT color="green">288</FONT>                            <a name="line.288"></a>
<FONT color="green">289</FONT>                            private RANK(int value) {<a name="line.289"></a>
<FONT color="green">290</FONT>                                    this.id = value;<a name="line.290"></a>
<FONT color="green">291</FONT>                            }<a name="line.291"></a>
<FONT color="green">292</FONT>                            <a name="line.292"></a>
<FONT color="green">293</FONT>                            public int getId() { return id; }<a name="line.293"></a>
<FONT color="green">294</FONT>                            <a name="line.294"></a>
<FONT color="green">295</FONT>                            public static RANK get(int code) {<a name="line.295"></a>
<FONT color="green">296</FONT>                                    return lookup.get(code);<a name="line.296"></a>
<FONT color="green">297</FONT>                            }<a name="line.297"></a>
<FONT color="green">298</FONT>                            <a name="line.298"></a>
<FONT color="green">299</FONT>                            public static RANK fromString(String s) {<a name="line.299"></a>
<FONT color="green">300</FONT>                                    for (RANK p : lookup.values()) {<a name="line.300"></a>
<FONT color="green">301</FONT>                                            if (p.toString() == s) {<a name="line.301"></a>
<FONT color="green">302</FONT>                                                    return p;<a name="line.302"></a>
<FONT color="green">303</FONT>                                            }<a name="line.303"></a>
<FONT color="green">304</FONT>                                    }<a name="line.304"></a>
<FONT color="green">305</FONT>                                    return null;<a name="line.305"></a>
<FONT color="green">306</FONT>                            }<a name="line.306"></a>
<FONT color="green">307</FONT>                    }<a name="line.307"></a>
<FONT color="green">308</FONT>                    <a name="line.308"></a>
<FONT color="green">309</FONT>                    /**<a name="line.309"></a>
<FONT color="green">310</FONT>                    Recognized values for the P_TEXT_STATUS property. The P_TEXT_STATUS property has two uses. Firstly, you can use it to implement typing indicators in your UI, to notify the local user that an incoming chat message from this Participant is imminent.  &lt;br&gt;&lt;br&gt;To set the P_TEXT_STATUS value, so that remote client UIs can display the local user's typing indicator in their UI, use Conversation.SetMyTextStatusTo method. &lt;br&gt;&lt;br&gt;Transmission of P_TEXT_STATUS updates to remote participants of conversations is controlled via SETUPKEY_DISABLE_CHAT_ACTIVITY_INDICATION setup key. &lt;br&gt;&lt;br&gt;Secondly, the TEXT_NA value enables you to detect participants who are running clients with no chat capability. &lt;br&gt; */<a name="line.310"></a>
<FONT color="green">311</FONT>                    public enum TEXT_STATUS {<a name="line.311"></a>
<FONT color="green">312</FONT>                    <a name="line.312"></a>
<FONT color="green">313</FONT>                            /** Fallback state in case the text status is not (yet) deternmined. &lt;br&gt;*/<a name="line.313"></a>
<FONT color="green">314</FONT>                            TEXT_UNKNOWN(0),<a name="line.314"></a>
<FONT color="green">315</FONT>                            <a name="line.315"></a>
<FONT color="green">316</FONT>                            /** Text status is not applicable as the participant is using a Skype client that does not support chat (for example: voice-only USB phones). &lt;br&gt;*/<a name="line.316"></a>
<FONT color="green">317</FONT>                            TEXT_NA(1),<a name="line.317"></a>
<FONT color="green">318</FONT>                            <a name="line.318"></a>
<FONT color="green">319</FONT>                            /** Participant is currently not typing. &lt;br&gt;*/<a name="line.319"></a>
<FONT color="green">320</FONT>                            READING(2),<a name="line.320"></a>
<FONT color="green">321</FONT>                            <a name="line.321"></a>
<FONT color="green">322</FONT>                            /** Participant is currently typing. &lt;br&gt;*/<a name="line.322"></a>
<FONT color="green">323</FONT>                            WRITING(3),<a name="line.323"></a>
<FONT color="green">324</FONT>                            <a name="line.324"></a>
<FONT color="green">325</FONT>                            /** This state should be set when following two conditions are true: &lt;br&gt; - interval between keypresses are less than 20 ms; &lt;br&gt; - at least one of the keys adjacent to current key are pressed down. &lt;br&gt;*/<a name="line.325"></a>
<FONT color="green">326</FONT>                            WRITING_AS_ANGRY(4),<a name="line.326"></a>
<FONT color="green">327</FONT>                            <a name="line.327"></a>
<FONT color="green">328</FONT>                            /** The "Cat on keyboard detection" algorthm in Skype is implemented in the UI level, and as such is not present in the SkypeKit API. Should you wish to implement similar algorthm in your own UI, you can get the basic logic from the PawSense FAQ - http://www.bitboost.com/pawsense/pawsense-faq.html &lt;br&gt;*/<a name="line.328"></a>
<FONT color="green">329</FONT>                            WRITING_AS_CAT(5);<a name="line.329"></a>
<FONT color="green">330</FONT>                            <a name="line.330"></a>
<FONT color="green">331</FONT>                            private static final Map&lt;Integer,TEXT_STATUS&gt; lookup = new HashMap&lt;Integer,TEXT_STATUS&gt;();<a name="line.331"></a>
<FONT color="green">332</FONT>                            <a name="line.332"></a>
<FONT color="green">333</FONT>                            static {<a name="line.333"></a>
<FONT color="green">334</FONT>                                    for(TEXT_STATUS s : EnumSet.allOf(TEXT_STATUS.class))<a name="line.334"></a>
<FONT color="green">335</FONT>                                            lookup.put(s.getId(), s);<a name="line.335"></a>
<FONT color="green">336</FONT>                            }<a name="line.336"></a>
<FONT color="green">337</FONT>                            <a name="line.337"></a>
<FONT color="green">338</FONT>                            private final int id;<a name="line.338"></a>
<FONT color="green">339</FONT>                            <a name="line.339"></a>
<FONT color="green">340</FONT>                            private TEXT_STATUS(int value) {<a name="line.340"></a>
<FONT color="green">341</FONT>                                    this.id = value;<a name="line.341"></a>
<FONT color="green">342</FONT>                            }<a name="line.342"></a>
<FONT color="green">343</FONT>                            <a name="line.343"></a>
<FONT color="green">344</FONT>                            public int getId() { return id; }<a name="line.344"></a>
<FONT color="green">345</FONT>                            <a name="line.345"></a>
<FONT color="green">346</FONT>                            public static TEXT_STATUS get(int code) {<a name="line.346"></a>
<FONT color="green">347</FONT>                                    return lookup.get(code);<a name="line.347"></a>
<FONT color="green">348</FONT>                            }<a name="line.348"></a>
<FONT color="green">349</FONT>                            <a name="line.349"></a>
<FONT color="green">350</FONT>                            public static TEXT_STATUS fromString(String s) {<a name="line.350"></a>
<FONT color="green">351</FONT>                                    for (TEXT_STATUS p : lookup.values()) {<a name="line.351"></a>
<FONT color="green">352</FONT>                                            if (p.toString() == s) {<a name="line.352"></a>
<FONT color="green">353</FONT>                                                    return p;<a name="line.353"></a>
<FONT color="green">354</FONT>                                            }<a name="line.354"></a>
<FONT color="green">355</FONT>                                    }<a name="line.355"></a>
<FONT color="green">356</FONT>                                    return null;<a name="line.356"></a>
<FONT color="green">357</FONT>                            }<a name="line.357"></a>
<FONT color="green">358</FONT>                    }<a name="line.358"></a>
<FONT color="green">359</FONT>                    <a name="line.359"></a>
<FONT color="green">360</FONT>                    /**<a name="line.360"></a>
<FONT color="green">361</FONT>                    Recognized values for the P_VOICE_STATUS property.  &lt;br&gt; */<a name="line.361"></a>
<FONT color="green">362</FONT>                    public enum VOICE_STATUS {<a name="line.362"></a>
<FONT color="green">363</FONT>                    <a name="line.363"></a>
<FONT color="green">364</FONT>                            /** Participant voice status is not (yet) determined. &lt;br&gt;*/<a name="line.364"></a>
<FONT color="green">365</FONT>                            VOICE_UNKNOWN(0),<a name="line.365"></a>
<FONT color="green">366</FONT>                            <a name="line.366"></a>
<FONT color="green">367</FONT>                            /** Participant is using a Skype client with no audio capability. &lt;br&gt;*/<a name="line.367"></a>
<FONT color="green">368</FONT>                            VOICE_NA(1),<a name="line.368"></a>
<FONT color="green">369</FONT>                            <a name="line.369"></a>
<FONT color="green">370</FONT>                            /** Participant is using a Skype client that supports audio. &lt;br&gt;*/<a name="line.370"></a>
<FONT color="green">371</FONT>                            VOICE_AVAILABLE(2),<a name="line.371"></a>
<FONT color="green">372</FONT>                            <a name="line.372"></a>
<FONT color="green">373</FONT>                            /** Participant is in process of joining current live session. This is a transitional state. &lt;br&gt;*/<a name="line.373"></a>
<FONT color="green">374</FONT>                            VOICE_CONNECTING(3),<a name="line.374"></a>
<FONT color="green">375</FONT>                            <a name="line.375"></a>
<FONT color="green">376</FONT>                            /** Participant has been invited to join the live session but has not yet accepted. &lt;br&gt;*/<a name="line.376"></a>
<FONT color="green">377</FONT>                            RINGING(4),<a name="line.377"></a>
<FONT color="green">378</FONT>                            <a name="line.378"></a>
<FONT color="green">379</FONT>                            /** Participant is in process of joining current live session. This is another transitional state. &lt;br&gt;*/<a name="line.379"></a>
<FONT color="green">380</FONT>                            EARLY_MEDIA(5),<a name="line.380"></a>
<FONT color="green">381</FONT>                            <a name="line.381"></a>
<FONT color="green">382</FONT>                            /** Participant has joined the current live session but is currently not transmitting audio. &lt;br&gt;*/<a name="line.382"></a>
<FONT color="green">383</FONT>                            LISTENING(6),<a name="line.383"></a>
<FONT color="green">384</FONT>                            <a name="line.384"></a>
<FONT color="green">385</FONT>                            /** Participant has joined the current live session and is transmitting audio. The UI can either use this state to display appropriate "speaking" notification, or alternatively use Participant.P_SOUND_LEVEL if you want your speaking indicator to also reflect audio volume coming from the Participant. &lt;br&gt;*/<a name="line.385"></a>
<FONT color="green">386</FONT>                            SPEAKING(7),<a name="line.386"></a>
<FONT color="green">387</FONT>                            <a name="line.387"></a>
<FONT color="green">388</FONT>                            /** Participant has joined the current live session but the audio is currently on hold. &lt;br&gt;*/<a name="line.388"></a>
<FONT color="green">389</FONT>                            VOICE_ON_HOLD(8),<a name="line.389"></a>
<FONT color="green">390</FONT>                            <a name="line.390"></a>
<FONT color="green">391</FONT>                            /** Participant will be placed in this state for some seconds after live session has finished. This is another transitional state. &lt;br&gt;*/<a name="line.391"></a>
<FONT color="green">392</FONT>                            VOICE_STOPPED(9);<a name="line.392"></a>
<FONT color="green">393</FONT>                            <a name="line.393"></a>
<FONT color="green">394</FONT>                            private static final Map&lt;Integer,VOICE_STATUS&gt; lookup = new HashMap&lt;Integer,VOICE_STATUS&gt;();<a name="line.394"></a>
<FONT color="green">395</FONT>                            <a name="line.395"></a>
<FONT color="green">396</FONT>                            static {<a name="line.396"></a>
<FONT color="green">397</FONT>                                    for(VOICE_STATUS s : EnumSet.allOf(VOICE_STATUS.class))<a name="line.397"></a>
<FONT color="green">398</FONT>                                            lookup.put(s.getId(), s);<a name="line.398"></a>
<FONT color="green">399</FONT>                            }<a name="line.399"></a>
<FONT color="green">400</FONT>                            <a name="line.400"></a>
<FONT color="green">401</FONT>                            private final int id;<a name="line.401"></a>
<FONT color="green">402</FONT>                            <a name="line.402"></a>
<FONT color="green">403</FONT>                            private VOICE_STATUS(int value) {<a name="line.403"></a>
<FONT color="green">404</FONT>                                    this.id = value;<a name="line.404"></a>
<FONT color="green">405</FONT>                            }<a name="line.405"></a>
<FONT color="green">406</FONT>                            <a name="line.406"></a>
<FONT color="green">407</FONT>                            public int getId() { return id; }<a name="line.407"></a>
<FONT color="green">408</FONT>                            <a name="line.408"></a>
<FONT color="green">409</FONT>                            public static VOICE_STATUS get(int code) {<a name="line.409"></a>
<FONT color="green">410</FONT>                                    return lookup.get(code);<a name="line.410"></a>
<FONT color="green">411</FONT>                            }<a name="line.411"></a>
<FONT color="green">412</FONT>                            <a name="line.412"></a>
<FONT color="green">413</FONT>                            public static VOICE_STATUS fromString(String s) {<a name="line.413"></a>
<FONT color="green">414</FONT>                                    for (VOICE_STATUS p : lookup.values()) {<a name="line.414"></a>
<FONT color="green">415</FONT>                                            if (p.toString() == s) {<a name="line.415"></a>
<FONT color="green">416</FONT>                                                    return p;<a name="line.416"></a>
<FONT color="green">417</FONT>                                            }<a name="line.417"></a>
<FONT color="green">418</FONT>                                    }<a name="line.418"></a>
<FONT color="green">419</FONT>                                    return null;<a name="line.419"></a>
<FONT color="green">420</FONT>                            }<a name="line.420"></a>
<FONT color="green">421</FONT>                    }<a name="line.421"></a>
<FONT color="green">422</FONT>                    <a name="line.422"></a>
<FONT color="green">423</FONT>                    /**<a name="line.423"></a>
<FONT color="green">424</FONT>                    Recognized values for the P_VIDEO_STATUS property. This property applies to Participant's video send capability, not capability to receive video. &lt;br&gt; */<a name="line.424"></a>
<FONT color="green">425</FONT>                    public enum VIDEO_STATUS {<a name="line.425"></a>
<FONT color="green">426</FONT>                    <a name="line.426"></a>
<FONT color="green">427</FONT>                            /** Video status is not (yet) determined. &lt;br&gt;*/<a name="line.427"></a>
<FONT color="green">428</FONT>                            VIDEO_UNKNOWN(0),<a name="line.428"></a>
<FONT color="green">429</FONT>                            <a name="line.429"></a>
<FONT color="green">430</FONT>                            /** Indicates that this Participant does not have video available.. &lt;br&gt;*/<a name="line.430"></a>
<FONT color="green">431</FONT>                            VIDEO_NA(1),<a name="line.431"></a>
<FONT color="green">432</FONT>                            <a name="line.432"></a>
<FONT color="green">433</FONT>                            /** Indicates that video is available for this participant. When the Participant.P_VIDEO_STATUS obtains this state, it is possible to retrieve the Video object, using Participant.GetVideo method. Further operations, such as starting or stopping the video send/receive will then go through the Video object. &lt;br&gt;*/<a name="line.433"></a>
<FONT color="green">434</FONT>                            VIDEO_AVAILABLE(2),<a name="line.434"></a>
<FONT color="green">435</FONT>                            <a name="line.435"></a>
<FONT color="green">436</FONT>                            /** Transitional state indicating that the Participant is attempting to initiate video send. &lt;br&gt;*/<a name="line.436"></a>
<FONT color="green">437</FONT>                            VIDEO_CONNECTING(3),<a name="line.437"></a>
<FONT color="green">438</FONT>                            <a name="line.438"></a>
<FONT color="green">439</FONT>                            /** Indicates that the participant is currently sending video. &lt;br&gt;*/<a name="line.439"></a>
<FONT color="green">440</FONT>                            STREAMING(4),<a name="line.440"></a>
<FONT color="green">441</FONT>                            <a name="line.441"></a>
<FONT color="green">442</FONT>                            /** Indicates that the participant video send is currently paused. &lt;br&gt;*/<a name="line.442"></a>
<FONT color="green">443</FONT>                            VIDEO_ON_HOLD(5);<a name="line.443"></a>
<FONT color="green">444</FONT>                            <a name="line.444"></a>
<FONT color="green">445</FONT>                            private static final Map&lt;Integer,VIDEO_STATUS&gt; lookup = new HashMap&lt;Integer,VIDEO_STATUS&gt;();<a name="line.445"></a>
<FONT color="green">446</FONT>                            <a name="line.446"></a>
<FONT color="green">447</FONT>                            static {<a name="line.447"></a>
<FONT color="green">448</FONT>                                    for(VIDEO_STATUS s : EnumSet.allOf(VIDEO_STATUS.class))<a name="line.448"></a>
<FONT color="green">449</FONT>                                            lookup.put(s.getId(), s);<a name="line.449"></a>
<FONT color="green">450</FONT>                            }<a name="line.450"></a>
<FONT color="green">451</FONT>                            <a name="line.451"></a>
<FONT color="green">452</FONT>                            private final int id;<a name="line.452"></a>
<FONT color="green">453</FONT>                            <a name="line.453"></a>
<FONT color="green">454</FONT>                            private VIDEO_STATUS(int value) {<a name="line.454"></a>
<FONT color="green">455</FONT>                                    this.id = value;<a name="line.455"></a>
<FONT color="green">456</FONT>                            }<a name="line.456"></a>
<FONT color="green">457</FONT>                            <a name="line.457"></a>
<FONT color="green">458</FONT>                            public int getId() { return id; }<a name="line.458"></a>
<FONT color="green">459</FONT>                            <a name="line.459"></a>
<FONT color="green">460</FONT>                            public static VIDEO_STATUS get(int code) {<a name="line.460"></a>
<FONT color="green">461</FONT>                                    return lookup.get(code);<a name="line.461"></a>
<FONT color="green">462</FONT>                            }<a name="line.462"></a>
<FONT color="green">463</FONT>                            <a name="line.463"></a>
<FONT color="green">464</FONT>                            public static VIDEO_STATUS fromString(String s) {<a name="line.464"></a>
<FONT color="green">465</FONT>                                    for (VIDEO_STATUS p : lookup.values()) {<a name="line.465"></a>
<FONT color="green">466</FONT>                                            if (p.toString() == s) {<a name="line.466"></a>
<FONT color="green">467</FONT>                                                    return p;<a name="line.467"></a>
<FONT color="green">468</FONT>                                            }<a name="line.468"></a>
<FONT color="green">469</FONT>                                    }<a name="line.469"></a>
<FONT color="green">470</FONT>                                    return null;<a name="line.470"></a>
<FONT color="green">471</FONT>                            }<a name="line.471"></a>
<FONT color="green">472</FONT>                    }<a name="line.472"></a>
<FONT color="green">473</FONT>                    <a name="line.473"></a>
<FONT color="green">474</FONT>                    /**<a name="line.474"></a>
<FONT color="green">475</FONT>                     */<a name="line.475"></a>
<FONT color="green">476</FONT>                    public enum DTMF {<a name="line.476"></a>
<FONT color="green">477</FONT>                    <a name="line.477"></a>
<FONT color="green">478</FONT>                            /** */<a name="line.478"></a>
<FONT color="green">479</FONT>                            DTMF_0(0),<a name="line.479"></a>
<FONT color="green">480</FONT>                            <a name="line.480"></a>
<FONT color="green">481</FONT>                            /** */<a name="line.481"></a>
<FONT color="green">482</FONT>                            DTMF_1(1),<a name="line.482"></a>
<FONT color="green">483</FONT>                            <a name="line.483"></a>
<FONT color="green">484</FONT>                            /** */<a name="line.484"></a>
<FONT color="green">485</FONT>                            DTMF_2(2),<a name="line.485"></a>
<FONT color="green">486</FONT>                            <a name="line.486"></a>
<FONT color="green">487</FONT>                            /** */<a name="line.487"></a>
<FONT color="green">488</FONT>                            DTMF_3(3),<a name="line.488"></a>
<FONT color="green">489</FONT>                            <a name="line.489"></a>
<FONT color="green">490</FONT>                            /** */<a name="line.490"></a>
<FONT color="green">491</FONT>                            DTMF_4(4),<a name="line.491"></a>
<FONT color="green">492</FONT>                            <a name="line.492"></a>
<FONT color="green">493</FONT>                            /** */<a name="line.493"></a>
<FONT color="green">494</FONT>                            DTMF_5(5),<a name="line.494"></a>
<FONT color="green">495</FONT>                            <a name="line.495"></a>
<FONT color="green">496</FONT>                            /** */<a name="line.496"></a>
<FONT color="green">497</FONT>                            DTMF_6(6),<a name="line.497"></a>
<FONT color="green">498</FONT>                            <a name="line.498"></a>
<FONT color="green">499</FONT>                            /** */<a name="line.499"></a>
<FONT color="green">500</FONT>                            DTMF_7(7),<a name="line.500"></a>
<FONT color="green">501</FONT>                            <a name="line.501"></a>
<FONT color="green">502</FONT>                            /** */<a name="line.502"></a>
<FONT color="green">503</FONT>                            DTMF_8(8),<a name="line.503"></a>
<FONT color="green">504</FONT>                            <a name="line.504"></a>
<FONT color="green">505</FONT>                            /** */<a name="line.505"></a>
<FONT color="green">506</FONT>                            DTMF_9(9),<a name="line.506"></a>
<FONT color="green">507</FONT>                            <a name="line.507"></a>
<FONT color="green">508</FONT>                            /** */<a name="line.508"></a>
<FONT color="green">509</FONT>                            DTMF_STAR(10),<a name="line.509"></a>
<FONT color="green">510</FONT>                            <a name="line.510"></a>
<FONT color="green">511</FONT>                            /** */<a name="line.511"></a>
<FONT color="green">512</FONT>                            DTMF_POUND(11);<a name="line.512"></a>
<FONT color="green">513</FONT>                            <a name="line.513"></a>
<FONT color="green">514</FONT>                            private static final Map&lt;Integer,DTMF&gt; lookup = new HashMap&lt;Integer,DTMF&gt;();<a name="line.514"></a>
<FONT color="green">515</FONT>                            <a name="line.515"></a>
<FONT color="green">516</FONT>                            static {<a name="line.516"></a>
<FONT color="green">517</FONT>                                    for(DTMF s : EnumSet.allOf(DTMF.class))<a name="line.517"></a>
<FONT color="green">518</FONT>                                            lookup.put(s.getId(), s);<a name="line.518"></a>
<FONT color="green">519</FONT>                            }<a name="line.519"></a>
<FONT color="green">520</FONT>                            <a name="line.520"></a>
<FONT color="green">521</FONT>                            private final int id;<a name="line.521"></a>
<FONT color="green">522</FONT>                            <a name="line.522"></a>
<FONT color="green">523</FONT>                            private DTMF(int value) {<a name="line.523"></a>
<FONT color="green">524</FONT>                                    this.id = value;<a name="line.524"></a>
<FONT color="green">525</FONT>                            }<a name="line.525"></a>
<FONT color="green">526</FONT>                            <a name="line.526"></a>
<FONT color="green">527</FONT>                            public int getId() { return id; }<a name="line.527"></a>
<FONT color="green">528</FONT>                            <a name="line.528"></a>
<FONT color="green">529</FONT>                            public static DTMF get(int code) {<a name="line.529"></a>
<FONT color="green">530</FONT>                                    return lookup.get(code);<a name="line.530"></a>
<FONT color="green">531</FONT>                            }<a name="line.531"></a>
<FONT color="green">532</FONT>                            <a name="line.532"></a>
<FONT color="green">533</FONT>                            public static DTMF fromString(String s) {<a name="line.533"></a>
<FONT color="green">534</FONT>                                    for (DTMF p : lookup.values()) {<a name="line.534"></a>
<FONT color="green">535</FONT>                                            if (p.toString() == s) {<a name="line.535"></a>
<FONT color="green">536</FONT>                                                    return p;<a name="line.536"></a>
<FONT color="green">537</FONT>                                            }<a name="line.537"></a>
<FONT color="green">538</FONT>                                    }<a name="line.538"></a>
<FONT color="green">539</FONT>                                    return null;<a name="line.539"></a>
<FONT color="green">540</FONT>                            }<a name="line.540"></a>
<FONT color="green">541</FONT>                    }<a name="line.541"></a>
<FONT color="green">542</FONT>                    <a name="line.542"></a>
<FONT color="green">543</FONT>                    /**<a name="line.543"></a>
<FONT color="green">544</FONT>                     *Checks whether the current user can set this Participant's conversation privileges to the specified RANK. This enables you to gray out or disable in your UI all the unavailable options for Participant.SetRankTo method. &lt;br&gt;<a name="line.544"></a>
<FONT color="green">545</FONT>                     * @param rank Participant.RANK value to check for. &lt;br&gt;<a name="line.545"></a>
<FONT color="green">546</FONT>                     * @return result Returns true if local user can set participant's rank to the value given in rank argument. &lt;br&gt;<a name="line.546"></a>
<FONT color="green">547</FONT>                     */<a name="line.547"></a>
<FONT color="green">548</FONT>                    public boolean CanSetRankTo( RANK rank) {<a name="line.548"></a>
<FONT color="green">549</FONT>                    <a name="line.549"></a>
<FONT color="green">550</FONT>                            Request request = null;<a name="line.550"></a>
<FONT color="green">551</FONT>                            try {<a name="line.551"></a>
<FONT color="green">552</FONT>                                    request = new XCallRequest(19,1);<a name="line.552"></a>
<FONT color="green">553</FONT>                            } catch (IOException e) {<a name="line.553"></a>
<FONT color="green">554</FONT>                                    e.printStackTrace();<a name="line.554"></a>
<FONT color="green">555</FONT>                                    if (skype.errorListener != null)<a name="line.555"></a>
<FONT color="green">556</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.556"></a>
<FONT color="green">557</FONT>                            }<a name="line.557"></a>
<FONT color="green">558</FONT>                            request.addParm('O',0,mObjectId);<a name="line.558"></a>
<FONT color="green">559</FONT>                            request.addParm('e',1,rank.getId());<a name="line.559"></a>
<FONT color="green">560</FONT>                            <a name="line.560"></a>
<FONT color="green">561</FONT>                            Response r = skype.XCall((XCallRequest)request);<a name="line.561"></a>
<FONT color="green">562</FONT>                            <a name="line.562"></a>
<FONT color="green">563</FONT>                            if (r.isErrCall())<a name="line.563"></a>
<FONT color="green">564</FONT>                                    return false;<a name="line.564"></a>
<FONT color="green">565</FONT>                                    <a name="line.565"></a>
<FONT color="green">566</FONT>                            boolean result = false;<a name="line.566"></a>
<FONT color="green">567</FONT>                            result = r.GetAsBoolean(1);<a name="line.567"></a>
<FONT color="green">568</FONT>                            return result;<a name="line.568"></a>
<FONT color="green">569</FONT>                    }<a name="line.569"></a>
<FONT color="green">570</FONT>                    <a name="line.570"></a>
<FONT color="green">571</FONT>                    /**<a name="line.571"></a>
<FONT color="green">572</FONT>                     *Sets Participant's conversation privileges to the given RANK &lt;br&gt;<a name="line.572"></a>
<FONT color="green">573</FONT>                     * @param rank Target Participant.RANK value. &lt;br&gt;<a name="line.573"></a>
<FONT color="green">574</FONT>                     */<a name="line.574"></a>
<FONT color="green">575</FONT>                    public void SetRankTo( RANK rank) {<a name="line.575"></a>
<FONT color="green">576</FONT>                    <a name="line.576"></a>
<FONT color="green">577</FONT>                            Request request = null;<a name="line.577"></a>
<FONT color="green">578</FONT>                            try {<a name="line.578"></a>
<FONT color="green">579</FONT>                                    request = new XCallRequest(19,2);<a name="line.579"></a>
<FONT color="green">580</FONT>                            } catch (IOException e) {<a name="line.580"></a>
<FONT color="green">581</FONT>                                    e.printStackTrace();<a name="line.581"></a>
<FONT color="green">582</FONT>                                    if (skype.errorListener != null)<a name="line.582"></a>
<FONT color="green">583</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.583"></a>
<FONT color="green">584</FONT>                            }<a name="line.584"></a>
<FONT color="green">585</FONT>                            request.addParm('O',0,mObjectId);<a name="line.585"></a>
<FONT color="green">586</FONT>                            request.addParm('e',1,rank.getId());<a name="line.586"></a>
<FONT color="green">587</FONT>                            <a name="line.587"></a>
<FONT color="green">588</FONT>                            skype.XCall((XCallRequest)request);<a name="line.588"></a>
<FONT color="green">589</FONT>                    }<a name="line.589"></a>
<FONT color="green">590</FONT>                    <a name="line.590"></a>
<FONT color="green">591</FONT>                    /**<a name="line.591"></a>
<FONT color="green">592</FONT>                     *Initiates live conversation attempt with Participant. &lt;br&gt;<a name="line.592"></a>
<FONT color="green">593</FONT>                     * @param identityToUse Ring an alternate identity, such as a PSTN number. &lt;br&gt;<a name="line.593"></a>
<FONT color="green">594</FONT>                     * @param videoCall Enable video. &lt;br&gt;<a name="line.594"></a>
<FONT color="green">595</FONT>                     * @param nrofRedials Unused. &lt;br&gt;<a name="line.595"></a>
<FONT color="green">596</FONT>                     * @param redialPeriod Unused. &lt;br&gt;<a name="line.596"></a>
<FONT color="green">597</FONT>                     * @param autoStartVM Unused. On dialog, if falling on VM, greeting and recording will be automatically started. &lt;br&gt;<a name="line.597"></a>
<FONT color="green">598</FONT>                     * @param origin When call is initiated from web link, must contain the URI that was used<a name="line.598"></a>
<FONT color="green">599</FONT>                     */<a name="line.599"></a>
<FONT color="green">600</FONT>                    public void Ring( String identityToUse, boolean videoCall, int nrofRedials, int redialPeriod, boolean autoStartVM, String origin) {<a name="line.600"></a>
<FONT color="green">601</FONT>                    <a name="line.601"></a>
<FONT color="green">602</FONT>                            Request request = null;<a name="line.602"></a>
<FONT color="green">603</FONT>                            try {<a name="line.603"></a>
<FONT color="green">604</FONT>                                    request = new XCallRequest(19,3);<a name="line.604"></a>
<FONT color="green">605</FONT>                            } catch (IOException e) {<a name="line.605"></a>
<FONT color="green">606</FONT>                                    e.printStackTrace();<a name="line.606"></a>
<FONT color="green">607</FONT>                                    if (skype.errorListener != null)<a name="line.607"></a>
<FONT color="green">608</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.608"></a>
<FONT color="green">609</FONT>                            }<a name="line.609"></a>
<FONT color="green">610</FONT>                            request.addParm('O',0,mObjectId);<a name="line.610"></a>
<FONT color="green">611</FONT>                            request.addParm('S',1,identityToUse);<a name="line.611"></a>
<FONT color="green">612</FONT>                            request.addParm('b',2,videoCall);<a name="line.612"></a>
<FONT color="green">613</FONT>                            request.addParm('u',3,nrofRedials);<a name="line.613"></a>
<FONT color="green">614</FONT>                            request.addParm('u',4,redialPeriod);<a name="line.614"></a>
<FONT color="green">615</FONT>                            request.addParm('b',5,autoStartVM);<a name="line.615"></a>
<FONT color="green">616</FONT>                            request.addParm('S',6,origin);<a name="line.616"></a>
<FONT color="green">617</FONT>                            <a name="line.617"></a>
<FONT color="green">618</FONT>                            skype.XCall((XCallRequest)request);<a name="line.618"></a>
<FONT color="green">619</FONT>                    }<a name="line.619"></a>
<FONT color="green">620</FONT>                    <a name="line.620"></a>
<FONT color="green">621</FONT>                    /**<a name="line.621"></a>
<FONT color="green">622</FONT>                     *Rings this participant, using P_LIVE_IDENTITY property if set. &lt;br&gt;<a name="line.622"></a>
<FONT color="green">623</FONT>                     */<a name="line.623"></a>
<FONT color="green">624</FONT>                    public void RingIt() {<a name="line.624"></a>
<FONT color="green">625</FONT>                    <a name="line.625"></a>
<FONT color="green">626</FONT>                            Request request = null;<a name="line.626"></a>
<FONT color="green">627</FONT>                            try {<a name="line.627"></a>
<FONT color="green">628</FONT>                                    request = new XCallRequest(19,8);<a name="line.628"></a>
<FONT color="green">629</FONT>                            } catch (IOException e) {<a name="line.629"></a>
<FONT color="green">630</FONT>                                    e.printStackTrace();<a name="line.630"></a>
<FONT color="green">631</FONT>                                    if (skype.errorListener != null)<a name="line.631"></a>
<FONT color="green">632</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.632"></a>
<FONT color="green">633</FONT>                            }<a name="line.633"></a>
<FONT color="green">634</FONT>                            request.addParm('O',0,mObjectId);<a name="line.634"></a>
<FONT color="green">635</FONT>                            <a name="line.635"></a>
<FONT color="green">636</FONT>                            skype.XCall((XCallRequest)request);<a name="line.636"></a>
<FONT color="green">637</FONT>                    }<a name="line.637"></a>
<FONT color="green">638</FONT>                    <a name="line.638"></a>
<FONT color="green">639</FONT>                    /**<a name="line.639"></a>
<FONT color="green">640</FONT>                     *Sets LIVE_IDENTITY property, an alternate identity to use when ringing, such as a PSTN. &lt;br&gt;<a name="line.640"></a>
<FONT color="green">641</FONT>                     * @param identityToUse Empty string will reset it to default, i.e IDENTITY property value &lt;br&gt;<a name="line.641"></a>
<FONT color="green">642</FONT>                     */<a name="line.642"></a>
<FONT color="green">643</FONT>                    public void SetLiveIdentityToUse( String identityToUse) {<a name="line.643"></a>
<FONT color="green">644</FONT>                    <a name="line.644"></a>
<FONT color="green">645</FONT>                            Request request = null;<a name="line.645"></a>
<FONT color="green">646</FONT>                            try {<a name="line.646"></a>
<FONT color="green">647</FONT>                                    request = new XCallRequest(19,7);<a name="line.647"></a>
<FONT color="green">648</FONT>                            } catch (IOException e) {<a name="line.648"></a>
<FONT color="green">649</FONT>                                    e.printStackTrace();<a name="line.649"></a>
<FONT color="green">650</FONT>                                    if (skype.errorListener != null)<a name="line.650"></a>
<FONT color="green">651</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.651"></a>
<FONT color="green">652</FONT>                            }<a name="line.652"></a>
<FONT color="green">653</FONT>                            request.addParm('O',0,mObjectId);<a name="line.653"></a>
<FONT color="green">654</FONT>                            request.addParm('S',1,identityToUse);<a name="line.654"></a>
<FONT color="green">655</FONT>                            <a name="line.655"></a>
<FONT color="green">656</FONT>                            skype.XCall((XCallRequest)request);<a name="line.656"></a>
<FONT color="green">657</FONT>                    }<a name="line.657"></a>
<FONT color="green">658</FONT>                    <a name="line.658"></a>
<FONT color="green">659</FONT>                    /**<a name="line.659"></a>
<FONT color="green">660</FONT>                     *Retrieves a reference to the Video object that corresponds to the Participant. It can be either local video - you can check if this participant's name (P_IDENTITY property) matches the name of the currently logged in account (P_SKYPENAME property) or incoming video from a remote participant.  &lt;br&gt;&lt;br&gt;Note that for GetVideo to be successful, the video has to be available for that participant. This can be checked for by examining Participant VIDEO_STATUS property - once it becomes VIDEO_AVAILABLE - you can use GetVideo to obtain the Video object. &lt;br&gt;<a name="line.660"></a>
<FONT color="green">661</FONT>                     * @return video Returns reference to a constructed video object. &lt;br&gt;<a name="line.661"></a>
<FONT color="green">662</FONT>                     */<a name="line.662"></a>
<FONT color="green">663</FONT>                    public Video GetVideo() {<a name="line.663"></a>
<FONT color="green">664</FONT>                    <a name="line.664"></a>
<FONT color="green">665</FONT>                            Request request = null;<a name="line.665"></a>
<FONT color="green">666</FONT>                            try {<a name="line.666"></a>
<FONT color="green">667</FONT>                                    request = new XCallRequest(19,4);<a name="line.667"></a>
<FONT color="green">668</FONT>                            } catch (IOException e) {<a name="line.668"></a>
<FONT color="green">669</FONT>                                    e.printStackTrace();<a name="line.669"></a>
<FONT color="green">670</FONT>                                    if (skype.errorListener != null)<a name="line.670"></a>
<FONT color="green">671</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.671"></a>
<FONT color="green">672</FONT>                            }<a name="line.672"></a>
<FONT color="green">673</FONT>                            request.addParm('O',0,mObjectId);<a name="line.673"></a>
<FONT color="green">674</FONT>                            <a name="line.674"></a>
<FONT color="green">675</FONT>                            Response r = skype.XCall((XCallRequest)request);<a name="line.675"></a>
<FONT color="green">676</FONT>                            <a name="line.676"></a>
<FONT color="green">677</FONT>                            if (r.isErrCall())<a name="line.677"></a>
<FONT color="green">678</FONT>                                    return null;<a name="line.678"></a>
<FONT color="green">679</FONT>                                    <a name="line.679"></a>
<FONT color="green">680</FONT>                            int oid = 0;<a name="line.680"></a>
<FONT color="green">681</FONT>                            Video video = null;<a name="line.681"></a>
<FONT color="green">682</FONT>                            oid = r.GetOid(1);<a name="line.682"></a>
<FONT color="green">683</FONT>                            if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.683"></a>
<FONT color="green">684</FONT>                                    video = (Video)skype.factory(Video.moduleID(), oid, skype);<a name="line.684"></a>
<FONT color="green">685</FONT>                            }<a name="line.685"></a>
<FONT color="green">686</FONT>                            return video;<a name="line.686"></a>
<FONT color="green">687</FONT>                    }<a name="line.687"></a>
<FONT color="green">688</FONT>                    <a name="line.688"></a>
<FONT color="green">689</FONT>                    /**<a name="line.689"></a>
<FONT color="green">690</FONT>                     *Removes this participant from the current live session. Note that this does not remove the participant from conversation (for this, use Participant.Retire). It only removes participant from live state. &lt;br&gt;<a name="line.690"></a>
<FONT color="green">691</FONT>                     */<a name="line.691"></a>
<FONT color="green">692</FONT>                    public void Hangup() {<a name="line.692"></a>
<FONT color="green">693</FONT>                    <a name="line.693"></a>
<FONT color="green">694</FONT>                            Request request = null;<a name="line.694"></a>
<FONT color="green">695</FONT>                            try {<a name="line.695"></a>
<FONT color="green">696</FONT>                                    request = new XCallRequest(19,5);<a name="line.696"></a>
<FONT color="green">697</FONT>                            } catch (IOException e) {<a name="line.697"></a>
<FONT color="green">698</FONT>                                    e.printStackTrace();<a name="line.698"></a>
<FONT color="green">699</FONT>                                    if (skype.errorListener != null)<a name="line.699"></a>
<FONT color="green">700</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.700"></a>
<FONT color="green">701</FONT>                            }<a name="line.701"></a>
<FONT color="green">702</FONT>                            request.addParm('O',0,mObjectId);<a name="line.702"></a>
<FONT color="green">703</FONT>                            <a name="line.703"></a>
<FONT color="green">704</FONT>                            skype.XCall((XCallRequest)request);<a name="line.704"></a>
<FONT color="green">705</FONT>                    }<a name="line.705"></a>
<FONT color="green">706</FONT>                    <a name="line.706"></a>
<FONT color="green">707</FONT>                    /**<a name="line.707"></a>
<FONT color="green">708</FONT>                     *Forcibly removes this participant from conversation. This method is for removing other people from conversations (for example: as administrative punishment for flooding conversation with spam messages). For local user to leave a conversation, use Conversation.RetireFrom instead. &lt;br&gt;<a name="line.708"></a>
<FONT color="green">709</FONT>                     */<a name="line.709"></a>
<FONT color="green">710</FONT>                    public void Retire() {<a name="line.710"></a>
<FONT color="green">711</FONT>                    <a name="line.711"></a>
<FONT color="green">712</FONT>                            Request request = null;<a name="line.712"></a>
<FONT color="green">713</FONT>                            try {<a name="line.713"></a>
<FONT color="green">714</FONT>                                    request = new XCallRequest(19,6);<a name="line.714"></a>
<FONT color="green">715</FONT>                            } catch (IOException e) {<a name="line.715"></a>
<FONT color="green">716</FONT>                                    e.printStackTrace();<a name="line.716"></a>
<FONT color="green">717</FONT>                                    if (skype.errorListener != null)<a name="line.717"></a>
<FONT color="green">718</FONT>                                            skype.errorListener.OnSkypeKitFatalError();<a name="line.718"></a>
<FONT color="green">719</FONT>                            }<a name="line.719"></a>
<FONT color="green">720</FONT>                            request.addParm('O',0,mObjectId);<a name="line.720"></a>
<FONT color="green">721</FONT>                            <a name="line.721"></a>
<FONT color="green">722</FONT>                            skype.XCall((XCallRequest)request);<a name="line.722"></a>
<FONT color="green">723</FONT>                    }<a name="line.723"></a>
<FONT color="green">724</FONT>                    <a name="line.724"></a>
<FONT color="green">725</FONT>            <a name="line.725"></a>
<FONT color="green">726</FONT>            }<a name="line.726"></a>




























































</PRE>
</BODY>
</HTML>
